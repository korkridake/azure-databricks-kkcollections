!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("../acl/WorkspaceAcl"),g=a("../constants/WorkspacePermissions"),h={fetchPermissions:function(a){this.fetchPermissionLevel(function(){this.getPermissionLevel()===g.MANAGE?this.fetchWorkspaceAcl(a):a&&a.call(this)})},_onFetchSuccessCallbacks:[],onPermissionFetchSuccess:function(a){this._onFetchSuccessCallbacks.push(a)},fetchPermissionLevel:function(a){window.settings&&window.settings.enableWorkspaceAclService&&d.ajax({url:"/workspaceAcl/"+this.id+"/list",type:"GET",context:this,success:function(b){this.set({permissionLevel:g.fromActions(b)}),a&&a.call(this),e.each(this._onFetchSuccessCallbacks,function(a){a.call(this)},this)},error:function(){console.error("failed to fetch permissions for node "+this.id)}})},fetchWorkspaceAcl:function(a){if(window.settings&&window.settings.enableWorkspaceAclService){var b=new f({id:this.id,name:this.get("name"),model:this});b.fetch({success:function(b){this.set({workspaceAcl:b}),a&&a.call(this)}.bind(this)})}},getPermissionLevel:function(){return this.get("permissionLevel")?this.get("permissionLevel"):g.NONE},canView:function(){return g.canView(this.getPermissionLevel())},canEdit:function(){return g.canEdit(this.getPermissionLevel())},canManage:function(){return g.canManage(this.getPermissionLevel())}};b.exports=h},{"../acl/WorkspaceAcl":5,"../constants/WorkspacePermissions":18,jquery:164,underscore:365}],2:[function(a,b,c){"use strict";var d=a("underscore"),e=a("react/addons"),f=a("../acl/PermissionList.jsx"),g=a("../acl/WorkspaceAcl"),h=a("../constants/WorkspacePermissions"),i=a("../helpers/ReactModal.jsx"),j=a("../helpers/ReactModalUtils"),k=e.createClass({displayName:"MovePermissionPreview",propTypes:{workspaceAcl:e.PropTypes.instanceOf(g).isRequired,previewWorkspaceAcl:e.PropTypes.instanceOf(g).isRequired,onConfirm:e.PropTypes.func},_confirm:function(){this.props.onConfirm&&this.props.onConfirm(),this._destroyModal()},_destroyModal:function(){j.destroyModal()},_getFooter:function(){return e.createElement("div",null,e.createElement("a",{className:"btn",onClick:this._destroyModal},"Cancel"),e.createElement("a",{className:"btn btn-primary confirm-button",onClick:this._confirm},"Confirm and Move"))},_setAffectedUsers:function(a,b){d.each(a,function(a){var c=a.user.id,e=d.find(b,function(a){return a.user.id===c}),f=h.getCurrentPermission(a),g=h.getCurrentPermission(e);f!==g&&c!==window.settings.userId?(a.affected=!0,e.affected=!0):(a.affected=!1,e.affected=!1)})},render:function(){var a=this.props.workspaceAcl.currentPermissions(),b=this.props.previewWorkspaceAcl.currentPermissions();this._setAffectedUsers(a,b),a=d.filter(a,function(a){return a.affected}),b=d.filter(b,function(a){return a.affected});var c=e.createElement("h4",null,"Permissions changes after moving:",e.createElement("p",{className:"title"},this.props.workspaceAcl.get("name"))),g=e.createElement("div",{className:"preview-lists-wrapper"},e.createElement("div",{className:"permission-list current"},e.createElement("p",{className:"user-list-title"},"Current Permissions:"),e.createElement(f,{ref:"userList",permissions:a,node:this.props.workspaceAcl.get("model"),viewOnly:!0})),e.createElement("div",{className:"permission-list after"},e.createElement("p",{className:"user-list-title"},"Permissions after move:"),e.createElement(f,{ref:"userList",permissions:b,node:this.props.previewWorkspaceAcl.get("model"),viewOnly:!0})));return e.createElement(i,{modalName:"workspace-acl",classes:"move-preview",header:c,body:g,footer:this._getFooter()})}});b.exports=k},{"../acl/PermissionList.jsx":3,"../acl/WorkspaceAcl":5,"../constants/WorkspacePermissions":18,"../helpers/ReactModal.jsx":50,"../helpers/ReactModalUtils":51,"react/addons":188,underscore:365}],3:[function(a,b,c){"use strict";var d=a("underscore"),e=a("react/addons"),f=a("../acl/PermissionSelection.jsx"),g=a("../constants/WorkspacePermissions"),h=a("../helpers/NavFunc"),i=e.addons.classSet,j=e.createClass({displayName:"PermissionList",propTypes:{permissions:e.PropTypes.array.isRequired,setPermission:e.PropTypes.func,node:e.PropTypes.object,viewOnly:e.PropTypes.bool},getDefaultProps:function(){return{viewOnly:!1,setPermission:function(){}}},setPermission:function(a,b){this.props.setPermission(a,g.toActions(b))},clearPermission:function(a){this.props.setPermission(a,[])},render:function(){var a=d.sortBy(this.props.permissions,function(a){var b=a.user.fullName.trim();return a.affected?b.toUpperCase():b.toLowerCase()});return e.createElement("div",{className:"acl-user-list"},d.map(a,function(a){var b="group"===a.user.kind?"fa-users":"fa-user",c="group"===a.user.kind?"group":a.user.username,j=i({"acl-user":!0,changed:a.changed||a.affected}),k=this.props.node,l=g.getCurrentPermission(a),m=g.getInheritedPermission(a,k.id),n=g.getInheritedSourceIds(a,k.id),o=m!==g.NONE,p=0===k.id&&"group"===a.user.kind&&"admins"===a.user.username,q=h.isHomeFolderForUser(k,a.user.id),r=p||q||this.props.viewOnly,s=o||r?null:e.createElement("div",{className:"acl-user-control"},e.createElement("a",{"data-action":"remove",onClick:this.clearPermission.bind(this,a.user.id)},e.createElement("i",{className:"fa fa-times"})));return e.createElement("div",{className:j,"data-user":a.user.username,key:a.user.id,ref:a.user.id},e.createElement("div",{className:"acl-user-name",title:a.user.username},e.createElement("i",{className:"fa fa-fw "+b})," ",a.user.fullName,e.createElement("span",{className:"user-email"},"(",c,")")),e.createElement("div",{className:"acl-user-permission"},e.createElement(f,{principalName:a.user.fullName,nodeType:k.get("type"),currentPermission:l,inheritedPermission:m,inheritedSourceIds:n,onChange:d.partial(this.setPermission,a.user.id),disabled:r})),s)},this))}});b.exports=j},{"../acl/PermissionSelection.jsx":4,"../constants/WorkspacePermissions":18,"../helpers/NavFunc":46,"react/addons":188,underscore:365}],4:[function(a,b,c){"use strict";var d=a("underscore"),e=a("react/addons"),f=a("../constants/WorkspacePermissions"),g=a("../helpers/NavFunc"),h=a("../helpers/Tooltip.jsx"),i=e.createClass({displayName:"PermissionSelection",propTypes:{principalName:e.PropTypes.string,nodeType:e.PropTypes.string,inheritedPermission:e.PropTypes.string,inheritedSourceIds:e.PropTypes.array,currentPermission:e.PropTypes.string.isRequired,onChange:e.PropTypes.func.isRequired,disabled:e.PropTypes.bool,showPermissionDescriptions:e.PropTypes.bool,hideNoPermissionsOption:e.PropTypes.bool},getDefaultProps:function(){return{inheritedPermission:f.NONE,inheritedSourceIds:[]}},getInitialState:function(){return{value:this.props.currentPermission}},componentWillReceiveProps:function(a){this.setState({value:a.currentPermission})},onChange:function(a){var b=a.target.value;this.setState({value:b}),this.props.onChange(b)},getPermissionOptions:function(){var a=d.clone(f.ALL_PERMISSIONS);if(this.props.hideNoPermissionsOption&&(a=d.clone(f.ALL_PERMISSIONS_WITHOUT_NONE)),this.props.inheritedPermission!==f.NONE)for(;a.length>0&&a[0]!==this.props.inheritedPermission;)a.shift();return d.map(a,function(a){return e.createElement("option",{key:a,value:a},a)})},render:function(){var a=[];if(this.props.showPermissionDescriptions){for(var b in f.ALL_PERMISSIONS_WITHOUT_NONE){var c=f.ALL_PERMISSIONS_WITHOUT_NONE[b];a.push(e.createElement("span",{key:c},e.createElement("i",null,c)," - ",f.permissionToDescription(c,this.props.nodeType,this.props.principalName),e.createElement("span",{key:b},e.createElement("br",null),e.createElement("br",null))))}var i=f.DB_GUIDE_URL;a.push(e.createElement("span",{key:"link"},"See the ",e.createElement("a",{target:"_blank",href:i},"Databricks Guide")," to learn more."))}if(this.props.inheritedSourceIds.length>0){var j=d.map(this.props.inheritedSourceIds,function(a){var b=g.getFullPath(a);return"/"===b&&(b="Workspace Root: /"),e.createElement("i",null,b)});if(j.length>1){var k=j.pop();j.length>1&&(j=d.flatten(d.map(j,function(a){return[a,", "]}))),j.push(" and ",k)}this.props.disabled?a.push(e.createElement("span",{key:"disabled:"+j},"Some permissions are inherited from ",j,". To remove these permissions, change the permissions of these folders first.")):a.push(e.createElement("span",{key:"inherited:"+j},"Some permissions cannot be removed because they are inherited from ",j,". To remove these permissions, change the permissions of these folders first."))}var l=null;return a.length>0&&(l=e.createElement(h,{text:a},e.createElement("i",{className:"fa fa-question-circle help-icon"}))),e.createElement("div",{className:"permission-selection"},e.createElement("select",{value:this.state.value,onChange:this.onChange,disabled:this.props.disabled?!0:null},this.getPermissionOptions()),l)}});b.exports=i},{"../constants/WorkspacePermissions":18,"../helpers/NavFunc":46,"../helpers/Tooltip.jsx":54,"react/addons":188,underscore:365}],5:[function(a,b,c){"use strict";var d=a("jquery"),e=a("backbone"),f=a("underscore");e.$=a("jquery");var g=a("../constants/WorkspacePermissions"),h=e.Model.extend({urlRoot:"/workspaceAcl",url:function(){return this.get("moveTargetId")?this.urlRoot+"/"+this.get("id")+"/moveEffective/"+this.get("moveTargetId"):this.urlRoot+"/"+this.get("id")+"/listEffective"},defaults:{id:null,moveTargetId:null,permissions:[],changes:{}},_mergePermissions:function(a,b){var c=[];return f.each(g.ALL_ACTIONS,function(d){var e,g=f.contains(b,d),h=f.find(a,function(a){return a.permission===d}),i=!f.isUndefined(h);(g||i)&&(g&&!i?c.push({permission:d,sourceIds:[this.id]}):g&&i?(e=f.union(h.sourceIds,[this.id]),c.push({permission:d,sourceIds:e})):(e=f.difference(h.sourceIds,[this.id]),e.length>0&&c.push({permission:d,sourceIds:e})))},this),c},currentPermissions:function(){return f.map(this.get("permissions"),function(a){var b=a.user.id,c=this.get("changes")[b];return f.isNull(c)||f.isUndefined(c)?{user:a.user,permission:a.permission,changed:!1}:{user:a.user,permission:this._mergePermissions(a.permission,c),changed:!0}},this)},setPermission:function(a,b){var c=f.clone(this.get("changes"));c[String(a)]=b,this.set({changes:c})},resetChanges:function(a){var b=f.omit(this.get("changes"),String(a));this.set({changes:b})},resetAllChanges:function(){this.set({changes:{}})},hasChanges:function(){return!f.isEmpty(this.get("changes"))},hasRemovedManagePermission:function(){if(window.settings&&window.settings.isAdmin)return!1;var a=this.getUserCurrentPermission(),b=this.getUsersGroupCurrentPermission();return a!==g.MANAGE&&b!==g.MANAGE},commit:function(a){var b=this,c={type:"set",permissions:this.get("changes")};d.ajax({type:"POST",url:this.urlRoot+"/"+this.get("id"),data:JSON.stringify(c),success:function(){a.sync&&(b.set({changes:{}}),b.fetch()),a.success&&a.success()},error:function(){a.error&&a.error()}})},isEqual:function(a,b){function c(a){var b=f.map(a,function(a){return{userId:a.user.id,permissions:f.map(a.permission,function(a){return a.permission}).sort()}});return f.sortBy(b,function(a){return a.userId})}b=b||{};var d=c(this.currentPermissions()),e=c(a.currentPermissions());if(b.ignoreCurrentUser){var g=window.settings&&window.settings.userId,h=function(a){return a.userId===g};d=f.reject(d,h),e=f.reject(e,h)}return f.isEqual(d,e)},_findCurrentPermission:function(a){var b=this.currentPermissions();return f.find(b,function(b){return b.user.username===a})},getUsersGroupCurrentPermission:function(){return g.getCurrentPermission(this._findCurrentPermission("users"))},getUserCurrentPermission:function(){return window.settings?g.getCurrentPermission(this._findCurrentPermission(window.settings.user)):void 0}});b.exports=h},{"../constants/WorkspacePermissions":18,backbone:151,jquery:164,underscore:365}],6:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=e.Collection.extend({startedWatching:!1,initialize:function(a,b){b&&(this.deltaPublisherRoot=b.deltaPublisherRoot,this.parent=b.parent)},url:function(){return"/tree/"+this.deltaPublisherRoot+"/immediate_children"},startWatching:function(){return this.deltaPublisherRoot?void(this.startedWatching||(this.fetchAndUpdate(),window.conn.setDataHandler("/"+this.deltaPublisherRoot+"/",d.bind(function(a){this.updateItem(a)},this)),this.startedWatching=!0)):void console.error("Delta publisher root not set: "+this.deltaPublisherRoot)},stopWatching:function(){this.startedWatching&&(this.startedWatching=!1,window.conn.removeDataHandler("/"+this.deltaPublisherRoot+"/"))},fetchAndUpdate:function(a){var b=this;e.sync("read",this,{success:function(c){b.updateCollection(b,c),a&&a.success&&a.success()},error:function(b){console.error(b),a&&a.failure&&a.failure()}})},updateCollection:function(a,b){d.each(b,function(a){this.setModelParent(a)},this),a.reset(b)},setModelParent:function(a){this.parent&&(a.parent=this.parent)},addItem:function(a){return this.setModelParent(a),this.add(a)},updateItem:function(a){var b,c=null;switch(a.deltaEvent){case"create":c=void 0!==a.guid?this.where({guid:a.guid}):this.where({id:a.id}),c.length>1?console.error("DELTA: Serious! seeing multiple items with the same id",c):1===c.length?(b=c[0],b.get("deltaVersion")>a.deltaVersion?console.warn("DELTA: Asked to add an existent item",a,b):c[0].set(a,{deltaEvent:"create"})):this.addItem(a);break;case"delete":if(b=this.get(a.id),void 0===b)return void console.warn("DELTA: Asked to delete a non-existent item",a);if(b.get("deltaVersion")>=a.deltaVersion)return void console.error("DELTA: Asked to delete a newer version",a,b);this.remove(a);break;case"update":if(b=this.get(a.id),void 0===b)return void console.warn("Delta update asked to update an item that doesn't exist",a);if(b.get("deltaVersion")>=a.deltaVersion)return void console.error("DELTA: Asked to update a newer version",a,b);b.set(a,{deltaEvent:"update"});break;case"full":c=a.guid?this.where({guid:a.guid}):this.where({id:a.id}),c.length>1?console.error("DELTA: Serious! seeing multiple items with the same id",c):1===c.length?(b=c[0],b.get("deltaVersion")>a.deltaVersion?console.warn("DELTA: Asked to add an existent item",a,b):a.guid&&a.guid!==b.get("guid")?console.error("Delta GUID does not match Model GUID!",a,b):b.id&&a.id!==b.id?console.error("Delta ID does not match Model ID!",a,b):b.set(a,{deltaEvent:"full"})):this.addItem(a)}}});b.exports=f},{backbone:151,underscore:365}],7:[function(a,b,c){"use strict";var d=a("d3"),e={COLOR_SCALE:d.scale.category10(),FONT_SIZE:13,LABEL_FONT_SIZE:15,LABEL_FONT_WEIGHT:500,DEFAULT_AUTO_HEIGHT:160,DEFAULT_AUTO_WIDTH:260};b.exports=e},{d3:152}],8:[function(a,b,c){"use strict";b.exports={ABW:"Aruba",AFG:"Afghanistan",AGO:"Angola",AIA:"Anguilla",ALA:"Åland Islands",ALB:"Albania",AND:"Andorra",ARE:"United Arab Emirates",ARG:"Argentina",ARM:"Armenia",ASM:"American Samoa",ATA:"Antarctica",ATF:"French S. and Antarctic Lands",ATG:"Antigua and Barbuda",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BDI:"Burundi",BEL:"Belgium",BEN:"Benin",BES:"Caribbean Netherlands",BFA:"Burkina Faso",BGD:"Bangladesh",BGR:"Bulgaria",BHR:"Bahrain",BHS:"The Bahamas",BIH:"Bosnia and Herzegovina",BLM:"Saint Barthélemy",BLR:"Belarus",BLZ:"Belize",BMU:"Bermuda",BOL:"Bolivia",BRA:"Brazil",BRB:"Barbados",BRN:"Brunei",BTN:"Bhutan",BVT:"Bouvet Island",BWA:"Botswana",CAF:"Central African Republic",CAN:"Canada",CCK:"Cocos Islands",CHE:"Switzerland",CHL:"Chile",CHN:"China",CIV:"Côte d'Ivoire",CMR:"Cameroon",COD:"Dem. Rep. Congo",COG:"Congo",COK:"Cook Islands",COL:"Colombia",COM:"Comoros",CPV:"Cape Verde",CRI:"Costa Rica",CUB:"Cuba",CUW:"Curaçao",CXR:"Christmas Island",CYM:"Cayman Islands",CYP:"Cyprus",CYN:"N. Cyprus",CZE:"Czech Republic",DEU:"Germany",DJI:"Djibouti",DMA:"Dominica",DNK:"Denmark",DOM:"Dominican Republic",DZA:"Algeria",ECU:"Ecuador",EGY:"Egypt",ERI:"Eritrea",ESH:"Western Sahara",ESP:"Spain",EST:"Estonia",ETH:"Ethiopia",FIN:"Finland",FJI:"Fiji",FLK:"Falkland Islands",FRA:"France",FRO:"Faroe Islands",FSM:"Fed. States of Micronesia",GAB:"Gabon",GBR:"United Kingdom",GEO:"Georgia",GGY:"Guernsey",GHA:"Ghana",GIB:"Gibraltar",GIN:"Guinea",GLP:"Guadeloupe",GMB:"Gambia",GNB:"Guinea-Bissau",GNQ:"Equatorial Guinea",GRC:"Greece",GRD:"Grenada",GRL:"Greenland",GTM:"Guatemala",GUF:"French Guiana",GUM:"Guam",GUY:"Guyana",HKG:"Hong Kong",HMD:"Heard Island and McDonald Islands",HND:"Honduras",HRV:"Croatia",HTI:"Haiti",HUN:"Hungary",IDN:"Indonesia",IMN:"Isle of Man",IND:"India",IOT:"British Indian Ocean Territory",IRL:"Ireland",IRN:"Iran",IRQ:"Iraq",ISL:"Iceland",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JEY:"Jersey",JOR:"Jordan",JPN:"Japan",KAZ:"Kazakhstan",KEN:"Kenya",KGZ:"Kyrgyzstan",KHM:"Cambodia",KIR:"Kiribati",KNA:"Saint Kitts and Nevis",KOR:"South Korea",KOS:"Kosovo",KWT:"Kuwait",LAO:"Laos",LBN:"Lebanon",LBR:"Liberia",LBY:"Libya",LCA:"Saint Lucia",LIE:"Liechtenstein",LKA:"Sri Lanka",LSO:"Lesotho",LTU:"Lithuania",LUX:"Luxembourg",LVA:"Latvia",MAC:"Macau",MAF:"Collectivity of Saint Martin",MAR:"Morocco",MCO:"Monaco",MDA:"Moldova",MDG:"Madagascar",MDV:"Maldives",MEX:"Mexico",MHL:"Marshall Islands",MKD:"Republic of Macedonia",MLI:"Mali",MLT:"Malta",MMR:"Myanmar",MNE:"Montenegro",MNG:"Mongolia",MNP:"Northern Mariana Islands",MOZ:"Mozambique",MRT:"Mauritania",MSR:"Montserrat",MTQ:"Martinique",MUS:"Mauritius",MWI:"Malawi",MYS:"Malaysia",MYT:"Mayotte",NAM:"Namibia",NCL:"New Caledonia",NER:"Niger",NFK:"Norfolk Island",NGA:"Nigeria",NIC:"Nicaragua",NIU:"Niue",NLD:"Netherlands",NOR:"Norway",NPL:"Nepal",NRU:"Nauru",NZL:"New Zealand",OMN:"Oman",PAK:"Pakistan",PAN:"Panama",PCN:"Pitcairn Islands",PER:"Peru",PHL:"Philippines",PLW:"Palau",PNG:"Papua New Guinea",POL:"Poland",PRI:"Puerto Rico",PRK:"North Korea",PRT:"Portugal",PRY:"Paraguay",PSE:"Palestine",PSX:"Palestine",PYF:"French Polynesia",QAT:"Qatar",REU:"Réunion",ROU:"Romania",RUS:"Russia",RWA:"Rwanda",SAH:"W. Sahara",SAU:"Saudi Arabia",SDN:"Sudan",SEN:"Senegal",SGP:"Singapore",SGS:"S. Georgia and the S. Sandwich Islands",SHN:"Saint Helena, Ascension and Tristan da Cunha",SJM:"Svalbard and Jan Mayen",SLB:"Solomon Islands",SLE:"Sierra Leone",SLV:"El Salvador",SMR:"San Marino",SOM:"Somalia",SOL:"Somaliland",SPM:"Saint Pierre and Miquelon",SRB:"Serbia",SSD:"S. Sudan",SDS:"S. Sudan",STP:"São Tomé and Príncipe",SUR:"Suriname",SVK:"Slovakia",SVN:"Slovenia",SWE:"Sweden",SWZ:"Swaziland",SXM:"Sint Maarten",SYC:"Seychelles",SYR:"Syria",TCA:"Turks and Caicos Islands",TCD:"Chad",TGO:"Togo",THA:"Thailand",TJK:"Tajikistan",TKL:"Tokelau",TKM:"Turkmenistan",TLS:"East Timor",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TUV:"Tuvalu",TWN:"Taiwan",TZA:"Tanzania",UGA:"Uganda",UKR:"Ukraine",UMI:"United States Minor Outlying Islands",URY:"Uruguay",USA:"United States",UZB:"Uzbekistan",VAT:"Vatican City",VCT:"Saint Vincent and the Grenadines",VEN:"Venezuela",VGB:"British Virgin Islands",VIR:"Virgin Islands, U.S.",VNM:"Vietnam",VUT:"Vanuatu",WES:"W. Sahara",WLF:"Wallis and Futuna",WSM:"Samoa",YEM:"Yemen",ZAF:"South Africa",ZMB:"Zambia",ZWE:"Zimbabwe"}},{}],9:[function(a,b,c){"use strict";var d={GRID_STEP:10,EDIT_MAX_BORDER_WIDTH:1200,EDIT_MAX_BORDER_HEIGHT:1600,EDIT_BORDER_WEIGHT:4,OPTION_BUTTON_HEIGHT:32,OVERFLOW_HEIGHT:20,SIDEBAR_WIDGET_HEIGHT:200,SIDEBAR_WIDGET_WIDTH:200,SIDEBAR_GRID_OFFSET:8,PRESENTATION_BOTTOM_RIGHT_MARGIN:10,WIDGET_RESIZE_HANDLE_WIDTH:5,WIDGET_RESIZE_HANDLE_HEIGHT:5,MIN_WIDGET_WIDTH:20,MIN_WIDGET_HEIGHT:20};b.exports=d},{}],10:[function(a,b,c){"use strict";var d={};d.DEFAULT_WIDTH=1024,d.NUMBER_OF_COLUMNS=24,d.CELL_HEIGHT_RATIO=1/d.NUMBER_OF_COLUMNS,d.CELL_VERTICAL_MARGIN=6,d.DEFAULT_ELEMENT_OPTIONS={autoScaleImg:!1},d.WIDTH_OPTIONS=[800,1024,1440,1600,1920,2048,2560,4e3],d.MAX_DASHBOARD_TITLE_LENGTH=40,d.DEFAULT_PAGE_RATIO=16/9,b.exports=d},{}],11:[function(a,b,c){"use strict";var d={error:"exclamation-circle",warning:"exclamation-triangle",success:"check-circle",folder:"folder-o",openFolder:"folder-open-o",table:"table",close:"remove",cached:"check",inProgress:"spinner fa-spin",shell:"file-text-o",dashboard:"bar-chart",library:"book",setting:"gear",help:"question",cluster:"sitemap",view:"picture-o",comments:"comments",github:"github",lock:"lock",example:"question",users:"users",shared:"share-alt-square",home:"home",userFolder:"folder",openUserFolder:"folder-open",history:"history",runAll:"play-circle-o",stopRunAll:"stop",chevronUp:"chevron-up",chevronDown:"chevron-down",document:"file-o",create:"plus"};b.exports=d},{}],12:[function(a,b,c){"use strict";var d={LINE_SPACING:1.45,DEF_FONT_SIZE:12,MIN_FONT_SIZE:8};b.exports=d},{}],13:[function(a,b,c){"use strict";var d={TYPE_US:1,TYPE_WORLD:2,SCALE_HEIGHT_WORLD_MERCATOR:.24,SCALE_WIDTH_WORLD_MERCATOR:.155,SCALE_HEIGHT_US_ALBERSUSA:2.08,SCALE_WIDTH_US_ALBERSUSA:1.25,MAX_TICKS:8,FILL_COLOR_SCALE:function(a){switch(a){case 0:return"#ccc";case 1:return"#B6DBEF";case 2:return"#9ECAE1";case 3:return"#6BAED6";case 4:return"#4292C6";case 5:return"#3181B5";case 6:return"#2171B5";case 7:return"#14519C";case 8:return"#10519C";default:return"#ccc"}},TEXT_COLOR_SCALE:function(a){switch(a){case 0:return"#666";case 1:return"#666";case 2:return"#666";case 3:return"#666";case 4:return"#eee";case 5:return"#eee";case 6:return"#eee";case 7:return"#eee";default:return"#666"}},LEGEND_BORDER:8,LABEL_FONT_SIZE:13};b.exports=d},{}],14:[function(a,b,c){"use strict";var d=a("d3"),e={MAX_NUM_PIES:4,CAT_10_SCALE:d.scale.category10(),COLOR_SCALE:function(a){return a===e.MAX_NUM_PIE_PIECES?"#aaa":e.CAT_10_SCALE(a)},MAX_NUM_PIE_PIECES:9,BORDER_SIZE:20};b.exports=e},{d3:152}],15:[function(a,b,c){"use strict";var d=a("d3"),e={MAX_NUM_PLOTS:4,COLOR_SCALE:d.scale.category10(),BORDER_SIZE:10};b.exports=e},{d3:152}],16:[function(a,b,c){"use strict";b.exports={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WV:"West Virginia",WA:"Washington",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"}},{}],17:[function(a,b,c){"use strict";var d={UserFolderName:"Users",SharedFolderName:"Shared",NonModifiableAttribute:"_db_no_modify",NoChildrenAttribute:"_db_no_children",FullNameAttribute:"fullname",UserIdAttribute:"userId"};b.exports=d},{}],18:[function(a,b,c){"use strict";var d=a("underscore"),e="No Permissions",f="Can Read",g="Can Run",h="Can Edit",i="Can Manage",j="read",k="execute",l="modify",m="create",n="remove",o="modify_permissions",p="*",q={};q[e]=[],q[f]=[j],q[g]=[j,k],q[h]=[j,k,l],q[i]=[j,k,l,m,n,o];var r={};r[e]="has no permissions",r[f]="can view and comment on the notebook",r[g]="can view, comment, and run commands in the notebook",r[h]="can view, comment, run commands, edit, and attach/detach the notebook",r[i]="can view, comment, run commands, edit, delete, attach/detach, and change permissions of the notebook";var s={};s[f]="can view and comment on notebooks in the folder",s[g]="can view, comment, and run commands in notebooks in the folder",s[h]="can view, comment, run commands, edit, and attach/detach notebooks in the folder",s[i]="can view, comment, run commands, edit, and attach/detach notebooks in the folder, and can create, delete, and change permissions of items in the folder";var t={shell:r,folder:s},u=[e,f,g,h,i],v=[j,k,l,m,n,o,p],w=function(a){return d.contains(a,p)||d.contains(a,o)?i:d.contains(a,l)?h:d.contains(a,k)?g:d.contains(a,j)?f:e},x=function(a){var b=a?d.map(a.permission,function(a){return a.permission}):[];return w(b)},y=function(a,b){var c=d.filter(a.permission,function(a){return!d.isUndefined(d.find(a.sourceIds,function(a){return a!==b}))}),e=d.map(c,function(a){return a.permission});return w(e)},z=function(a,b){var c=d.map(a.permission,function(a){return a.sourceIds});return d.filter(d.uniq(d.flatten(c)),function(a){return a!==b})},A={NONE:e,VIEW:f,RUN:g,EDIT:h,MANAGE:i,ALL_ACTIONS:v,ALL_PERMISSIONS:u,ALL_PERMISSIONS_WITHOUT_NONE:[f,g,h,i],DB_GUIDE_URL:"/#workspace/databricks_guide/02 Product Overview/14 Access Control",getCurrentPermission:x,getInheritedPermission:y,getInheritedSourceIds:z,permissionToDescription:function(a,b,c){c=void 0===c?"Users":c;var d=t[b];return d&&d[a]?c+" "+d[a]+".":void console.error("unknown permission "+a+" for nodeType "+b)},toActions:function(a){return q[a]},fromActions:function(a){return d.contains(a,o)?i:d.contains(a,l)?h:d.contains(a,k)?g:d.contains(a,j)?f:e},canView:function(a){return a===f||a===g||a===h||a===i},canRun:function(a){return a===g||a===h||a===i},canEdit:function(a){return a===h||a===i},canManage:function(a){return a===i},parsePermissionError:function(a){var b=a.match(/(.+) does not have (.+) permissions on (.+). Please contact/);if(b){var c=b[1],d=b[2],e=b[3];return{username:c,permission:d,path:e}}return null}};b.exports=A},{underscore:365}],19:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../helpers/Utility"),g=a("../notebook/BackboneRpcMixin"),h=e.Model.extend({initialize:function(){this.set("guid",this.get("guid")||f.generateGUID()),this.set("nuid",this.get("nuid")||f.generateGUID())},notebook:function(){return this._notebook},setParentNotebook:function(a){this._notebook=a},getCommand:function(a){var b=d.filter(this.notebook().getCommandsForDashboard(),function(b){return b.id===a});return b[0]},pages:function(){return d.sortBy(this.notebook().getPages(),function(a){return a.get("position")})},pageFromNUID:function(a){var b;return d.each(this.pages(),function(c){c.get("nuid")===a&&(b=c)}),b},widgetFromNUID:function(a){var b=d.filter(this.notebook().getCommands(),function(b){return b.get("nuid")===a});return b[0]},dashboardRpc:function(a,b,c){var e=this.notebook().id,f=this.id,g={dashboardId:f};d.extend(g,b);var h="/notebook/"+e+"/dashboard",i=d.extend({url:h},c||{});this.rpc(a,g,i)},addPage:function(a,b){var c=this;console.log("addPage",this,this.dashboardRpc),b?this.dashboardRpc("update",{defaultSize:b},{success:function(){c.addPage(a)}}):this.dashboardRpc("addPage",{position:a})},removePage:function(a){var b=this.pageFromNUID(a);if(b){var c=b.id;this.dashboardRpc("removePage",{dashboardPageId:c})}else console.warn("Page with NUID",a,"not found")},setAllPageSize:function(a){this.dashboardRpc("update",{defaultSize:a})}});d.extend(h.prototype,g),b.exports=h},{"../helpers/Utility":55,"../notebook/BackboneRpcMixin":63,backbone:151,underscore:365}],20:[function(a,b,c){"use strict";var d=a("backbone"),e=a("underscore"),f=a("../helpers/Utility"),g=a("../notebook/BackboneRpcMixin"),h=d.Model.extend({defaults:{elements:[]},initialize:function(){if(this.set("guid",this.get("guid")||f.generateGUID()),this.set("nuid",this.get("nuid")||f.generateGUID()),!this.get("size"))throw console.error("size is not set",this),["Size is not set",this.id,this];if(null===this.get("position")||this.get("position")<0)throw console.error("position is not set",this),["Position is not set",this.id,this]},dashboard:function(){return this.notebook().getDashboard()},getElementByCommandNUID:function(a){var b=e.filter(this.get("elements"),function(b){return b.commandNUID===a});return b[0]},getElementByNUID:function(a){var b=e.filter(this.get("elements"),function(b){return b.nuid===a});return b[0]},notebook:function(){return this._notebook||this.get("parent")},pageRpc:function(a){var b=this.notebook().id,c={notebookId:b,dashboardPageId:this.id,changedElements:[],removedElements:[]};e.extend(c,a);var d="/notebook/"+b+"/dashboard";this.rpc("updatePage",c,{url:d})},addElement:function(a,b,c,d,e){var g=this.getMaxZPosition(),h={nuid:f.generateGUID(),commandNUID:a,zPosition:g+1,geometry:{x:b,y:c,width:d,height:e},scale:1};this.pageRpc({changedElements:[h]})},getMaxZPosition:function(){var a=e.max(this.get("elements"),function(a){return Number(a.zPosition)});return a?isNaN(a.zPosition)?0:a.zPosition:0},updateElementProperties:function(a,b){var c=this.getElementByNUID(a),d={zPosition:this.getMaxZPosition()+1},f=e.extend({},c,b,d);this.pageRpc({changedElements:[f]})},removeElement:function(a){this.pageRpc({removedElements:[a]})},rerunPage:function(a){var b=e.map(this.get("elements"),function(a){return a.commandNUID});this.dashboard().notebook().runSelected(b,a)}});e.extend(h.prototype,g),b.exports=h},{"../helpers/Utility":55,"../notebook/BackboneRpcMixin":63,backbone:151,underscore:365}],21:[function(a,b,c){"use strict";function d(a,b,c){this.node=a,this.children=b,this.id=a.id,this.selectedChild=c}var e=a("jquery"),f=a("d3"),g=function(a,b,c){var f=this;this.$element=a,this.treeProvider=b,c=void 0!==c?c:{},this.pushElement=c.pushElement||null,this.scrollElement=c.scrollElement||null,this.pinnable=c.pinnable||!1,this.$element.addClass("filetree"),this.$element.empty(),this.$inner=e('<div class="inner">'),this.$inner.appendTo(this.$element),this.rootNode=this.treeProvider.getRootNode(),this.elementBeingDragged=null,this.nodeBeingDragged=null,this.currentTargetNodeId=null,this.hasDragDrop=void 0!==this.treeProvider.nodeDropped,this.hasDropdowns=void 0!==this.treeProvider.dropdownClicked,this.openNodes=[],this.treeProvider.getChildren(this.rootNode,function(a){f.openNodes=[new d(f.rootNode,a)],f.render()}),this.pinned=!1};g.Node=function(a,b,c,d,e,f){this.id=a,this.name=b||a.toString(),this.icon=c||"file",this.hasChildren=d||!1,this.domAttributes=e||{},this.annotationText=f||""},g.prototype.render=function(){function a(a){return[a.id,a.draggable]}function b(a){var b=f.select(this);if(a.isHomeFolder){var c=a.name.indexOf("@");if(c>=0){var d=a.name.substring(0,c),e=a.name.substring(c);b.selectAll("span").remove(),b.append("span").attr("class","email-name").text(d),b.append("span").attr("class","email-domain").text(e)}else b.text(a.name)}else b.text(a.name)}var c=this,d=f.select(this.$inner[0]).selectAll(".ft-panel").data(this.openNodes),h=d.enter().append("div").attr("class","ft-panel");h.append("ul"),h.style("width",0).transition().style("width","196px");var i=function(){f.select(this).transition().duration(190).ease("in").style("background-color","#F7F7F7").transition().ease("out").duration(260).style("background-color","white")};h.on("contextmenu",function(a){if(!(a.id<0)&&c.hasDropdowns){f.event.preventDefault(),f.event.stopPropagation();var b=f.event.pageX,d=f.event.pageY;i.call(this),c.onDropdownClicked(a.node,{left:b,top:d,isPanelContext:!0})}}).on("click",function(a){if(e(f.event.target).hasClass("ft-panel")&&a.selectedChild){var b;if(a.children.forEach(function(c){c.id===a.selectedChild&&(b=c)}),!b||!b.hasChildren)return;f.event.preventDefault(),c.openToNode(a.node),i.call(this)}}),d.each(function(h,i){var j=this;h.node.hasChildren&&h.node.droppable&&c.hasDragDrop&&(e(j).droppable({scope:c,hoverClass:"drop-hover",drop:function(a,b){c.onDrop(h.node)}}),e(j).resizable({minWidth:150,maxWidth:500,handles:"e",resize:function(a,b){if(null!==c.pushElement){var e=g.calculateShiftOfContent(d[0]);f.select(c.pushElement).style("left",e+"px")}}}),e(j).scroll(function(a){var b=e(this).scrollTop()+.5*parseInt(e(this).css("height"),10);e(j).find(".ui-resizable-handle").css("top",b+"px")}));var k=f.select(this).select("ul").selectAll("li").data(h.children,a),l=k.enter().append("li").attr("class",function(a){return a.classes}).append("a").attr("href",function(a){return a.url||"#"}).attr("data-name",function(a){return a.name;
}).classed("home-folder",function(a){return a.isHomeFolder});if(l.each(function(a){var b=this;a.draggable&&c.hasDragDrop&&e(b).draggable({scope:c,helper:"clone",refreshPositions:!0,appendTo:c.$element,start:function(b,d){c.elementBeingDragged=this,c.nodeBeingDragged=a,c.treeProvider.dragStarted(a),e(this).closest("li").addClass("being-dragged"),d.helper.focus(),d.helper.keyup(function(a){a.which===g.ESCAPE&&(c.elementBeingDragged=null,c.nodeBeingDragged=null,d.helper.trigger("mouseup"))})},stop:function(a,b){c.elementBeingDragged=null,c.nodeBeingDragged=null,e(this).closest("li").removeClass("being-dragged")}}),a.droppable&&a.hasChildren&&c.hasDragDrop&&e(b).droppable({scope:c,hoverClass:"drop-hover",greedy:!0,accept:function(b,d){return null!==c.nodeBeingDragged&&a.id!==c.nodeBeingDragged.id},over:function(d,e){c.onDraggingOver(a,b,i,j)},drop:function(b,d){c.onDrop(a)}})}),l.append("i"),l.append("span").each(b),l.filter(function(a){return a.isBeta}).append("sup").text(" beta"),l.filter(function(a){return a.disabled}).style("opacity","0.5"),l.filter(function(a){return a.tooltip}).each(function(a){e(this).tooltip({trigger:"hover",title:a.tooltip,placement:"bottom",html:!0})}),l.on("click",function(a){c.onItemClicked(a,this,i,j)}),c.hasDropdowns){var m=l.filter(function(a){return a.hasMenu===!0}),n=m.append("div").attr("class","dropdown");n.append("i").attr("class",function(a){return"fa fa-caret-down"+("big"===a.display?" fa-lg":"")}),n.on("click",function(a){f.event.preventDefault(),f.event.stopPropagation(),c.onDropdownClicked(a)}),m.on("contextmenu",function(a){f.event.preventDefault(),f.event.stopPropagation(),c.onRightClicked(a)})}k.select("a").attr("data-name",function(a){return a.name}).attr("title",function(a){return a.tooltip?void 0:a.name}).classed("home-folder",function(a){return a.isHomeFolder}),k.select("span").each(b),k.classed("big",function(a){return"big"===a.display}),k.classed("heading",function(a){return"heading"===a.display}),k.classed("multiline",function(a){return"multiline"===a.display}),k.classed("top-link",function(a){return"top-link"===a.display}),k.classed("selected",function(a){return a.id===h.selectedChild}),k.classed("being-dragged",function(a){return null!==c.nodeBeingDragged&&a.id===c.nodeBeingDragged.id}),k.select("i").attr("class",function(a){var b=a.icon||"file-alt";return a.openIcon&&a.id===c.openNodes[i].selectedChild&&(b=a.openIcon),"fa fa-"+b+" fa-fw"+("big"===a.display?" fa-lg":"")}),k.select("i").each(function(a){var b=f.select(this);f.keys(a.domAttributes).forEach(function(c){b.attr(c,a.domAttributes[c])})}),k.each(function(a){var b=f.select(this).select("a");b.classed("has-annotation",a.annotationText);var c=a.annotationText?[1]:[],d=b.selectAll("div.fb-annotation").data(c);d.enter().append("div").attr("class","fb-annotation"),d.text(a.annotationText),d.exit().remove()}),k.exit().remove(),k.order()}),f.select(this.$inner[0]).selectAll(".ft-panel").attr({"data-panel":function(a){return a.node.name}});var j=d.exit();if(j.transition().style("width","0px").remove(),this.pinnable&&this.openNodes.length>0){f.select(this.$inner[0]).selectAll(".ft-pin-button").remove();var k=f.select(this.$inner[0]).append("a").classed("ft-pin-button",!0).classed("active",this.pinned).attr("href","#").attr("title","Pin menu open");k.append("i").classed("fa fa-thumb-tack",!0),k.on("click",function(){c.pinned=!c.pinned,k.classed("active",c.pinned),f.event.preventDefault()})}var l=g.calculateShiftOfContent(d[0],h[0]);if(null!==this.pushElement&&f.select(this.pushElement).transition().style("left",l+"px"),this.scrollElement&&(h.size()>0||j.size()>0)){var m=e(this.scrollElement);this.$element.css("min-width",l+"px");var n=Math.max(l-m.innerWidth(),0);n!==m.scrollLeft()&&m.animate({scrollLeft:n},250)}null===this.elementBeingDragged||e.contains(this.$inner[0],this.elementBeingDragged)||(e(this.elementBeingDragged).appendTo(this.$element),e(this.elementBeingDragged).css("display","none"))},g.prototype.onRightClicked=function(a){var b=f.event.pageX,c=f.event.pageY;this.onDropdownClicked(a,{left:b,top:c})},g.prototype.onItemClicked=function(a,b,c,e){var g=this;if(this.currentTargetNodeId=a.id,"heading"===a.display)return void f.event.preventDefault();if(!a.url||!(f.event.metaKey||f.event.shiftKey||f.event.ctrlKey)){if(f.event.preventDefault(),a.id===this.openNodes[c].selectedChild)return this.openNodes[c].selectedChild=void 0,this.openNodes=this.openNodes.slice(0,c+1),this.render(),void(this.treeProvider.selectionChanged&&this.treeProvider.selectionChanged(this.openNodes[this.openNodes.length-1]));this.openNodes[c].selectedChild=a.selectable!==!1?a.id:void 0;var h=this.openNodes.length>c+1;this.openNodes=this.openNodes.slice(0,c+1),a.hasChildren&&h&&this.openNodes.push(new d(a,[])),this.render(),a.hasChildren&&this.treeProvider.getChildren(a,function(b){var e=g.openNodes;e.length>c&&e[c].selectedChild===a.id&&(e[c+1]=new d(a,b),g.render())}),this.treeProvider.nodeClicked&&this.treeProvider.nodeClicked(a),this.treeProvider.selectionChanged&&this.treeProvider.selectionChanged(a)}},g.calculateShiftOfContent=function(a,b){var c=0;if(b){var d=a.slice(1);e.each(d,function(a,d){c+=b[a+1]?196:e(d).width()}),c+=196}else e.each(a,function(){c+=e(this).width()});return c},g.prototype.openToNode=function(a){function b(a,f,g){function h(a){return a.id===c.treeProvider.getRootNode().id?void g(!0):void(c.treeProvider.getParent?c.treeProvider.getParent(a,function(c){return c?void b(c,a.id,g):void g(!1)}):g(!1))}a.hasChildren?c.treeProvider.getChildren(a,function(b){var c=new d(a,b);c.selectedChild=f,e.unshift(c),h(a)}):h(a)}var c=this;this.currentTargetNodeId=a.id;var e=[];b(a,void 0,function(b){if(b&&c.currentTargetNodeId===a.id){for(var d=0;d<e.length;d++)c.openNodes.length<=d?c.openNodes.push(e[d]):c.openNodes[d].id===e[d].id?c.openNodes[d].selectedChild=e[d].selectedChild:c.openNodes[d]=e[d];c.openNodes.length>e.length&&(c.openNodes=c.openNodes.slice(0,e.length)),c.treeProvider.selectionChanged&&c.treeProvider.selectionChanged(a),c.render()}else console.debug("node doesn't have path to root")})},g.prototype.onDropdownClicked=function(a,b){this.hasDropdowns&&(this.openToNode(a),this.treeProvider.dropdownClicked(a,b))},g.prototype.onDraggingOver=function(a,b,c,f){var g=this;if(a.id!==this.nodeBeingDragged.id){this.openNodes[c].selectedChild=a.id;var h=this.openNodes.length>c+1;this.openNodes=this.openNodes.slice(0,c+1),a.hasChildren&&h&&this.openNodes.push(new d(a,[])),this.render(),this.treeProvider.getChildren(a,function(f){e(b).hasClass("drop-hover")&&(g.openNodes[c+1]=new d(a,f),g.render())})}},g.prototype.setPushElement=function(a){this.pushElement=a},g.prototype.refreshAllNodes=function(){function a(c,e,f){var g=b.openNodes[c].selectedChild;if(b.openNodes[c]=new d(e,f,g),c+1<b.openNodes.length){for(var h=b.openNodes[c+1].id,i=!1,j=function(b){a(c+1,l,b)},k=0;k<f.length;k++)if(f[k].id===h){var l=f[k];b.treeProvider.getChildren(l,j),i=!0;break}i||(b.openNodes=b.openNodes.slice(0,c+1),b.render())}else b.render()}var b=this;this.treeProvider.getChildren(this.rootNode,function(c){a(0,b.rootNode,c)})},g.prototype.onDrop=function(a){if(null!==this.nodeBeingDragged){var b=this.nodeBeingDragged;this.elementBeingDragged=null,this.nodeBeingDragged=null,this.treeProvider.nodeDropped(b,a)}},g.prototype.selectedNode=function(){if(this.openNodes.length>0)for(var a=this.openNodes[this.openNodes.length-1],b=0;b<a.children.length;b++)if(a.children[b].id===a.selectedChild)return a.children[b]},g.prototype.selectedFolder=function(){return this.openNodes.length>0?this.openNodes[this.openNodes.length-1]:void 0},g.prototype.remove=function(){},g.prototype.isPinned=function(){return this.pinned},g.ESCAPE=27,b.exports=g},{d3:152,jquery:164}],22:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactFormFooter.jsx"),f=a("../helpers/ReactModal.jsx"),g=d.createClass({displayName:"ReactAlert",propTypes:{message:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.string]).isRequired,button:d.PropTypes.string,callback:d.PropTypes.func,name:d.PropTypes.string},getDefaultProps:function(){return{button:"OK",name:"alert-form"}},onConfirm:function(a){this.props.callback&&this.props.callback()},componentDidMount:function(){this.refs.footer.focus()},render:function(){var a=d.createElement("div",{className:"modal-title"},this.props.message),b=d.createElement(e,{ref:"footer",confirm:this.onConfirm,showCancel:!1,confirmButton:this.props.button});return d.createElement(f,{modalName:this.props.name,header:a,footer:b})}});b.exports=g},{"../forms/ReactFormFooter.jsx":27,"../helpers/ReactModal.jsx":50,"react/addons":188}],23:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactFormFooter.jsx"),f=a("../helpers/ReactModal.jsx"),g=d.createClass({displayName:"ReactConfirm",propTypes:{message:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.string]).isRequired,confirmButton:d.PropTypes.string,cancelButton:d.PropTypes.string,showCancel:d.PropTypes.bool,confirm:d.PropTypes.func,cancel:d.PropTypes.func,name:d.PropTypes.string},getDefaultProps:function(){return{confirmButton:"Confirm",cancelButton:"Cancel",showCancel:!0,name:"confirm"}},onConfirm:function(a){this.props.confirm&&this.props.confirm()},onCancel:function(a){this.props.cancel&&this.props.cancel()},componentDidMount:function(){this.refs.footer.focus()},render:function(){var a=d.createElement("div",{className:"modal-title"},this.props.message),b=d.createElement(e,{ref:"footer",confirm:this.onConfirm,cancel:this.onCancel,showCancel:this.props.showCancel,confirmButton:this.props.confirmButton,cancelButton:this.props.cancelButton});return d.createElement(f,{modalName:this.props.name,header:a,footer:b})}});b.exports=g},{"../forms/ReactFormFooter.jsx":27,"../helpers/ReactModal.jsx":50,"react/addons":188}],24:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactFormElements.jsx"),f=e.Input,g=e.LabeledCheckbox,h=e.Select,i=a("../forms/ReactFormFooter.jsx"),j=a("../helpers/ReactModal.jsx"),k=d.createClass({displayName:"ReactCustomRow",propTypes:{options:d.PropTypes.object.isRequired,confirm:d.PropTypes.func.isRequired,validate:d.PropTypes.func.isRequired},value:function(){var a=this.props.options;return"input"===a.controlType&&"checkbox"===a.type?this.refs.control.checked():this.refs.control.value()},render:function(){var a=this.props.options,b=d.createElement("div",null),c=a.label;if("input"===a.controlType)if("checkbox"===a.type){c="";var e=!1;a.props&&a.props.checked&&(e=!0),b=d.createElement(g,{ref:"control",label:a.label,checkboxID:a.id,checkboxClassName:a["class"],defaultChecked:e,onChange:this.props.validate,confirm:this.props.confirm,required:a.required})}else b=d.createElement(f,{ref:"control",type:a.type,inputID:a.id,inputClassName:a["class"],defaultValue:a.value,placeholder:a.placeholder,validate:a.validate,onChange:this.props.validate,confirm:this.props.confirm,required:a.required});else 0===a.controlType.indexOf("select")&&(b=d.createElement(h,{ref:"control",options:a.options,selectID:a.id,selectClassName:a["class"],defaultValue:a.value,onChange:this.props.validate,confirm:this.props.confirm,required:a.required}));var i={className:"multi-input-row","data-row-for":a.id};return d.createElement("div",i,d.createElement("div",null,d.createElement("label",{className:"unclickable"},c),d.createElement("div",null,b)))}}),l=d.createClass({displayName:"ReactCustom",propTypes:{title:d.PropTypes.string.isRequired,controls:d.PropTypes.array,confirmButton:d.PropTypes.string,showConfirmButton:d.PropTypes.bool,confirm:d.PropTypes.func,cancelButton:d.PropTypes.string,showCancelButton:d.PropTypes.bool,cancel:d.PropTypes.func,validate:d.PropTypes.func,name:d.PropTypes.string},getDefaultProps:function(){return{controls:[],confirmButton:"Confirm",cancelButton:"Cancel",name:"custom-form"}},getInitialState:function(){return{valid:!0}},_validateControls:function(){var a=!0;return this.props.controls.forEach(function(b,c){b.validate&&!b.validate(this.refs["control"+c].value())&&(a=!1)}.bind(this)),a},validate:function(){var a;a=this.props.validate?this.props.validate():this._validateControls(),this.setState({valid:a})},onConfirm:function(a){this.props.confirm&&this.state.valid&&this.props.confirm(this)},onCancel:function(a){this.props.cancel&&this.props.cancel()},componentDidMount:function(){this.validate()},_renderControls:function(){if(0===this.props.controls.length)return this.props.children;var a=[];return this.props.controls.forEach(function(b,c){a.push(d.createElement(k,{ref:"control"+c,options:b,validate:this.validate,confirm:this.onConfirm}))}.bind(this)),d.createElement("div",null,a)},render:function(){var a=d.createElement("h3",null,this.props.title),b=this._renderControls(),c=d.createElement(i,{ref:"footer",confirm:this.onConfirm,cancel:this.onCancel,confirmButton:this.props.confirmButton,cancelButton:this.props.cancelButton,showConfirm:this.props.showConfirmButton,showCancel:this.props.showCancelButton,confirmDisabled:!this.state.valid});return d.createElement(j,{modalName:this.props.name,header:a,body:b,footer:c})}});b.exports=l},{"../forms/ReactFormElements.jsx":26,"../forms/ReactFormFooter.jsx":27,"../helpers/ReactModal.jsx":50,"react/addons":188}],25:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react/addons"),f=a("../helpers/Utility"),g=e.createClass({displayName:"ReactDropzone",propTypes:{editing:e.PropTypes.bool,existingFile:e.PropTypes.object,classes:e.PropTypes.string,options:e.PropTypes.object.isRequired},getDefaultProps:function(){return{editing:!1}},getDropzone:function(){return e.findDOMNode(this.refs.dropzone).dropzone},shouldComponentUpdate:function(){return!1},componentDidMount:function(){var a=e.findDOMNode(this.refs.dropzone);f.installDropzone(d(a),this.props.options),this.props.existingFile&&(this.getDropzone().emit("addedfile",this.props.existingFile),this.getDropzone().emit("complete",this.props.existingFile))},render:function(){var a=this.props.classes+" dropzone control-field",b=e.createElement("div",{className:a,id:"filePicker","data-row-for":"filePicker",ref:"dropzone"});return b}});b.exports=g},{"../helpers/Utility":55,jquery:164,"react/addons":188}],26:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react/addons"),f=a("../helpers/Highlight.jsx"),g={propTypes:{tooltipConditions:e.PropTypes.array},checkTooltipConditions:function(a){if(this.props.tooltipConditions){var b=[];this.props.tooltipConditions.forEach(function(c){c.condition(a)&&b.push(c.tooltip)}),b.length>0?this.highlight({animate:!1,duration:-1,autoHideTooltip:!0,tooltip:b.join(" ")}):this.unhighlight()}}},h=e.createClass({displayName:"Input",mixins:[g],propTypes:{type:e.PropTypes.string,inputID:e.PropTypes.string,defaultValue:e.PropTypes.string,placeholder:e.PropTypes.string,inputClassName:e.PropTypes.string,validate:e.PropTypes.func,onChange:e.PropTypes.func,confirm:e.PropTypes.func,valid:e.PropTypes.bool,required:e.PropTypes.bool,readOnly:e.PropTypes.bool},getDefaultProps:function(){return{type:"text",inputID:"input"}},getInitialState:function(){return{valid:this.props.valid===!1?!1:!0}},componentWillReceiveProps:function(a){"valid"in a&&this.setState({valid:a.valid})},_validate:function(){if(!this.props.valid&&this.props.validate){var a=this.props.validate(this.value());return this.setState({valid:a}),a}return!0},_onChange:function(a){this._validate(a),this.props.onChange&&this.props.onChange(this.value(),a),this.checkTooltipConditions(this.value())},_onKeyDown:function(a){var b=this._validate(a);this.props.onChange&&this.props.onChange(this.value(),a),this.props.confirm&&13===a.which&&b&&this.props.confirm(a)},value:function(){return this.refs[this.props.inputID].getDOMNode().value.trim()},focus:function(){this.refs[this.props.inputID].getDOMNode().focus()},select:function(){this.refs[this.props.inputID].getDOMNode().select()},highlight:function(a){this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},render:function(){var a=this.props.required?"required":"",b=this.props.inputClassName;this.state.valid||(b+=" invalid-form");var c=e.createElement("input",{type:this.props.type,ref:this.props.inputID,id:this.props.inputID,defaultValue:this.props.defaultValue,placeholder:this.props.placeholder,className:b,onInput:this._onChange,onKeyDown:this._onKeyDown,required:a,readOnly:this.props.readOnly});return e.createElement(f,{ref:"highlight",id:"highlight"},c)}}),i=e.createClass({displayName:"LabeledCheckbox",mixins:[g],propTypes:{label:e.PropTypes.string.isRequired,checkboxID:e.PropTypes.string,defaultChecked:e.PropTypes.bool,checkboxClassName:e.PropTypes.string,labelClassName:e.PropTypes.string,onChange:e.PropTypes.func,confirm:e.PropTypes.func,disabled:e.PropTypes.bool,required:e.PropTypes.bool},getDefaultProps:function(){return{checkboxID:"checkbox"}},_onChange:function(a){this.props.onChange&&this.props.onChange(this.checked(),a),this.checkTooltipConditions(this.checked())},_onKeyDown:function(a){this._onChange(a),this.props.confirm&&13===a.which&&this.props.confirm(a)},checked:function(){return this.refs[this.props.checkboxID].getDOMNode().checked},highlight:function(a){this.unhighlight(),this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},setChecked:function(a){d(this.refs[this.props.checkboxID].getDOMNode()).prop("checked",a)},render:function(){var a=this.props.required?"required":"",b=this.props.labelClassName;return this.props.disabled&&(b?b+=" unclickable":b="unclickable"),e.createElement("div",{className:"labeled-checkbox"},e.createElement("label",{ref:"label",id:"label",className:b},e.createElement(f,{ref:"highlight",id:"highlight"},e.createElement("input",{type:"checkbox",ref:this.props.checkboxID,id:this.props.checkboxID,defaultChecked:this.props.defaultChecked,className:this.props.checkboxClassName,onChange:this._onChange,onKeyDown:this._onKeyDown,required:a,disabled:this.props.disabled})),this.props.label))}}),j=e.createClass({displayName:"Select",mixins:[g],propTypes:{options:e.PropTypes.array.isRequired,selectID:e.PropTypes.string,defaultValue:e.PropTypes.string,selectClassName:e.PropTypes.string,optionClassName:e.PropTypes.string,onChange:e.PropTypes.func,confirm:e.PropTypes.func,required:e.PropTypes.bool},getDefaultProps:function(){return{selectID:"select"}},_onChange:function(a){this.props.onChange&&this.props.onChange(this.value(),a),this.checkTooltipConditions(this.value())},_onKeyDown:function(a){this._onChange(a),this.props.confirm&&13===a.which&&this.props.confirm(a)},_options:function(){var a,b,c,d,f,g=[];for(a in this.props.options)"object"==typeof this.props.options[a]?(b=this.props.options[a].label,c=this.props.options[a].value,d=this.props.options[a].disabled):(b=this.props.options[a],c=b.toLowerCase()),f={className:this.props.optionClassName,value:c,"data-label":b,disabled:d},g.push(e.createElement("option",f,b));return g},value:function(){return this.refs[this.props.selectID].getDOMNode().value},highlight:function(a){this.unhighlight(),this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},render:function(){var a=this.props.required?"required":"";return e.createElement(f,{ref:"highlight",id:"highlight"},e.createElement("select",{ref:this.props.selectID,id:this.props.selectID,defaultValue:this.props.defaultValue,className:this.props.selectClassName,onChange:this._onChange,onKeyDown:this._onKeyDown,required:a},this._options()))}}),k=e.createClass({displayName:"TextArea",mixins:[g],propTypes:{textareaID:e.PropTypes.string,defaultValue:e.PropTypes.string,textareaClassName:e.PropTypes.string,placeholder:e.PropTypes.string,rows:e.PropTypes.number,cols:e.PropTypes.number,onChange:e.PropTypes.func,confirm:e.PropTypes.func,required:e.PropTypes.bool},getDefaultProps:function(){return{textareaID:"textarea",cols:63}},_onChange:function(a){this.props.onChange&&this.props.onChange(this.value(),a),this.checkTooltipConditions(this.value())},_onKeyDown:function(a){this._onChange(a),this.props.confirm&&13===a.which&&this.props.confirm(a)},value:function(){return this.refs[this.props.textareaID].getDOMNode().value},focus:function(){this.refs[this.props.textareaID].getDOMNode().focus()},select:function(){this.refs[this.props.textareaID].getDOMNode().select()},highlight:function(a){this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},render:function(){var a=this.props.required?"required":"";return e.createElement(f,{ref:"highlight",id:"highlight"},e.createElement("textarea",{ref:this.props.textareaID,id:this.props.textareaID,className:this.props.textareaClassName,rows:this.props.rows,cols:this.props.cols,placeholder:this.props.placeholder,onChange:this._onChange,onKeyDown:this._onKeyDown,required:a},this.props.defaultValue))}});b.exports.Input=h,b.exports.LabeledCheckbox=i,b.exports.Select=j,b.exports.TextArea=k},{"../helpers/Highlight.jsx":36,jquery:164,"react/addons":188}],27:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../helpers/ReactModalUtils");a("../../lib/bootstrap");var f=d.createClass({displayName:"ReactFormFooter",propTypes:{confirm:d.PropTypes.func,showConfirm:d.PropTypes.bool,cancel:d.PropTypes.func,showCancel:d.PropTypes.bool,confirmDisabled:d.PropTypes.bool,confirmButton:d.PropTypes.node,cancelButton:d.PropTypes.node,closeOnConfirm:d.PropTypes.bool},getDefaultProps:function(){return{showConfirm:!0,showCancel:!0,confirmDisabled:!1,confirmButton:"Confirm",cancelButton:"Cancel",closeOnConfirm:!0}},confirm:function(a){a.preventDefault(),this.props.confirm&&this.props.confirm(a),this.props.closeOnConfirm&&e.destroyModal()},cancel:function(a){e.destroyModal(),this.props.cancel&&this.props.cancel(a)},focus:function(){this.props.showConfirm&&this.refs.confirm.getDOMNode().focus()},render:function(){var a=this.props.confirmDisabled?"disable":"",b=d.createElement("div",null),c=d.createElement("div",null);return this.props.showCancel&&(b=d.createElement("a",{href:"#",ref:"cancel",className:"btn cancel-button","data-dismiss":"modal",onClick:this.cancel,tabIndex:"2"},this.props.cancelButton)),this.props.showConfirm&&(c=d.createElement("a",{href:"#",ref:"confirm",className:"btn btn-primary confirm-button",disabled:a,onClick:this.confirm,tabIndex:"1"},this.props.confirmButton)),d.createElement("div",null,b,c)}});b.exports=f},{"../../lib/bootstrap":128,"../helpers/ReactModalUtils":51,"react/addons":188}],28:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactFormFooter.jsx"),f=a("../helpers/ReactModal.jsx"),g=a("../helpers/ReactModalUtils"),h=a("../forms/ReactFormElements.jsx"),i=h.Input,j=d.createClass({displayName:"ReactPrompt",propTypes:{message:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.string]).isRequired,defaultValue:d.PropTypes.string,confirmButton:d.PropTypes.string,cancelButton:d.PropTypes.string,confirm:d.PropTypes.func,cancel:d.PropTypes.func,validate:d.PropTypes.func,focusRange:d.PropTypes.array,name:d.PropTypes.string,inputID:d.PropTypes.string},getDefaultProps:function(){return{defaultValue:"",confirmButton:"Yes, go ahead.",cancelButton:"Cancel",name:"prompt",inputID:"input"}},getInitialState:function(){return{confirmDisabled:!0}},onConfirm:function(a){g.destroyModal(),this.confirm()},confirm:function(){this.props.confirm&&this.props.confirm(this.refs.input.value())},onCancel:function(a){this.props.cancel&&this.props.cancel()},validate:function(a){var b=""!==a;return this.props.validate&&(b=this.props.validate(a)),this.setState({confirmDisabled:!b}),b},onKeyDown:function(a){this.validate(a),13!==a.which||this.state.confirmDisabled||(g.destroyModal(),this.onConfirm(a))},componentDidMount:function(){this.validate(this.refs.input.value());var a=this.refs.input.refs[this.props.inputID].getDOMNode();if(a.focus(),this.props.focusRange&&2===this.props.focusRange.length){var b=this.props.focusRange[0],c=this.props.focusRange[1];b>0&&c>b&&a.setSelectionRange(b,c)}else a.select()},render:function(){var a=d.createElement("div",{className:"modal-title"},this.props.message),b=d.createElement(i,{ref:"input",id:"input",type:"text",inputID:this.props.inputID,defaultValue:this.props.defaultValue,inputClassName:"prompt-input",validate:this.validate,confirm:this.onConfirm,required:!0}),c=d.createElement(e,{confirm:this.confirm,cancel:this.onCancel,confirmButton:this.props.confirmButton,cancelButton:this.props.cancelButton,confirmDisabled:this.state.confirmDisabled});return d.createElement(f,{modalName:this.props.name,header:a,body:b,footer:c})}});b.exports=j},{"../forms/ReactFormElements.jsx":26,"../forms/ReactFormFooter.jsx":27,"../helpers/ReactModal.jsx":50,"../helpers/ReactModalUtils":51,"react/addons":188}],29:[function(a,b,c){"use strict";var d=a("underscore"),e=a("jquery"),f=a("backbone"),g=a("../helpers/LocalStorageUtil"),h="clipboardCommand",i="clipboardCurrentMode",j="clipboardChanged",k={};d.extend(k,f.Events),e(window).bind("storage",function(a){a.originalEvent.key===h&&k.trigger(j)}),k.getMode=function(){return g.get(i)},k.setMode=function(a){return g.set(i,a)};var l=function(a){return"finished"!==a.state&&"error"!==a.state||a.results&&"image"===a.results.type};k.filterValidAttrs=function(a){return l(a)?d.pick(a,["command","commandType","bindings","displayType"]):d.pick(a,["command","commandType","state","resultType","results","error","errorSummary","startTime","submitTime","finishTime","collapsed","bindings","inputWidgets","arguments","displayType","height","width","xColumns","yColumns","pivotColumns","pivotAggregation","customPlotOptions"])},k._cachedCommand=null,k.putCommand=function(a,b){k._cachedCommand=this.filterValidAttrs(a),k.setMode(b),g.set(h,k._cachedCommand),k.trigger(j)},k.getCommand=function(){return k._cachedCommand?k._cachedCommand:(k._cachedCommand=g.get(h),k._cachedCommand)},k.isEmpty=function(){return!Boolean(k._cachedCommand)},k.load=function(){k._cachedCommand=void 0,k.getCommand()},k.on(j,k.load),k.load(),b.exports=k},{"../helpers/LocalStorageUtil":41,backbone:151,jquery:164,underscore:365}],30:[function(a,b,c){"use strict";function d(a,b){for(var c in a)if(a.hasOwnProperty(c)&&c.toLowerCase()===b.toLowerCase())return!0;return!1}function e(a,b,c){var d=a.length,e=b.substr(0,d);return c?a===e:a.toUpperCase()===e.toUpperCase()}function f(a,b,c,d,f,g){for(var h in c)c.hasOwnProperty(h)&&(Array.isArray(c)&&(h=c[h]),f[d(h)]!==!0&&e(b,h,g)&&(a.push(d(h)),f[d(h)]=!0))}function g(a){return"text/x-hiveql"===a?k.SQLKeywords:"text/x-scala"===a?k.ScalaKeywords:"text/x-rsrc"===a?k.RKeywords:k.PythonKeywords}function h(a){return"text/x-hiveql"===a?k.PrevCommandsSQL:"text/x-scala"===a?k.PrevCommandsScala:"text/x-rsrc"===a?k.RKeywords:k.PrevCommandsPython}function i(a,b,c){var d=a.getCursor(),e=a.getTokenAt(d),i=[],l={},m=e.string.trim();return f(i,m,g(a.doc.modeOption),function(a){return a},l,!1),k.populateTable(),f(i,m,k.TableNames,function(a){return a},l,!1),f(i,m,k.ColumnNames,function(a){return a},l,!1),f(i,m,h(a.doc.modeOption),function(a){return a},l,!0),{list:i,from:j.Pos(d.line,e.start),to:j.Pos(d.line,e.end)}}var j=a("../../lib/codemirror/lib/codemirror");a("../../lib/codemirror/mode/sql/sql"),a("../../lib/codemirror/mode/clike/clike"),a("../../lib/codemirror/mode/r/r"),a("../../lib/codemirror/mode/python/python");var k={};k.TableNames={},k.ColumnNames={},k.PrevCommandsSQL={},k.PrevCommandsScala={},k.PrevCommandsPython={},k.PrevCommandsR={},k.initializeKeywords=function(a){k.SQLKeywords=j.resolveMode("text/x-hiveql").keywords,k.ScalaKeywords=j.resolveMode("text/x-scala").keywords,k.PythonKeywords=j.resolveMode("text/x-python").keywords,k.RKeywords=j.resolveMode("text/x-rsrc").keywords},k.addKeyword=function(a){for(var b in a)Array.isArray(a)&&(b=a[b]),k.SQLKeywords[b]=!0},k.addTable=function(a){for(var b in a)Array.isArray(a)&&(b=a[b]),delete k.PrevCommandsSQL[b],delete k.PrevCommandsScala[b],delete k.PrevCommandsPython[b],delete k.PrevCommandsR[b],k.TableNames[b]=!0},k.populateTable=function(){var a=window.tableList,b=[];a.forEach(function(a){b.push(a.get("name"))}),k.addTable(b)},k.addColumn=function(a){for(var b in a)Array.isArray(a)&&(b=a[b]),k.ColumnNames[b]=!0},k.addPrevCommands=function(a,b){for(var c in a){if(Array.isArray(a)&&(c=a[c]),d(k.TableNames,c)||d(k.ColumnNames,c))return;"text/x-hiveql"===b?d(k.SQLKeywords,c)||(k.PrevCommandsSQL[c]=!0):"text/x-scala"===b?d(k.ScalaKeywords,c)||(k.PrevCommandsScala[c]=!0):"text/x-python"===b?d(k.PythonKeywords,c)||(k.PrevCommandsPython[c]=!0):"text/x-rsrc"===b&&(d(k.RKeywords,c)||(k.PrevCommandsR[c]=!0))}},k.addPrevCommandString=function(a,b){var c=a.match(/[a-z_]([a-z0-9_]*)/gi);k.addPrevCommands(c,b)},j.registerHelper("hint","webapp",i),b.exports=k},{"../../lib/codemirror/lib/codemirror":135,"../../lib/codemirror/mode/clike/clike":136,"../../lib/codemirror/mode/python/python":139,"../../lib/codemirror/mode/r/r":140,"../../lib/codemirror/mode/sql/sql":141}],31:[function(a,b,c){"use strict";var d=a("underscore"),e=a("../../lib/codemirror/lib/codemirror"),f=a("../helpers/Utility"),g={};g.defaultOptions=function(a){return d.extend({mode:"text/x-hiveql",lineWrapping:!0,theme:"eclipse-focus",matchBrackets:!0,autoCloseBrackets:!0,undoDepth:1e4},a)},g.longestCommonPrefix=function(a,b){var c=b.data.list;if(1===c.length)return void b.pick();var d=f.longestCommonPrefix(c);void 0!==d&&a.replaceRange(d,c[0].from,c[0].to)},g.MultiHint=function(){this.completeSource=[],this.completeCallback=void 0,this.pendingRequests=0,this.pendingResults=null},g.MultiHint.prototype.gatherSource=function(a,b){var c=a.from,e=a.to;this.pendingRequests=this.pendingRequests-1,this.pendingResults||(this.pendingResults={list:[],from:c,to:e});var f=d.map(this.pendingResults.list,function(a){return a.text.toLowerCase()});for(var g in a.list){var h={};h.text=a.list[g],-1===f.indexOf(h.text.toLowerCase())&&(h.from=c,h.to=e,b&&b.itemClassName&&(h.className=b.itemClassName),this.pendingResults.list.push(h))}0===this.pendingRequests&&(this.completeCallback(this.pendingResults),this.pendingResults=void 0)},g.MultiHint.prototype.complete=function(a,b,c){this.completeCallback=b,this.pendingRequests=this.completeSource.length;for(var e=0;e<this.completeSource.length;e++)this.completeSource[e](a,d.bind(this.gatherSource,this),c)},g.setupAutoCompleteAndTabHandling=function(){var a=function(a,b,c){var d=e.hint.webapp;d?b(d(a,c),c):b({},c)},b=new g.MultiHint;b.completeSource.push(a);var c=function(a,c,d){b.complete(a,c,d)},h=function(a,b,c,d,f){var h=c.getCursor(),i=c.getLine(h.line),j=h.ch;g._autoCompleteRequest&&(g._autoCompleteRequest.cancel(),g._autoCompleteRequest=null),g._autoCompleteRequest=window.conn.wsClient.sendRPC("autoComplete",{data:{notebookId:a,language:b,line:i,cursorPosition:j},success:function(a){g._autoCompleteRequest=null;var b=c.getCursor(),f=c.getLine(b.line);if(c.hasFocus()&&b.line===h.line&&b.ch===h.ch&&f===i){var k=e.Pos(h.line,j-a.text.length),l=e.Pos(h.line,j);a.matches.sort(function(a,b){return a.text.toLowerCase().localeCompare(b.text.toLowerCase())}),d({list:a.matches.map(function(a){return{text:a.text,from:k,to:l}}),from:k,to:l})}else d({list:[],from:0,to:0})},error:function(a){console.log("AutoComplete RPC was unsuccessful",a),g._autoCompleteRequest=null,d({list:[],from:0,to:0})}})},i=function(a,b,e){if(!window.settings.enableServerAutoComplete)return void c(a,b,e);var g,i,j,k,l,m=window.activeView;if(m.props&&m.props.notebook?(g=!0,i=m.props.notebook.isAttached(),j=m.props.notebook.get("id"),k=m.props.notebook.get("language"),l=f.determineCodeMode(a.getValue(),k)):m.viewRoute&&/^shell\//.test(m.viewRoute)&&(g=!0,i=m.isAttached(),j=m.id,k=m.language,l=f.determineCodeMode(a.getValue(),k)),!g||"text/x-python"!==l&&"text/x-scala"!==l&&"text/x-rsrc"!==l)c(a,b,e);else if(i)h(j,k,a,b,e);else{var n=d.clone(e);n.itemClassName="CodeMirror-hint-grayed-out",c(a,b,n)}};e.commands.handleTabHit=function(a){if(a.somethingSelected())return void e.commands.indentMore(a);var b=a.getCursor(),c=a.getRange({
line:b.line,ch:0},b);return""===c.trim()?void e.commands.indentMore(a):void(a.state.completionActive||e.showHint(a,i,{completeSingle:!0,async:!0,extraKeys:{Tab:g.longestCommonPrefix,"Ctrl-P":"Up","Ctrl-N":"Down"}}))}},g.determineMode=function(a,b,c){var d,e;return d=null===a?b:a.getValue(),e=f.determineCodeMode(d,c),null===a?e:void a.setOption("mode",e)},g.blur=function(a){a.setOption("readOnly","nocursor"),a.setOption("readOnly",!1)},g.comparePos=function(a,b){return a.line!==b.line?a.line-b.line:a.ch-b.ch},g.compareRange=function(a,b){return 0!==this.comparePos(a.from,b.from)?this.comparePos(a.from,b.from):this.comparePos(a.to,b.to)},g.somethingNonEmptySelected=function(a){return a.somethingSelected()&&""!==a.getSelection().replace(/\s+/g,"")},g.isModeControlLineSelected=function(a){var b=a.getSelection(),c=a.getLine(this.getFirstLineSelected(a));return f.doesTextStartWithCodeMode(c)||f.doesTextStartWithCodeMode(b)},g.getFirstLineSelected=function(a){var b=a.listSelections();return b[0].from().line},b.exports=g},{"../../lib/codemirror/lib/codemirror":135,"../helpers/Utility":55,underscore:365}],32:[function(a,b,c){"use strict";var d={};d.sqlRegex=/^\s*%sql(\s+|$)/,d.markdownRegex=/^\s*%md(\s+|$)/,d.getLanguage=function(a){return this.sqlRegex.test(a)?"sql":this.markdownRegex.test(a)?"markdown":this.language},b.exports=d},{}],33:[function(a,b,c){"use strict";var d=a("underscore"),e=a("jquery"),f=a("react/addons"),g=a("../filetree/FileTree"),h=a("../forms/ReactCustom.jsx"),i=a("../helpers/ReactDialogBox.jsx"),j=a("../helpers/ReactModalUtils"),k=a("../helpers/Utility"),l=a("../templates/dialogBaseTemplate.html");a("../../lib/jquery-cron"),a("../../lib/jquery-ui-bundle"),a("../../lib/jquery.ajaxQueue"),a("../../lib/bootstrap");var m={alert:function(a,b,c,d,e,f){return i.alert(a,b,c,d)},confirm:function(a){return i.confirm(a)},prompt:function(a){return i.prompt(a)},custom:function(b,c,f){function h(){return f||i.remove(),b.confirm&&b.confirm(i),!1}var i=e(l()),j=i.find(".modal-header"),m=i.find(".modal-body");j.append(e("<h3/>").text(b.title)),this.setupButtons(i,".cancel-button",b.cancelButton,void 0!==b.showCancelButton?b.showCancelButton:!0),this.setupButtons(i,".confirm-button",b.confirmButton,void 0!==b.showConfirmButton?b.showConfirmButton:!0);var n,o=function(){var a=!0;b.validateForm?a=b.validateForm(i):i.find(".control-field").each(function(b){e(this).hasClass("invalid-form")&&(a=!1)}),a?i.find(".confirm-button").removeAttr("disabled"):i.find(".confirm-button").attr("disabled",!0)},p=function(a,b){return function(){b.toggleClass("invalid-form",!a.validate(b.val(),i)),o()}},q=function(a,b,c){return function(){c.toggleClass("invalid-form",!a.validate(b.selectedNode(),i)),o()}},r=function(a,b){return function(){var c=b[0].dropzone,d=a.validate?!a.validate(c):0===c.getAcceptedFiles().length;b.toggleClass("invalid-form",d),o()}},s=function(a){return function(b){13!==b.which||a.find(".confirm-button").attr("disabled")||(b.preventDefault(),a.find(".confirm-button").click())}},t=function(a,b){d.each(b,function(b,c){a.prop(c,b)})},u=null;if(void 0!==b.controls){for(var v=e("<div></div>"),w=0;w<b.controls.length;++w){var x=b.controls[w];if(null!==x){var y,z=e("<div></div>");if(void 0!==x.label){var A=e("<label></label>").text(x.label);void 0!==x.title&&A.prop("title",x.title),z.append(A)}var B;switch(x.controlType){case"select":for(B=e("<select></select>"),y=0;y<x.options.length;++y){var C;C=void 0!==x.options[y].toLowerCase?x.options[y].toLowerCase():x.options[y],B.append(e("<option/>").prop("value",C).text(x.options[y]))}x.disabled&&B.attr("disabled",!0),x.title&&B.attr("title",x.title);break;case"selectWithValue":B=e("<select></select>");for(var D=0;D<x.options.length;++D){var E=x.options[D].label,F=x.options[D].value,G=x.value===x.options[D].value;B.append(e("<option/>").prop("value",F).attr("data-label",E).attr("selected",G).text(E))}x.disabled&&B.attr("disabled",!0),x.title&&B.attr("title",x.title);break;case"input":B="textarea"===x.type?e("<textarea/>"):e("<input/>").prop("type",x.type),x.required&&B.attr("required","true"),void 0!==x.props&&t(B,x.props),void 0!==x.title&&B.attr("title",x.title),void 0!==x.value&&B.attr("value",x.value),x.placeholder&&B.attr("placeholder",x.placeholder),x.max?B.attr("max",x.max):x.min&&B.attr("min",x.min);break;case"text":B=e("<div/>").text(x.message);break;case"html":B=e("<div/>").html(x.message);break;case"dropzone":B=e("<div></div>"),B.addClass("dropzone"),k.installDropzone(B,x.options);var H=B[0].dropzone;if(x.required||x.validate){var I=r(x,B);H.on("success",I),H.on("error",I),H.on("removedfile",I),I()}break;case"filetreePath":B=e("<div/>").html(x.pathlabel+"<span class='filetree-path'></span>"),n=function(b){var c=function(b){var c=a("../helpers/NavFunc"),d=c.getFSPath(b.id);d="/"===d?d:d+"/",m.find("span.filetree-path").html(d)};b.treeProvider.selectionChanged=c};var J=e(".dialog-filetree-container")[0];J&&n(J.fileTree);break;case"filetree":B=e('<div class="dialog-filetree-container">');var K=e("<div>");B.append(K);var L=new g(K,window.fileBrowserView.getReadOnlyTreeProvider(x.nodeType,x.hideExamples),{scrollElement:B[0]});if(B[0].fileTree=L,n&&n(L),i.addClass("file-picker-dialog"),void 0!==x.validate){var M=q(x,L,B);L.treeProvider.selectionChanged=M,M()}break;case"cron":B=e('<div class="dialog-cron-container"></div>');try{B.cron({initial:null===x.initialSched?void 0:x.initialSched,initialTimeZone:x.initialTimeZone,onChange:x.onChange})}catch(N){console.warn("Could not create control, retrying with no cron expr.",N),B.html(""),B.cron({onChange:x.onChange}),B.find("select").addClass("cron-widget-invalid")}i.css("width","600px");break;case"multifield":for(B=e('<div class="dialog-multifield-container"></div>'),y=0;y<x.subfields.length;y++){var O=x.subfields[y];if("html"===O.type)B.append(e("<span/>").html(O.html));else{if("select"!==O.type)throw"Unknown field type: "+O.type;var P=e("<select></select>").appendTo(B);O.width&&P.css("width",O.width),O.id&&P.prop("id",O.id);for(var Q=0;Q<O.options.length;Q++){var R=O.options[Q];R[1]===O.value?P.append(e("<option selected/>").prop("value",R[1]).text(R[0])):P.append(e("<option/>").prop("value",R[1]).text(R[0]))}}}break;default:console.warn("Unknown type of control: "+x.controlType)}if(B.addClass("control-field"),void 0!==x["class"]&&B.addClass(x["class"]),void 0!==x.id&&B.attr("id",x.id),x.focus&&(u=B),void 0!==x.validate&&("input"===x.controlType||"select"===x.controlType)){var S=p(x,B);S(),B.on("change paste keyup focus keypress",S)}if(x.confirmOnEnter===!0){var T=s(i);B.on("keypress",T)}var U=e("<div></div>");U.append(B),x.labelLeft?z.prepend(U):z.append(U);var V=e("<div class='multi-input-row'></div>");x.id&&V.attr("data-row-for",x.id),x.hidden&&V.hide(),V.append(z),v.append(V)}}m.append(v)}if(void 0!==c){var W=document.createElement("div");W.innerHTML=c,m.append(W)}if(void 0!==b.topHtml){var X=document.createElement("div");X.innerHTML=b.topHtml,m.prepend(X)}return void 0!==b["class"]&&i.addClass(b["class"]),i.on("remove",function(){e(".modal-backdrop").remove()}),i.find(".confirm-button").unbind("click"),i.find(".confirm-button").on("click",h),i.on("hidden",function(){return i.remove(),b.cancel&&b.cancel(),!1}),o(),i.modal(),null!==u&&u.focus(),i},reactCustom:function(a,b,c){if(!window.settings.enableBasicReactDialogBoxes)return this.custom(a,b,c);var d,e=f.createFactory(h);if(void 0!==b){var g=f.createElement("div",{dangerouslySetInnerHTML:{__html:b}}),i=a;a.children=g,d=e(i)}else d=e(a);return c||j.createModal(d),d},setupButtons:function(a,b,c,d){var e=a.find(b);d?(e.css("display",""),e.text(c)):e.hide()}};b.exports=m},{"../../lib/bootstrap":128,"../../lib/jquery-cron":145,"../../lib/jquery-ui-bundle":146,"../../lib/jquery.ajaxQueue":147,"../filetree/FileTree":21,"../forms/ReactCustom.jsx":24,"../helpers/NavFunc":46,"../helpers/ReactDialogBox.jsx":49,"../helpers/ReactModalUtils":51,"../helpers/Utility":55,"../templates/dialogBaseTemplate.html":93,jquery:164,"react/addons":188,underscore:365}],34:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("../helpers/Nestify"),h=a("../helpers/HiveSchema"),i={};i.findMaxFontSize=function(a,b,c,d){var e,f=b+.5;do f-=.5,e=this.strSize(a,f);while((e.height>d||e.width>c)&&f>1);return f},i.moveCursor=function(a,b){if(a&&a.length>0&&(a=a.get(0)),a&&document.createRange){b||(b=0);var c=window.getSelection();c.collapse(a.firstChild,b)}},i.isScrolledIntoView=function(a){var b=d("#content").offset().top,c=b+d("#content").height(),e=d(a).offset().top-75,f=e+d(a).height();return c>=f&&e>=b},i.createTable=function(a,b,c){function i(a){n.selectAll("tr").data(a).enter().append("tr").selectAll("td").data(k).enter().append("td").each(function(a,b){null!==a&&"object"==typeof a&&(c&&c[b]?this.__nfData__=h.apply(a,c[b]):this.__nfData__=a)}).classed({nestify:function(a){return Boolean(this.__nfData__)},"nestify-expandable":function(a){return Boolean(this.__nfData__)}}).html(function(a){return g.initializeCollapsedHTML(a,this.__nfData__)})}function j(){var b=d(l),c=b.parent(),e=a.length;c.scroll(function(){e>o&&b.height()-c.scrollTop()<500&&i(a.slice(0,o+=100))})}var k=function(a){for(;a.length<b.length;)a.push("");return a},l=document.createElement("table"),m=f.select(l).attr("class","table table-bordered table-condensed table-hover");m.append("thead").append("tr").selectAll("th").data(b).enter().append("th").text(String);var n=m.append("tbody"),o=100;return window.testMode&&(o=1/0),i(a.slice(0,o)),e.defer(j),l},i.getCSSProperty=function(a,b,c){var e=d.extend({},b,{position:"absolute",visibility:"hidden"}),f=d("<div/>").text(a).css(e).appendTo(d("body")),g=f.css(c);return f.remove(),g},i.strSize=function(a,b){var c=b||12,e=c+"px arial",f=d("<div/>").text(a).css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden",font:e}).appendTo(d("body")),g=f.width(),h=f.height();return f.remove(),{width:g,height:h}},b.exports=i},{"../helpers/HiveSchema":37,"../helpers/Nestify":47,d3:152,jquery:164,underscore:365}],35:[function(a,b,c){"use strict";var d=a("../helpers/Utility"),e=a("../../lib/filesaver/FileSaver");a("../../lib/blob/Blob");var f={},g=function(a){return/[,"\r\n]/.test(a)?'"'+a.replace(/"/g,'""')+'"':a};f.tableToCSV=function(a,b){for(var c="",e=0;e<a.length;e++)c+=g(a[e]),e<a.length-1&&(c+=",");for(c+="\n",e=0;e<b.length;e++){for(var f=0;f<b[e].length;f++)c+=g(d.renderString(b[e][f])),f<b[e].length-1&&(c+=",");c+="\n"}return c},f.downloadTableAsCSV=function(a,b,c){var d=f.tableToCSV(a,b),g=new Blob([d],{type:"application/csv;charset=utf-8"});window.recordUsage("dataExported",g.size),e.saveAs(g,c)},b.exports=f},{"../../lib/blob/Blob":127,"../../lib/filesaver/FileSaver":144,"../helpers/Utility":55}],36:[function(a,b,c){"use strict";var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=a("underscore"),f=a("react/addons"),g=a("../helpers/Tooltip.jsx"),h=f.addons.classSet,i=f.createClass({displayName:"Highlight",propTypes:{tooltip:f.PropTypes.node,animate:f.PropTypes.bool,autoHideTooltip:f.PropTypes.bool,duration:f.PropTypes.number},getDefaultProps:function(){return{animate:!0,tooltip:"",autoHideTooltip:!1,duration:2e3}},getInitialState:function(){return{highlightTimer:null}},componentWillUnmount:function(){this.clearHighlight()},clearHighlight:function(){this.state.highlightTimer&&"forever"!==this.state.highlightTimer&&clearTimeout(this.state.highlightTimer)},highlight:function(a){if(this.isMounted()){a=void 0!==a?a:{};var b=void 0!==a.tooltip?a.tooltip:this.props.tooltip,c=void 0!==a.duration?a.duration:this.props.duration,d=void 0!==a.animate?a.animate:this.props.animate,e=void 0!==a.autoHideTooltip?a.autoHideTooltip:this.props.autoHideTooltip,f=a.classes;this.clearHighlight();var g;g=c>0?setTimeout(this.unhighlight,c):"forever",this.setState({highlightTimer:g,tooltip:b,animate:d,autoHideTooltip:e,classes:f}),b&&this.refs.tooltip.showTooltip()}},unhighlight:function(a){this.isMounted()&&this.isHighlighted()&&(this.clearHighlight(),this.setState({highlightTimer:null}),(a||this.state.autoHideTooltip)&&this.refs.tooltip.hideTooltip())},isHighlighted:function(){return null!==this.state.highlightTimer},render:function(){var a;return this.isHighlighted()?(a={"highlight-active":!0,"highlight-animation":this.state.animate},e.each(this.state.classes,function(b){a[b]=!0})):a={"highlight-inactive":!0},f.createElement(g,d({ref:"tooltip",toggleOnHover:!1},this.props,{text:this.state.tooltip}),f.createElement("div",{className:h(a)},this.props.children))}});b.exports=i},{"../helpers/Tooltip.jsx":54,"react/addons":188,underscore:365}],37:[function(a,b,c){"use strict";var d={},e=function(a){this.fields=a};e.prototype.toString=function(){return"struct<"+this.fields.join(",")+">"};var f=function(a,b){this.name=a,this.dataType=b};f.prototype.toString=function(){return this.name+":"+this.dataType};var g=function(a){this.elementType=a};g.prototype.toString=function(){return"array<"+this.elementType+">"};var h=function(a,b){this.keyType=a,this.valueType=b};h.prototype.toString=function(){return"map<"+this.keyType+","+this.valueType+">"};var i=function(a){this.dataTypes=a};i.prototype.toString=function(){return"union<"+this.dataTypes.join(",")+">"};var j=function(a){this.typeName=a};j.prototype.toString=function(){return this.typeName},d.StructType=e,d.StructField=f,d.ArrayType=g,d.MapType=h,d.UnionType=i,d.AtomType=j;var k="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890_";d.parse=function(a){var b=0,c=function(){for(var c=b;b<a.length&&-1!==k.indexOf(a[b]);)b++;if(b===c)throw"Invalid schema string: "+a+", expected identifier at position "+b;return a.substring(c,b)},d=function(c){if(b===a.length||a[b]!==c)throw"Invalid schema string: "+a+", expected "+c+" at position "+b;b++},l=function n(){if("struct<"===a.substring(b,b+7)){b+=7;for(var k=[];">"!==a[b];){var l=c();d(":");var m=n();k.push(new f(l,m)),">"!==a[b]&&d(",")}return d(">"),new e(k)}if("array<"===a.substring(b,b+6)){b+=6;var o=n();return d(">"),new g(o)}if("map<"===a.substring(b,b+4)){b+=4;var p=n();d(",");var q=n();return d(">"),new h(p,q)}if("union<"===a.substring(b,b+6)){b+=6;for(var r=[];">"!==a[b];)r.push(n()),">"!==a[b]&&d(",");return d(">"),new i(r)}if("decimal("===a.substring(b,b+8)){b+=8;var s=c();if(")"===a[b])return d(")"),new j("decimal("+s+")");d(",");var t=c();return d(")"),new j("decimal("+s+","+t+")")}return new j(c())},m=l();if(b<a.length)throw"Invalid schema string: "+a;return m},d.apply=function(a,b){var c;if(!a)return a;if(b instanceof e){var f={};for(c=0;c<b.fields.length;c++)f[b.fields[c].name]=d.apply(a[c],b.fields[c].dataType);return f}if(b instanceof g){var i=new Array(a.length);for(c=0;c<a.length;c++)i[c]=d.apply(a[c],b.elementType);return i}if(b instanceof h){var j={};for(var k in a)a.hasOwnProperty(k)&&(j[k]=d.apply(a[k],b.valueType));return j}return a},b.exports=d},{}],38:[function(a,b,c){"use strict";var d=(a("../helpers/Utility"),{});d.importNotebookV1=function(a){var b=a.commands;b.forEach(function(a){d.importCommandV1(a)});var c=a;return c.id=c.origId,c.type="shell",c.commands=null,{notebook:c,commands:b}},d.importCommandV1=function(a){return a.id=a.origId,a.type="command",a},b.exports=d},{"../helpers/Utility":55}],39:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react/addons"),g=f.createClass({displayName:"LargeOutputWrapper",propTypes:{lockParentScrollEnabled:f.PropTypes.bool,scrollableParentSelector:f.PropTypes.string,resizeEnabled:f.PropTypes.bool,defaultWrapperHeight:f.PropTypes.number,minWrapperHeight:f.PropTypes.number,enabled:f.PropTypes.bool},getDefaultProps:function(){return{lockParentScrollEnabled:!0,scrollableParentSelector:"#content",enabled:!0,resizeEnabled:!0,defaultWrapperHeight:400,minWrapperHeight:100}},getInitialState:function(){return{showWrapper:!1,childFocused:!1}},componentDidMount:function(){this.props.enabled&&(this.checkSizeAndSetWrapper(),d(window).on("resize",this.checkSizeAndSetWrapper))},componentDidUpdate:function(){this.props.enabled?this.checkSizeAndSetWrapper():d(window).off("resize",this.checkSizeAndSetWrapper)},componentWillUnmount:function(){d(window).off("resize",this.checkSizeAndSetWrapper)},checkSizeAndSetWrapper:function(){if(this.props.enabled&&this.isMounted()){var a=d(this.props.scrollableParentSelector).height(),b=d(this.refs.child.getDOMNode()).height();.8*a>b&&this.state.showWrapper&&this.setState({showWrapper:!1}),b>.8*a&&!this.state.showWrapper&&this.setState({showWrapper:!0}),this.state.showWrapper&&this.setWrapper()}},setWrapper:function(){if(this.state.showWrapper){var a=d(this.refs.resizableWrapper.getDOMNode()),b=d(this.refs.child.getDOMNode()).height(),c=d(this.props.scrollableParentSelector).height();if(this.props.resizeEnabled){var f=d(this.getDOMNode()),g=f.parent().width();a.width(g),a.resizable({handles:"se",minHeight:this.props.minWrapperHeight,maxHeight:e.min([b,.8*c]),minWidth:g,maxWidth:g})}}},getChildWithRef:function(){var a=f.Children.only(this.props.children);return f.addons.cloneWithProps(a,{ref:"child"})},onFocus:function(){this.setState({childFocused:!0})},onBlur:function(){this.setState({childFocused:!1})},onMouseLeave:function(){d(this.refs.noscrollWrapper.getDOMNode()).blur(),this.setState({childFocused:!1})},onKeyUp:function(a){27===a.which&&(d(this.refs.noscrollWrapper.getDOMNode()).blur(),this.setState({childFocused:!1}))},render:function(){var a=this.getChildWithRef(),b=this.state.childFocused&&this.props.lockParentScrollEnabled;return this.state.showWrapper?(b?d(this.props.scrollableParentSelector).addClass("lock-scroll"):d(this.props.scrollableParentSelector).removeClass("lock-scroll"),f.createElement("div",{ref:"resizableWrapper",className:"resizable-wrapper",style:{height:this.props.defaultWrapperHeight},onKeyUp:this.onKeyUp,onMouseLeave:this.onMouseLeave},f.createElement("div",{ref:"noscrollWrapper",className:"noscroll-wrapper"+(this.state.childFocused?"":" noscroll"),tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur},f.createElement("div",{className:"inner"},a)))):a}});b.exports=g},{jquery:164,"react/addons":188,underscore:365}],40:[function(a,b,c){"use strict";var d=function(){var a={};return{setItem:function(b,c){a[b]=String(c)},getItem:function(b){return a[b]},removeItem:function(b){delete a[b]},clear:function(){a={}}}},e=function(){window.localStorage=d()};e.storageMock=d,b.exports=e},{}],41:[function(a,b,c){"use strict";function d(){var a="testKey",b=window.localStorage;try{return b.setItem(a,"1"),b.removeItem(a),!0}catch(c){return!1}}var e=a("../helpers/DialogBox"),f=a("../helpers/LocalStorageMock"),g={};g.initialize=function(){return window.localStorage&&d()?(this.storage=window.localStorage,this):(e.alert('Local storage is not supported by your browser. Please exit "Private Mode", or upgrade to a modern browser.'),this.storage=f.storageMock(),this)},g.serialize=function(a){return JSON.stringify(a)},g.deserialize=function(a){if("string"==typeof a)try{return JSON.parse(a)}catch(b){return a||void 0}},g.remove=function(a){this.storage.removeItem(a)},g.clear=function(){this.storage.clear()},g.set=function(a,b){return void 0===b?this.remove(a):(this.storage.setItem(a,g.serialize(b)),b)},g.get=function(a,b){var c=this.deserialize(this.storage.getItem(a));return void 0===c?b:c},g.has=function(a){return Boolean(this.storage.getItem(a))},g.keys=function(){for(var a=[],b=0,c=this.storage.length;c>b;b++)a.push(this.storage.key(b));return a},b.exports=g.initialize()},{"../helpers/DialogBox":33,"../helpers/LocalStorageMock":40}],42:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("backbone"),g=a("../helpers/LocalStorageUtil"),h="preferenceChanged",i=function(a){var b=this,c=window.settings?window.settings.user:"unknown",i=c+"-"+a;e.extend(this,f.Events),d(window).bind("storage",function(a){a.originalEvent.key&&0===a.originalEvent.key.indexOf(i)&&b.trigger(h)}),this.set=function(a,b){g.set(i+"-"+a,b),this.trigger(h)},this.get=function(a){return g.get(i+"-"+a)},this.clear=function(){this.trigger(h),e.filter(g.keys(),function(a){return 0===a.indexOf(i)}).map(function(a){g.remove(a)})}};b.exports=i},{"../helpers/LocalStorageUtil":41,backbone:151,jquery:164,underscore:365}],43:[function(a,b,c){"use strict";var d=a("../constants/CountryCodeMap"),e=a("../constants/StateCodeMap"),f={};f.coverage=function(a,b){for(var c=[],d=[],e=0;e<a.length;e++)a[e][0].toUpperCase()in b?c.push(a[e][0]):d.push(a[e][0]);return{"in":c,out:d}},f.USStates=function(a){return f.coverage(a,e)},f.World=function(a){return f.coverage(a,d)},b.exports=f},{"../constants/CountryCodeMap":8,"../constants/StateCodeMap":16}],44:[function(a,b,c){"use strict";function d(a){if(a.length>0){var b=a.trim().split(/\s/)[0];if("%md"===b)return a.replace(/^\s*%md/,"")}return a}var e=a("./RenderMath.js"),f=a("../../lib/marked.min");f.setOptions({sanitize:!0,headerPrefix:"databricks-markdown-header-"});var g=function(a){this.elem=a};g.prototype.render=function(a){if(null!==a&&void 0!==a){var b=d(a);this.elem.html(f(b)),e(this.elem[0])}},g.prototype.renderToString=function(a){if(null!==a&&void 0!==a){var b=d(a);return f(b)}},b.exports=g},{"../../lib/marked.min":149,"./RenderMath.js":52}],45:[function(a,b,c){"use strict";var d=a("../constants/IconsForType"),e=a("../constants/WorkspaceConstants"),f={};f.isOwner=function(a){return window.settings.user===a.get("owner")},f.isSystemFolder=function(a){return"folder"===a.get("type")&&a.get(e.NonModifiableAttribute)},f.isPermissionModifiable=function(a){var b=a.get("type"),c=a.get("name"),d=a.get("isExample"),g=f.isSystemFolder(a),h=d||g&&c===e.SharedFolderName;return!h&&("shell"===b||"folder"===b)},f.isHomeFolder=function(a){return"folder"===a.get("type")&&void 0!==a.get(e.UserIdAttribute)&&null!==a.get(e.UserIdAttribute)},f.iconsForModel=function(a){var b=a.get("type"),c=a.get("icon")||d[b],g=c===d.folder?d.openFolder:void 0;a.get("isExample")&&0===a.get("parentId")&&(c=d.example,g=void 0);var h=f.isHomeFolder(a);return window.settings&&window.settings.enableWorkspaceAclService&&(a.get(e.NonModifiableAttribute)&&a.get("name")===e.UserFolderName?(c=d.users,g=void 0):a.get(e.NonModifiableAttribute)&&a.get("name")===e.SharedFolderName?(c=d.shared,g=void 0):h&&(a.get("name")===window.settings.user?(c=d.home,g=void 0):(c=d.userFolder,g=d.openUserFolder))),"table"===b&&a.has("hasError")&&a.get("hasError")===!0&&(c="exclamation-circle"),{icon:c,openIcon:g||c}},b.exports=f},{"../constants/IconsForType":11,"../constants/WorkspaceConstants":17}],46:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("backbone"),g=a("react/addons"),h=a("../acl/WorkspaceAcl"),i=a("../constants/WorkspaceConstants"),j=a("../helpers/DialogBox"),k=a("../helpers/LocalUserPreference"),l=a("../helpers/ReactModalUtils"),m=a("../helpers/Utility"),n=a("../views/ImportDialog.jsx"),o={},p="lastNotebookLanguage";o.localPreference=function(){return o.localPreference._result||(o.localPreference._result=new k("NavFunc")),o.localPreference._result},o.addFolder=function(a){j.prompt({message:"New Folder Name",confirmButton:"Create Folder",validate:m.isValidName,confirm:function(b){window.fileBrowserView.createNode({name:b,type:"folder",parentId:a})}})},o.addDashboard=function(a,b,c){j.prompt({message:"New Dashboard Name",confirmButton:"Create Dashboard",validate:m.isValidName,confirm:function(b){var d={name:b,parentId:a,type:"dashboard",autoSubmit:!0,title:b,memory:2};window.fileBrowserView.createNode(d,function(a){window.router.navigate("dashboard/"+a.get("id")+"/edit",{trigger:!0}),c&&c(a)})}})},o.importItem=function(a){n.createDialog(a)},o.exportItem=function(a){window.open("/serialize/"+a+"?csrf="+window.settings.csrfToken)},o.exportSource=function(a){window.open("/serialize/source/"+a+"?csrf="+window.settings.csrfToken)},o.exportHTML=function(a){window.open("/serialize/html/"+a+"?csrf="+window.settings.csrfToken)},o.exportIPython=function(a){window.open("/serialize/ipython/"+a+"?csrf="+window.settings.csrfToken)},o.getFullPath=function(a){if(0===a)return"/";var b=window.treeCollection.get(a);if(b){var c=b.get("path").split("/").slice(1),d=c.map(function(a){var b=window.treeCollection.get(a);return b?b.get("name"):"???"});return"/"+d.join("/")}return"???"},o.isExampleNode=function(a){var b=window.treeCollection.get(a);if(b){var c=parseInt(b.get("path").split("/").slice(1)[0]),d=b.id===c?b:window.treeCollection.get(c);return d&&d.get("isExample")}return!1},o.getHomeFolderNode=function(){var a={type:"folder",name:window.settings.user};return a[i.UserIdAttribute]=window.settings.userId,window.treeCollection.findWhere(a)},o.getDefaultFolderId=function(){if(window.settings&&window.settings.enableWorkspaceAclService){var a=o.getHomeFolderNode();return a?a.id:0}return 0},o.isHomeFolderForUser=function(a,b){return a&&"folder"===a.get("type")&&a.get(i.NonModifiableAttribute)&&a.get(i.UserIdAttribute)===b},o.addReactNotebook=function(a){var b=function(b){var c={parentId:a,name:b.find(".shell-name").val(),language:b.find(".language").val(),clusterId:b.find(".clusters").val()||""};o.localPreference().set(p,b.find(".language").val()),window.fileBrowserView.createNotebook(c,function(a){window.router.navigate("notebook/"+a.id,{trigger:!0})})};o.addNotebookInternal(a,b)},o.getFSPath=function(a){if(0===a)return"/";var b=window.treeCollection.get(a),c=b.get("path").split("/").map(function(a){var b=parseInt(a);return b>0?window.treeCollection.get(b).get("name"):""}).join("/");return c},o.cloneNode=function(a,b,c,e,f){var g=this,h=window.treeCollection.get(a),i=h.get("name"),k=i+" (2)",l=i.match(/(.*) \(([0-9]+)\)/);l&&(k=l[1]+" ("+(parseInt(l[2])+1)+")");var m=j.custom({title:"Cloning: '"+i+"'",confirmButton:"Clone","class":"copy-file-dialog",controls:[{controlType:"filetreePath",pathlabel:"Cloning to folder: "},{controlType:"input",id:"cloneFileName",type:"text",label:"New Name: ",confirmOnEnter:!0,value:k,focus:!0},f?null:{controlType:"filetree",id:"cloneFolderPicker",nodeType:"folder",hideExamples:!0}],confirm:function(h){var i=f||h.find("#cloneFileName")[0].value,k=f||h.find("#cloneFolderPicker")[0].fileTree.selectedFolder(),l=f||o.getFSPath(k.id),m=f||l+"/"+i;b&&b(),d.ajax("/serialize/clone/"+a,{contentType:"application/json; charset=UTF-8",type:"POST",data:JSON.stringify({path:m}),success:function(a){c&&c(a.newId)},error:function(d,h,i){e&&e(),f||j.alert(i,!1,"OK",function(){g.cloneNode(a,b,c,e,f)},void 0,!0)}})},cancel:function(){}});if(!f){var n=m.find("#cloneFolderPicker")[0].fileTree,p=function(a){a=a||window.treeCollection.get(o.getDefaultFolderId());var b=window.fileBrowserView.toTreeNode(a);n.openToNode(b)},q=window.fileBrowserView.getModel(h.get("parentId"));!q.get("isExample")&&window.settings&&window.settings.enableWorkspaceAclService?q.fetchPermissionLevel(function(){this.canManage()?p(q):p()}):p()}},o.addNotebookInternal=function(a,b){var c=window.clusterList.attachableClusters(),f=o.localPreference().get(p)||"python",g=["Python","Scala","SQL"];window.settings.enableR&&g.push("R");var h,i=function(){var a=window.clusterList.attachableClusters();if(0===a.length)d(h).find("[data-row-for='clusters']").hide();else{var b=d(h).find(".clusters option");b.each(function(b,c){var f=d(c).attr("value");e.find(a,function(a){return a.get("clusterId")===f})||d(c).remove()}),e.each(a,function(a){if(!e.find(b,function(b){return d(b).attr("value")===a.get("clusterId")})){var c=a.shortDescription(),f=a.get("clusterId");d(h).find(".clusters").append(d('<option value="'+f+'" data-label="'+c+'">'+c+"</option>"))}}),d(h).find("[data-row-for='clusters']").show()}};window.clusterList.on("change add remove reset",i),h=j.custom({title:"Create Notebook",confirmButton:"Create",showConfirmButton:!0,showCancelButton:!0,controls:[{controlType:"input",type:"text",label:"Name","class":"shell-name",required:!0,focus:!0,validate:m.isValidName,confirmOnEnter:!0},{controlType:"selectWithValue",label:"Language","class":"language",options:e.map(g,function(a){return{label:a,value:a.toLowerCase()}}),value:f,confirmOnEnter:!0},{controlType:"selectWithValue",label:"Cluster","class":"clusters",id:"clusters",options:c.map(function(a){return{label:a.shortDescription(),value:a.get("clusterId")}}),confirmOnEnter:!0}],confirm:function(a){window.clusterList.off("change add remove reset",i),b(a)},cancel:function(){window.clusterList.off("change add remove reset",i)}}),i()},o.addLibrary=function(a){window.router.navigate("#create/library/"+a,{trigger:!0})},o.addTable=function(){window.router.navigate("#create/table",{trigger:!0})},o.removeView=function(a,b){b=void 0!==b?b:!0,console.log("Removing view",a.name,b);var c=a.$el.attr("id"),d=window.viewIdToFragment[c];!a.className||"shellSessionView"!==a.className&&"scriptView"!==a.className||delete window.shellSessionHash[a.model.shellId],window.router.recentViewRoutes=e.without(window.router.recentViewRoutes,a),a.remove(),delete window.viewIdtoView[c],delete window.viewIdToFragment[c],delete window.fragmentToView[d],b&&f.history.fragment===d&&window.router.navigate("",{trigger:!0})},o.renameNode=function(a,b){var c=b.get("name");j.prompt({message:"Enter a new name for "+c+":",confirmButton:"Rename",defaultValue:c,validate:m.isValidName,confirm:function(f){var g={name:f};b.set(g),b.save(g,{patch:!0,success:function(){var b,c=window.activeView;c.id?b=c.id:c.props.notebook&&(b=c.props.notebook.id),null!==c&&b===a?(c.name?c.name=f:c.props.notebook.attributes.name=f,"shellSessionView"!==c.className&&"ReactNotebookView"!==c.type.displayName&&c.render(),"ReactNotebookView"===c.type.displayName&&c.props.notebook.id===a?d("span.tb-title").text(f).data("data-name",f):window.router.show(c,!1)):e.values(window.fragmentToView).forEach(function(b){b.id===a&&(b.name=f,"shellSessionView"!==b.className&&b.render())})},error:function(a,b){var d={name:c};a.set(d),j.alert("Renaming the element failed: "+b.statusText)}})}})},o.deleteNode=function(a,b,c,d){var e="Are you sure you want to delete "+b.get("name");"folder"===b.get("type")&&(1===c?e+=" and the item in it":c>1&&(e+=" and the "+c+" items in it")),e+="? This cannot be undone.",j.confirm({message:e,confirmButton:"Confirm and Delete",confirm:function(){var a=b.get("type");switch(a){case"table":d&&d();break;case"library":d&&d();break;default:window.router.navigate("",{trigger:!0}),b.destroy({error:function(a,b){j.alert("Could not delete "+a.get("name")+": "+b.statusText+". Please refresh the page.")}})}}})},o.moveNodes=function(a,b,c){var d=o.getFullPath(b),f=0,g=[],h=function(){if(f===a.length&&g.length>0)if(1===g.length)j.alert("Could not move "+g[0].srcPath+" to "+d+": "+g[0].error);else{var b=e.map(g,function(a){return"<li>"+a.srcPath+": "+a.error+"</li>"});j.alert(g.length+" files could not be moved to "+d+":<br/><br/><ul>"+b.join("")+"</ul>",!0)}};e.each(a,function(a){var c,d=o.getFullPath(a);if(c=o.getAncestors(b.id),b.id===a.get("parentId"))f+=1;else if(e.contains(c,a.id))g.push({srcPath:d,error:"Cannot move folder into itself"}),f+=1;else{var i={parentId:b.id};a.save(i,{patch:!0,wait:!0,success:function(){f+=1,h()},error:function(a,b){g.push({srcPath:d,error:b.statusText}),f+=1,h()}})}}),h()},o.getAncestors=function(a){for(var b=[0],c=window.treeCollection.get(a);c;)b.push(c.id),c=window.treeCollection.get(c.get("parentId"));return b},o.checkAndPreviewPermission=function(b,c,e){var f=a("../acl/MovePermissionPreview.jsx"),i=new h({id:b.id,name:b.get("name"),model:b}),j=new h({id:b.id,name:b.get("name"),moveTargetId:c,model:b});d.when(i.fetch(),j.fetch()).then(function(){if(i.isEqual(j,{ignoreCurrentUser:!0}))return e();var a=g.createElement(f,{workspaceAcl:i,previewWorkspaceAcl:j,onConfirm:e});l.createModal(a)},e)},b.exports=o},{"../acl/MovePermissionPreview.jsx":2,"../acl/WorkspaceAcl":5,"../constants/WorkspaceConstants":17,"../helpers/DialogBox":33,"../helpers/LocalUserPreference":42,"../helpers/ReactModalUtils":51,
"../helpers/Utility":55,"../views/ImportDialog.jsx":103,backbone:151,jquery:164,"react/addons":188,underscore:365}],47:[function(a,b,c){"use strict";var d=a("jquery"),e=a("../helpers/Utility"),f={},g=function(a){if(null===a||"object"!=typeof a)return!1;for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};f.initializeCollapsedHTML=function(a,b){var c=g(b);if(!c)return e.renderString(a,1e3);var f;f=c?'<i class="nestify-expand fa fa-caret-right"></i>':"<i>&nbsp;</i>";var h=d("<div/>").text(e.renderString(b));return f+h.html()};var h=function(a){var b=a[0].__nfData__,c=a[0].__nfKey__;a.empty();var f=d('<span class="nestify-key"/>'),h=d('<span class="nestify-colon"/>');c&&(f.text(c),h.text(": "));var i,j=d("<div/>").text(e.renderString(b,1e3)),k=g(b);i=d(k?'<i class="nestify-expand fa fa-caret-right"></i>':"<i>&nbsp;</i>"),a.append(i),a.append(f),a.append(h),a.append(j),a.removeClass("nestify-collapsible"),k&&a.addClass("nestify-expandable")},i=function(a){var b=a[0].__nfData__,c=a[0].__nfKey__;a.empty();var e=d('<i class="nestify-collapse fa fa-caret-down"></i>'),f=d('<span class="nestify-key"/>'),g=d('<span class="nestify-colon"/>');c?(f.text(c),g.text(": ")):(f.text(Array.isArray(b)?"array":"object"),f.addClass("nestify-object"));var i=d("<ul/>");for(var j in b)if(b.hasOwnProperty(j)){var k=d("<li/>"),l=d('<div class="nestify"/>');l[0].__nfData__=b[j],l[0].__nfKey__=j,Array.isArray(b)&&l.addClass("nestify-array"),h(l),k.append(l),i.append(k)}a.append(e),a.append(f),a.append(g),a.append(i),a.removeClass("nestify-expandable"),a.addClass("nestify-collapsible")},j=function(a){var b=d(a.target);if(b.is("i")){var c=b.closest(".nestify");c.hasClass("nestify-expandable")?i(c):c.hasClass("nestify-collapsible")&&h(c)}};f.enable=function(a,b){var c,e,f=a.find(".nestify").addBack(".nestify");if(!b)for(c=0;c<f.length;c++)e=d(f[c]),e[0].__nfData__||(e[0].__nfData__=JSON.parse(e.text())),h(e);a.click(j)},b.exports=f},{"../helpers/Utility":55,jquery:164}],48:[function(a,b,c){"use strict";var d=a("underscore"),e=a("../helpers/DialogBox"),f={};f.isRunning=function(a,b){return f.isRunningAll(a)||f.isRunningSingleCommand(a,b)},f.isRunningAll=function(a){var b=a.get("runStatus"),c=a.get("jsRunAllAction");return"RunAll"===c?!0:"runningFromRunAll"===b?!0:!1},f.isRunningSingleCommand=function(a,b){var c=a.get("runStatus");if("running"===c)return!0;var d=b?b.where({running:!0}).length:0,e=b?b.where({shouldRun:!0}).length:0;return d+e>0},f.isCancelling=function(a,b){var c=a.get("runStatus"),d=a.get("jsRunAllAction");return"Cancel"===d&&"idle"!==c?!0:b.where({state:"cancelling"}).length>0?!0:!1},f.handleRpcError=function(a,b,c,f){var g;g=403===a.status?"Permission denied: "+a.statusText:4!==a.readyState?"Oops! Network error. Please check your network connection.":"Oops! Server error: "+a.statusText;var h={message:g,confirmButton:"Reload page",cancelButton:"Close",confirm:function(){window.location.reload(!0)}};d.extend(h,f),e.confirm(h)},b.exports=f},{"../helpers/DialogBox":33,underscore:365}],49:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactAlert.jsx"),f=a("../forms/ReactConfirm.jsx"),g=a("../forms/ReactPrompt.jsx"),h=a("../helpers/ReactModalUtils"),i={alert:function(a,b,c,f,g){var i={message:a};b&&(console.warn("HTML strings are no longer supported."),i.message=d.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),c&&(i.button=c),f&&(i.callback=f),g&&(i.name=g);var j=d.createElement(e,i);return h.createModal(j),j},confirm:function(a){var b=a;a.messageHTML&&(console.warn("HTML strings are no longer supported."),b.message=d.createElement("div",{dangerouslySetInnerHTML:{__html:a.messageHTML}}));var c=d.createElement(f,b);return h.createModal(c),c},prompt:function(a){var b=d.createElement(g,a);return h.createModal(b),b}};b.exports=i},{"../forms/ReactAlert.jsx":22,"../forms/ReactConfirm.jsx":23,"../forms/ReactPrompt.jsx":28,"../helpers/ReactModalUtils":51,"react/addons":188}],50:[function(a,b,c){"use strict";var d=a("react/addons"),e=d.createClass({displayName:"ReactModal",propTypes:{modalName:d.PropTypes.string.isRequired,classes:d.PropTypes.string,header:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.array]),body:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.array]),footer:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.array])},render:function(){var a="modal modal-narrow modal-main-"+this.props.modalName;a+=" "+this.props.modalName,this.props.classes&&(a+=" "+this.props.classes);var b="modal-header modal-header-"+this.props.modalName,c="modal-body modal-body-"+this.props.modalName,e="modal-footer modal-footer-"+this.props.modalName;return d.createElement("div",{className:a},d.createElement("div",{className:b},this.props.header),d.createElement("div",{className:c},this.props.body),d.createElement("div",{className:e},this.props.footer))}});b.exports=e},{"react/addons":188}],51:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react/addons");a("../../lib/jquery-ui-bundle"),a("../../lib/bootstrap");var f={},g=27;f.createModal=function(a){var b=d("body");b.append(d("<div class='modal react-modal-place'></div>"));var c=d(".react-modal-place"),f=document.onkeydown;c.modal("show");var h=function(){c.modal("hide")};c.on("hidden",function(){c.remove(),d(".modal-backdrop").remove(),document.onkeydown=f,window.removeEventListener("hashchange",h,!1)}),window.addEventListener("hashchange",h,!1),document.activeElement.blur(),document.onkeydown=function(a){if(a=a||window.event,a.keyCode===g){try{a.preventDefault()}catch(b){a.returnValue=!1}c.modal("hide")}f&&f(a)},e.render(a,c[0])},f.hideModal=function(){d(".react-modal-place").hide(),d(".modal-backdrop").hide()},f.showModal=function(){d(".react-modal-place").show(),d(".modal-backdrop").show()},f.destroyModal=function(){d(".react-modal-place").modal("hide")},b.exports=f},{"../../lib/bootstrap":128,"../../lib/jquery-ui-bundle":146,jquery:164,"react/addons":188}],52:[function(a,b,c){"use strict";var d=a("./SplitAtDelimiters.js"),e=a("katex"),f=function(a,b){for(var c=[{type:"text",data:a}],e=0;e<b.length;e++){var f=b[e];c=d(c,f.left,f.right,f.display||!1)}return c},g=function(a,b){for(var c=f(a,b),d=document.createDocumentFragment(),g=0;g<c.length;g++)if("text"===c[g].type)d.appendChild(document.createTextNode(c[g].data));else{var h=document.createElement("span"),i=c[g].data;try{e.render(i,h,{displayMode:c[g].display})}catch(j){if(!(j instanceof e.ParseError))throw j;console.error("KaTeX auto-render: Failed to parse `"+c[g].data+"` with ",j),d.appendChild(document.createTextNode(c[g].rawData));continue}d.appendChild(h)}return d},h=function k(a,b,c){for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(3===e.nodeType){var f=g(e.textContent,b);d+=f.childNodes.length-1,a.replaceChild(f,e)}else if(1===e.nodeType){var h=-1===c.indexOf(e.nodeName.toLowerCase());h&&k(e,b,c)}}},i={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code"]},j=function(a){if(!a)throw new Error("No element provided to render");h(a,i.delimiters,i.ignoredTags)};b.exports=j},{"./SplitAtDelimiters.js":53,katex:165}],53:[function(a,b,c){"use strict";var d=function(a,b,c){for(var d=c,e=0,f=a.length;d<b.length;){var g=b[d];if(0>=e&&b.slice(d,d+f)===a)return d;"\\"===g?d++:"{"===g?e++:"}"===g&&e--,d++}return-1},e=function(a,b,c,e){for(var f=[],g=0;g<a.length;g++)if("text"===a[g].type){var h,i=a[g].data,j=!0,k=0;for(h=i.indexOf(b),-1!==h&&(k=h,f.push({type:"text",data:i.slice(0,k)}),j=!1);;){if(j){if(h=i.indexOf(b,k),-1===h)break;f.push({type:"text",data:i.slice(k,h)}),k=h}else{if(h=d(c,i,k+b.length),-1===h)break;f.push({type:"math",data:i.slice(k+b.length,h),rawData:i.slice(k,h+c.length),display:e}),k=h+c.length}j=!j}f.push({type:"text",data:i.slice(k)})}else f.push(a[g]);return f};b.exports=e},{}],54:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react/addons"),g=f.addons.classSet,h=27,i=10,j=10,k=f.createClass({displayName:"Tooltip",propTypes:{text:f.PropTypes.node,toggleOnHover:f.PropTypes.bool,hoverDelayMillis:f.PropTypes.number,toggleOnOutsideClick:f.PropTypes.bool,classes:f.PropTypes.array,id:f.PropTypes.string,attachToBody:f.PropTypes.bool,customPosition:f.PropTypes.object},getDefaultProps:function(){return{text:"",toggleOnHover:!0,hoverDelayMillis:300,toggleOnOutsideClick:!0,classes:[],id:null,attachToBody:!1}},getInitialState:function(){return this.tooltipStyle={},{isHovered:!1,tooltipActive:!1,tooltipWidth:null}},componentDidMount:function(){var a=this;this.documentEscHandler=function(b){b.which===h&&a.state.tooltipActive&&a.hideTooltip()},d(document).keydown(this.documentEscHandler),this.clickHandler=function(b){0===d(b.target).closest(".tooltip-react-content").length&&a.hideTooltip()};var b=this.props.toggleOnOutsideClick?document:this.getDOMNode();d(b).click(this.clickHandler),this.props.attachToBody&&this.attachToBody(),this._recalculateTooltipWidth()},componentWillUnmount:function(){d(document).off("keydown",this.documentEscHandler),d(document).off("click",this.clickHandler),this.props.attachToBody&&!this.state.tooltipActive&&this.$tooltipNode[0]&&f.unmountComponentAtNode(this.$tooltipNode[0])},showTooltip:function(){this.state.tooltipActive||this.setState({tooltipActive:!0})},hideTooltip:function(){this.state.tooltipActive&&this.setState({tooltipActive:!1}),this.props.attachToBody&&!this.state.tooltipActive&&this.$tooltipNode[0]&&f.unmountComponentAtNode(this.$tooltipNode[0])},componentWillUpdate:function(a,b){return this.props.attachToBody?void this.positionBodyTooltip():void this.positionInnerTooltip(a,b)},positionInnerTooltip:function(a,b){var c=d(this.getDOMNode()).offset(),e=d(this.getDOMNode()).position(),f=d(this.getDOMNode()).outerHeight(!0),g=d(this.getDOMNode()).outerWidth(!0),h=e.left+g/2,k=c.left+b.tooltipWidth+j-window.innerWidth,l=b.tooltipWidth-k*(k>0);this.tooltipStyle={left:Math.max(h-b.tooltipWidth/2,i),top:e.top+f,width:l},this.arrowStyle={left:this.tooltipStyle.left>i&&0>=k?b.tooltipWidth/2:h},this.props.customPosition&&(this.props.customPosition.contentLeft&&(this.tooltipStyle.left=this.props.customPosition.contentLeft),this.props.customPosition.arrowLeft&&(this.arrowStyle.left=this.props.customPosition.arrowLeft),this.props.customPosition.contentTop&&(this.tooltipStyle.top=this.props.customPosition.contentTop),this.props.customPosition.arrowTop&&(this.arrowStyle.top=this.props.customPosition.arrowTop))},renderTooltip:function(){var a={"tooltip-react-content":!0,visible:this.state.tooltipActive&&(null!==this.state.tooltipWidth||this.props.attachToBody)&&!e.isEmpty(this.props.text)};e.each(this.props.classes,function(b){a[b]=!0});var b=this.props.attachToBody?null:"inner";return f.createElement("div",{style:this.tooltipStyle,id:this.props.id,className:g(a),onMouseEnter:this.props.toggleOnHover?this._onMouseEnterTooltip:null,onMouseLeave:this.props.toggleOnHover?this._onMouseLeaveTooltip:null},f.createElement("div",{style:this.arrowStyle,className:"tooltip-react-arrow"}),f.createElement("div",{className:"tooltip-react-inner",ref:b},this.props.text))},_onMouseEnterTooltip:function(){this.state.tooltipActive&&this.setState({isHovered:!0})},_onMouseLeaveTooltip:function(){if(this.state.tooltipActive&&this.props.attachToBody){var a=this;this.setState({isHovered:!1}),e.delay(function(){a.state.tooltipActive&&a.isMounted()&&a.hideTooltip()},150)}},_onMouseEnterElement:function(){var a=this;this.setState({isHovered:!0}),e.delay(function(){a.state.isHovered&&!a.state.tooltipActive&&a.isMounted()&&a.showTooltip()},this.props.hoverDelayMillis)},_onMouseLeave:function(){var a=this;this.setState({isHovered:!1}),e.delay(function(){!a.state.isHovered&&a.state.tooltipActive&&a.isMounted()&&a.hideTooltip()},150)},attachToBody:function(){if(!this.$tooltipNode){var a=Math.random().toString(36).substring(7),b=d("<div class='body-tooltip-wrapper' id="+a+"></div>");this.$tooltipNode=b.appendTo("body"),f.render(this.renderTooltip(),this.$tooltipNode[0])}},render:function(){var a="tooltip-react-outer";return this.props.attachToBody&&(a+=" body-tooltip-outer"),f.createElement("div",{className:a,onMouseLeave:this.props.toggleOnHover?this._onMouseLeave:null},f.createElement("div",{className:"tooltip-react-element",onMouseEnter:this.props.toggleOnHover?this._onMouseEnterElement:null},this.props.children),this.props.attachToBody?null:this.renderTooltip())},componentDidUpdate:function(){this._recalculateTooltipWidth(),this.props.attachToBody&&this.$tooltipNode[0]&&(f.unmountComponentAtNode(this.$tooltipNode[0]),f.render(this.renderTooltip(),this.$tooltipNode[0]))},_recalculateTooltipWidth:function(){var a;a=this.props.attachToBody?this.$tooltipNode.find(".tooltip-react-inner").outerWidth(!0):d(this.refs.inner.getDOMNode()).outerWidth(!0),this.state.tooltipWidth!==a&&this.setState({tooltipWidth:a})},positionBodyTooltip:function(){var a=d(this.getDOMNode()).offset(),b=this.$tooltipNode.find(".tooltip-react-inner").outerWidth(!0),c=d(this.getDOMNode()).outerWidth(!0),e=d(this.getDOMNode()).outerHeight(!0),f=this.$tooltipNode.find(".tooltip-react-arrow").outerHeight(!0);this.tooltipStyle={left:a.left-b/2+c/2,top:a.top+e/2+f},this.arrowStyle={left:b/2}}});b.exports=k},{jquery:164,"react/addons":188,underscore:365}],55:[function(a,b,c){"use strict";function d(a){var b=8;if(a.which===b){var c=a.srcElement||a.target,d=c.nodeName.toLowerCase();if("input"===d||"textarea"===d){var e=void 0!==c.type?c.type.toLowerCase():"";(c.readOnly||c.disabled||"checkbox"===e||"radio"===e)&&a.preventDefault()}else a.preventDefault()}}var e=a("jquery"),f=a("underscore"),g=a("d3");a("../../lib/dropzone/dropzone-amd-module");var h={};h.generateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})};var i=h.generateGUID();h.getBrowserTabId=function(){return i},h.htmlEscape=function(a){return e("<div/>").text(a).html()},h.deepCopy=function(a){return void 0!==a?JSON.parse(JSON.stringify(a)):void 0},h.trimString=function(a,b){return a.length>b?a.substr(0,b)+"...":a},h.defaultClusterSizeGB=function(){var a=parseInt(2*window.settings.defaultMemoryPerContainerMB/1024);return a>0?a:8},h.resolveSparkVersion=function(a){var b,c;for(b in window.settings.sparkVersions)if(c=window.settings.sparkVersions[b],c.key===a)return c;return null},h.getDefaultSparkVersion=function(){var a=window.prefs.get("defaultSparkVersion"),b=h.resolveSparkVersion(a);return null===b?window.settings.defaultSparkVersion.key:a},h.setDefaultSparkVersion=function(a){window.prefs.set("defaultSparkVersion",a)},h.formatSparkVersion=function(a){if(!a)return"Unspecified spark version";var b=f.where(window.settings.sparkVersions,{key:a})[0];return b?b.displayName:"Spark '"+a+"'"},h.sparkVersionField=function(a){var b,c,d=[],e={};for(b in window.settings.sparkVersions)c=window.settings.sparkVersions[b],c.key===a&&(d.push(c),e[c.displayName]=!0);for(b in window.settings.sparkVersions)c=window.settings.sparkVersions[b],!window.settings.showHiddenSparkVersions&&!c.customerVisible||e[c.displayName]||(d.push(c),e[c.displayName]=!0);return{controlType:"selectWithValue",id:"sparkVersion",label:"Spark version",options:f.map(d,function(a){return{label:a.displayName+(a.deprecated?" (deprecated)":""),value:a.key}}),value:a||window.settings.defaultSparkVersion.key,required:!0,validate:function(a){return""!==a}}},h.customSparkVersionField=function(){return{controlType:"input",id:"customSparkVersion",type:"text",label:"custom:"}},h.renameExample=function(a){return a=a.replace(/_/g," "),a=a.replace(/\b\w/g,function(a){return a.toUpperCase()})},h.capitalize=function(a){return 0===a.length?a:a[0].toUpperCase()+a.substring(1)},h.capitalizeAllNames=function(a){return a.split(" ").map(function(a){return a.indexOf("@")>=0?a:h.capitalize(a)}).join(" ")},h.getMeasurementTags=function(a){var b=a||{};if(window.notebook&&window.location.hash.indexOf("notebook")>-1){var c=window.notebook.id,d=window.treeCollection.get(c);d&&(b=f.extend(b,d.tags()))}var e={browserTabId:i,browserHasFocus:document.hasFocus(),browserHash:window.location.hash,browserHostName:window.location.hostname,browserUserAgent:navigator.userAgent};for(var g in e)b[g]=e[g];return b},h.lastkUniq=function(a,b){for(var c=[],d=a.length-1;d>=0&&c.length<b;)f.contains(c,a[d])||c.push(a[d]),d-=1;return c},h.isValidEmail=function(a){var b=a.trim();return!/\s/g.test(b)&&/.+@.+\..+/.test(b)},h.isValidEmailsField=function(a){return f.every(a.split(","),function(a){return a=a.trim(),0===a.length||h.isValidEmail(a)})},h.basename=function(a){return a.replace(/\\/g,"/").replace(/.*\//,"")},h.isNumeric=function(a){var b=["int","double","bigint","smallint","tinyint","decimal","float"];return f.contains(b,a)},h.longestCommonPrefix=function(a){for(var b,c=a[0],d=c.text,e=!1,f=!1,g=0;g<d.length;g++){for(var h=1;h<a.length;h++){if(d.charAt(g)!==a[h].text.charAt(g)){f=!0;break}g===a[h].text.length-1&&(e=!0)}if(f){if(0===g)break;b=d.substr(0,g);break}if(g===d.length-1||e){b=d.substr(0,g+1);break}}return b};var j=/^\s*%sql(\s|$)/,k=/^\s*%md(\s|$)/,l=/^\s*%run(\s|$)/,m=/^\s*%(\w+)(\s|$)/;h.getLanguageMimeType=function(a){var b="text/x-",c=a;return"sql"===a?c="hiveql":"r"===a&&(c="rsrc"),b+c},h.determineCodeMode=function(a,b){if(k.test(a))return this.getLanguageMimeType("markdown");var c=m.exec(a);if(c){var d=c[1];if("scala"===d||"python"===d||"r"===d||"sql"===d)return this.getLanguageMimeType(d)}return"r"===b?this.getLanguageMimeType("r"):this.getLanguageMimeType(b)},h.doesTextStartWithCodeMode=function(a){return k.test(a)||l.test(a)||j.test(a)},h.determineCodeLang=function(a,b){return k.test(a)?b:l.test(a)?"run":"sql"===b||j.test(a)?"sql":"r"===b?"r":b},h.changeCodeLang=function(a,b,c){var d=h.determineCodeLang(a,b);return d!==c&&("sql"===d?a=a.replace(j,""):"markdown"===d?a=a.replace(k,""):"run"===d&&(a=a.replace(l,"")),"sql"===c&&"sql"!==this.language?a="%sql "+a:"markdown"===c?a="%md "+a:"run"===c&&(a=""===a.trim()?"%run /path/to/notebook":"%run "+a)),a},h.getCode=function(a){return k.test(a)?a.replace(k,""):j.test(a)?a.replace(j,""):a},h.getDisplayType=function(a){if(a){var b=a.trim().split(/\s/)[0];if("%md"===b)return"markdown"}return"table"},h.fixLength=function(a){var b="auto"===a?"auto":parseInt(a)+"px";return"0px"===b?"auto":b},h.sum=function(a){for(var b=0,c=0;c<a.length;c+=1)b+=a[c];return b},h.argmax=function(a,b){for(var c=null,d=null,e=0;e<a.length;e+=1){var g=b(a[e]);(f.isNull(c)||g>c)&&(c=g,d=a[e])}return d},h.isValidName=function(a){return a.length>0&&a.indexOf("/")<0},h.isSimpleInteger=function(a){return!isNaN(a)&&String(parseInt(a,10))===String(a)},h.isValidClusterMemory=function(a){return h.atLeastOne(a)&&h.isSimpleInteger(a)},h.atLeastOne=function(a){return!isNaN(a)&&parseInt(a)>=1},h.atLeast=function(a){return function(b){return!isNaN(b)&&parseInt(b)>=a}},h.languageNames={sql:"SQL",python:"Python",r:"R",scala:"Scala",markdown:"Markdown",run:"Run Notebook"},h.isDownloadable=function(a){return"markdown"!==a&&"image"!==a},h.isResizable=function(a){return"markdown"!==a&&"html"!==a},h.renderString=function(a,b){"string"!=typeof a&&(a=JSON.stringify(a));var c=a;return b&&c.length>b&&(c=c.substring(0,b)+"..."),h.htmlEscape(c)},h.computeDisplayType=function(a,b,c){return c?c:null===b?a:"table"!==b||"markdown"===a||"html"===a||"image"===a||h.isMLSpecificDisplayType(a)?b:a},h.parseException=function(a){var b=a.split("\n")[0];return b.replace("java.lang.","")},h.installDropzone=function(a,b,c){c=void 0===c?!0:c;var d=f.clone(b);d.headers=d.headers||{},d.headers["X-CSRF-Token"]=window.settings.csrfToken,window.testMode&&(d.forceFallback=!0);var g=a.dropzone(d);if(window.testMode&&c){var h=g.find("form"),i=g[0].dropzone;b.init&&b.init.bind(i)();var j=function(){var a=h.find("input[type=file]").val().split("/").pop().split("\\").pop();return{previewElement:e("<div/>")[0],name:a,type:"file",size:0,accepted:!0}};h.submit(function(){var a=e(this).attr("action"),b=h.get(0),c=new FormData(b);return e.ajax({url:a,type:"POST",data:c,success:function(a){var b=j();i.files.push(b),i.emit("success",b,a)},error:function(a){i.emit("error",j(),a.responseText)},contentType:!1,processData:!1}),!1})}return g},h.isValidHiveTableName=function(a){var b=/^[A-Za-z_][A-Za-z0-9_]*$/;return b.test(a)===!0},h.isValidTableColumnName=function(a){var b=/[,`"';]/;return b.test(a)===!1};var n=g.time.format("%Y-%m-%d %H:%M:%S"),o=g.time.format("%B %e, %I:%M %p"),p=g.time.format("%b %e, %I:%M %p");h.formatDate=function(a){return n(a)},h.formatTimestamp=function(a){return h.formatDate(new Date(a))},h.formatTimestampNicely=function(a){return o(new Date(a)).replace(" 0"," ")},h.formatTimestampShortNicely=function(a){return p(new Date(a)).replace(" 0"," ")},h.formatDuration=function(a){return 60>a?a+"s":3600>a?parseInt(a/60)+"m "+a%60+"s":parseInt(a/3600)+"h "+parseInt(a%3600/60)+"m "+a%60+"s"},h.addedColorClasses={},h.addColorClassIfMissing=function(a,b){if(!this.addedColorClasses[b]){var c=g.rgb(a).hsl(),d=parseInt(c.h),f=parseInt(100*c.s)+"%",h=parseInt(100*c.l)+"%",i="."+b+"{ background-color: hsla("+d+", "+f+", "+h+", 0.3); }";e("<style>").prop("type","text/css").html(i).appendTo("head")}this.addedColorClasses[b]=!0},h.disableBackspace=function(a){a=void 0!==a?a:!0,a?e(document).on("keydown",d):e(document).off("keydown",d)},h.isMobile=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1},h.isMac=function(){return/Mac/.test(navigator.platform)},h.disableMacHistoryScroll=function(){if(h.isMac()){var a=new Date(2013,5,31),b=a,c=window.location.hash;e(window).on("mousewheel wheel",function(){b=Date.now(),c=window.location.hash}),e(window).on("click keydown keyup",function(){b=a}),e(window).on("hashchange",function(){Date.now()-b<500&&window.location.hash!==c&&(window.location.hash=c)})}},h.retryUntil=function(a){if(a.condition())a.success&&a.success();else if(a.maxAttempts>0){var b=f.clone(a);b.maxAttempts-=1,f.delay(h.retryUntil,a.interval,b)}else a.error&&a.error()},h.isMLSpecificDisplayType=function(a){return f.contains(["ROC"],a)},h.getResourceUrl=function(a,b){if(0===a.indexOf("http://")||0===a.indexOf("https://"))return a;if(window.jsTestMode)return"../"+a;if(b=b||window.settings&&window.settings.isStaticNotebook,!b)return"/"+a;if(!window.settings.staticNotebookResourceUrl)throw new Error("in a static notebook but staticNotebookResourceUrl is undefined");return window.settings.staticNotebookResourceUrl+a},b.exports=h},{"../../lib/dropzone/dropzone-amd-module":143,d3:152,jquery:164,underscore:365}],56:[function(a,b,c){"use strict";var d=a("backbone"),e=a("../helpers/Utility"),f=d.Model.extend({initialize:function(){this.set("command",this.get("command")||""),this.set("type",this.get("type")||"sql"),this.has("guid")||this.set("guid",e.generateGUID())}});b.exports=f},{"../helpers/Utility":55,backbone:151}],57:[function(a,b,c){"use strict";var d=a("backbone"),e=d.Model.extend({});b.exports=e},{backbone:151}],58:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../acl/AclModelMixin"),g=a("../models/BaseQuery"),h=a("../models/InputWidget"),i=a("../models/DataWidget"),j=e.Model.extend({initialize:function(){this.set("defaultBindings",this.get("defaultBindings")||{}),this.set("title",this.get("title")||""),this.set("widgets",this.get("widgets")||[]),this.set("width",this.get("width")||"auto"),this.set("lastRefreshTime",this.get("lastRefreshTime")||null),this.set("lastRefreshResult",this.get("lastRefreshResult")||null),this.set("curRefreshStatus",this.get("curRefreshStatus")||null),this.set("refreshInterval",this.get("refreshInterval")||"manual"),this.set("baseQueries",this.get("baseQueries")||[])},getNewWidgetY:function(){var a=d.max(this.get("widgets").map(function(a){return parseInt(a.get("y"))+parseInt(a.get("height"))}));return a===-(1/0)?0:a+10},parse:function(a){return""===a?"":("widgets"in a&&(a.widgets=a.widgets.map(function(a){return"input"===a.type?new h(a):new i(a)})),"baseQueries"in a&&(a.baseQueries=a.baseQueries.map(function(a){return new g(a)})),a)},set:function(a,b,c){var d,f=b;if("string"==typeof a){var g=a;a={},a[g]=b,f=c}if(f=f||{},"widgets"in a){var h=this.get("widgets"),i={};if(h)for(d=0;d<h.length;d++)i[h[d].get("guid")]=h[d];var j=a.widgets;for(d=0;d<j.length;d++){var k=j[d],l=i[k.get("guid")];l&&(l.set(k.toJSON(),{silent:!0}),j[d]=l)}}if("baseQueries"in a){var m=this.get("baseQueries"),n={};if(m)for(d=0;d<m.length;d++)n[m[d].get("guid")]=m[d];var o=a.baseQueries;for(d=0;d<o.length;d++){var p=o[d],q=n[p.get("guid")];q&&(q.set(p.toJSON()),o[d]=q)}}return e.Model.prototype.set.call(this,a,f)}});d.extend(j.prototype,f),b.exports=j},{"../acl/AclModelMixin":1,"../models/BaseQuery":56,"../models/DataWidget":59,"../models/InputWidget":60,backbone:151,underscore:365}],59:[function(a,b,c){"use strict";var d=a("underscore"),e=a("../helpers/Utility"),f=a("../models/Widget"),g=f.extend({initialize:function(){f.prototype.initialize.call(this),this.setIfMissing("label",null),this.setIfMissing("type","data"),this.setIfMissing("schema",[]),this.setIfMissing("data",[]),this.setIfMissing("aggSchema",[]),this.setIfMissing("aggData",[]),this.setIfMissing("state","running"),this.setIfMissing("error",null),this.setIfMissing("displayType","table"),this.setIfMissing("resultType",null),this.setIfMissing("running",!0),this.setIfMissing("language","sql"),this.setIfMissing("customizable",!0),this.setIfMissing("dataOverflowed",!1),this.setIfMissing("aggDataOverflowed",!1),this.setIfMissing("aggError",""),this.setIfMissing("xColumns",null),this.setIfMissing("yColumns",null),this.setIfMissing("pivotColumns",null),this.setIfMissing("pivotAggregation",null),this.setIfMissing("customPlotOptions",{}),this.setIfMissing("resizable",!0)},toJSON:function(a){return d.omit(f.prototype.toJSON.call(this,a),["data","schema","aggData","aggSchema","state","running","error"])},submitQuery:function(a){if(this.has("query")){a=a||{};var b=this.get("query"),c=this.get("language");this.set("running",!0),this.lastRPC&&!this.lastRPC.completed&&this.lastRPC.cancel();var f=this;this.lastRPC=window.conn.wsClient.sendRPC("query",{data:{query:b,xColumns:this.get("xColumns"),yColumns:this.get("yColumns"),pivotColumns:this.get("pivotColumns"),pivotAggregation:this.get("pivotAggregation"),customPlotOptions:e.deepCopy(this.get("customPlotOptions")),displayType:this.get("displayType"),language:c,bindings:a},success:d.bind(f.onResult,this),error:d.bind(f.onError,this)})}},onResult:function(a){this.set({state:"finished",displayType:e.computeDisplayType(this.get("displayType"),a.type),resultType:a.type,error:null,schema:a.schema,data:a.data,arguments:a.arguments,dataOverflowed:a.overflow,aggSchema:a.aggSchema,aggData:a.aggData,aggDataOverflowed:a.aggOverflow,aggError:a.aggError,aggSeriesLimitReached:a.aggSeriesLimitReached,aggType:a.aggType,running:!1})},onError:function(a,b){b.clientCancelled||this.set({state:"error",data:a,resultType:"html",displayType:"html",schema:null,aggData:null,aggSchema:null,running:!1})}});b.exports=g},{"../helpers/Utility":55,"../models/Widget":62,underscore:365}],60:[function(a,b,c){"use strict";var d=a("../models/Widget"),e=d.extend({initialize:function(){d.prototype.initialize.call(this),this.set("type",this.get("type")||"input"),this.setIfMissing("label",null),this.setIfMissing("binding",null),this.setIfMissing("controlType","text"),this.setIfMissing("choices",[]),this.setIfMissing("globalVar",!1),this.setIfMissing("notebookNative",!0)}});b.exports=e},{"../models/Widget":62}],61:[function(a,b,c){"use strict";function d(){return window.settings&&window.settings.enablePresenceUI}var e=a("jquery"),f=a("underscore"),g=a("backbone"),h=a("d3"),i=a("../helpers/Utility"),j=g.Model.extend({defaults:{locationId:null,hasFocus:!0,commandId:null},initAttributes:function(a){this.set({landingTimestamp:(new Date).getTime(),sessionId:i.getBrowserTabId(),locationId:a})}}),k=g.Model.extend({defaults:{sessions:[],history:[],currentStatus:null},listenerReady:!1,initialize:function(){var a=this;this.set("currentStatus",new j),this.listenTo(this.get("currentStatus"),"change",this.onStatusChange),setInterval(function(){a.hasFocus=document.hasFocus()},5e3),setInterval(function(){a.saveCurrentStatus()},1e3)},checkUnreadAndAck:function(a){return a>this.notificationAckTime?(this.notificationAckTime=a,!0):!1},notificationAckTime:new Date,rpc:null,colorScale:h.scale.category10(),updateMarks:null,onPresenceUpdate:function(a,b){if(d())try{this.onPresenceUpdate0(a,b)}catch(c){console.error("Error processing presence update",c),window.recordEvent("renderingError",{error:"Error processing presence update"},c.stack)}},onPresenceUpdate0:function(a,b){this.listenerReady=!0;var c=this,d=f.filter(a.sessions,function(a){return a.sessionId!==i.getBrowserTabId()});f.each(d,function(a){a.userName&&a.userName.length>0&&(a.displayInitial=a.userName[0].toUpperCase(),a.bgColor=c.colorScale(a.userId),a.hasFocus?a.opacity=1:a.opacity=.4)}),d=f.sortBy(d,function(a){return a.timestamp}),this.set("sessions",d),this.set("history",a.history),this.updateMarks&&this.updateMarks(this.get("sessions"))},setLocation:function(a){function b(){c.rpc=window.conn.wsClient.sendRPC("presence",{data:c.get("currentStatus").toJSON(),update:f.bind(c.onPresenceUpdate,c),silent:!0,error:function(a,d){c.listenerReady=!1,d.clientCancelled||(console.log("Presence RPC disconnected, retrying..."),setTimeout(b,1e3))}})}if(d()){this.notificationAckTime=new Date,this.clear(),this.showPresenceView(),this.get("currentStatus").initAttributes(a),this.listenTo(this.get("currentStatus"),"change",this.update);var c=this;b()}},pushHistory:function(a,b,c){d()&&window.conn.wsClient.sendRPC("presencePushHistory",{data:{locationId:c||this.get("currentStatus").get("locationId"),entry:{text:a,important:b}},silent:!0})},updateCurrentCommand:function(a,b){d()&&(this.notebookId=a,this.commandId=b)},updateCursorPosition:function(a,b,c,e){d()&&(this.notebookId=a,this.commandId=b,this.cursorStart=c,this.cursorEnd=e)},saveCurrentStatus:function(){d()&&this.get("currentStatus").set({hasFocus:this.hasFocus,notebookId:this.notebookId,commandId:this.commandId,cursorStart:this.cursorStart,cursorEnd:this.cursorEnd})},onStatusChange:function(){d()&&this.listenerReady&&window.conn.wsClient.sendRPC("presenceUpdate",{silent:!0,data:this.get("currentStatus").toJSON()})},clear:function(){d()&&(this.hidePresenceView(),this.listenerReady=!1,this.rpc&&this.rpc.cancel())},showPresenceView:function(){e(".tb-status-presence").show()},hidePresenceView:function(){e(".tb-status-presence").hide(),e("#history").hide()}});b.exports=new k},{"../helpers/Utility":55,backbone:151,d3:152,jquery:164,underscore:365}],62:[function(a,b,c){"use strict";var d=a("backbone"),e=a("../helpers/Utility"),f=d.Model.extend({initialize:function(){this.setIfMissing("x",0),this.setIfMissing("y",0),this.setIfMissing("width","auto"),this.setIfMissing("height","auto"),this.setIfMissing("guid",e.generateGUID())},setIfMissing:function(a,b){this.has(a)||this.set(a,b)},getCSSLength:function(a){var b=this.get(a);return"auto"===b?"auto":b+"px"}});b.exports=f},{"../helpers/Utility":55,backbone:151}],63:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore");a("../../lib/jquery.ajaxQueue");var f=[],g={rpc:function(a,b,c){if(f.length>0)f.push([this,[a,b,c]]);else{var d=this._rpc(a,b,c);d||(f.push([this,[a,b,c]]),e.delay(this._drainQueue.bind(this),100))}},_drainQueue:function(){for(;f.length>0;){var a=f.shift(),b=a[0],c=a[1],d=this._rpc.apply(b,c);if(!d){f.unshift(a),e.delay(this._drainQueue.bind(this),100);break}}},_rpc:function(a,b,c){if(c=c||{},b=b||{},c.sendCondition&&!c.sendCondition())return!1;
var e=c.httpMethod||"POST",f=c.url||this.url();c.optmisticChanges&&this.set(c.optmisticChanges,{validate:!0}),b["@method"]=a;var g="GET"===e?d.ajax:d.ajaxQueue;return g({context:this,type:e,url:f,data:JSON.stringify(b),contentType:"application/json; charset=utf-8",dataType:"json",success:c.success,error:function(d,g,h){c.error&&c.error(d,g,h),console.error("RPC call failed",e,f,a,b,c)}}),!0}};b.exports=g},{"../../lib/jquery.ajaxQueue":147,jquery:164,underscore:365}],64:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react/addons"),g=a("../constants/WorkspacePermissions"),h=a("../helpers/Utility"),i=a("../helpers/CodeMirrorUtils"),j=a("../helpers/CodeMirrorKeywords"),k=a("../helpers/CommandParserUtils"),l=a("../../lib/codemirror/lib/codemirror");a("../../lib/codemirror/mode/sql/sql"),a("../../lib/codemirror/mode/clike/clike"),a("../../lib/codemirror/addon/runmode/runmode"),a("../../lib/codemirror/mode/r/r"),a("../../lib/codemirror/mode/python/python"),a("../../lib/codemirror/mode/xml/xml"),a("../../lib/codemirror/mode/markdown/markdown"),a("../../lib/codemirror/addon/hint/show-hint"),a("../../lib/codemirror/addon/hint/sql-hint"),a("../../lib/codemirror/addon/edit/matchbrackets"),a("../../lib/codemirror/addon/edit/closebrackets"),a("../../lib/codemirror/addon/comment/comment");var m=f.addons.classSet,n=f.createClass({displayName:"CodemirrorView",propTypes:{notebookLanguage:f.PropTypes.string.isRequired,command:f.PropTypes.string.isRequired,saveCommandText:f.PropTypes.func.isRequired,collapsed:f.PropTypes.bool.isRequired,diffPointers:f.PropTypes.object.isRequired,hide:f.PropTypes.bool.isRequired,onBlur:f.PropTypes.func.isRequired,onFocus:f.PropTypes.func.isRequired,updateCursorPosition:f.PropTypes.func.isRequired,presenceMarks:f.PropTypes.array.isRequired,isLocked:f.PropTypes.bool.isRequired,navigateDown:f.PropTypes.func.isRequired,navigateUp:f.PropTypes.func.isRequired,moveUp:f.PropTypes.func.isRequired,moveDown:f.PropTypes.func.isRequired,addCommandAbove:f.PropTypes.func.isRequired,addCommandBelow:f.PropTypes.func.isRequired,pasteCommandBelow:f.PropTypes.func.isRequired,copyCommand:f.PropTypes.func.isRequired,cutCommand:f.PropTypes.func.isRequired,removeCommand:f.PropTypes.func.isRequired,isLastCommand:f.PropTypes.bool.isRequired,runCommand:f.PropTypes.func.isRequired,lastModifiedBy:f.PropTypes.string.isRequired,permissionLevel:f.PropTypes.string,onTextSelected:f.PropTypes.func,showCommentMarks:f.PropTypes.bool,toggleCommentsPanel:f.PropTypes.func},getDefaultProps:function(){return{permissionLevel:g.MANAGE}},hasFocus:function(){return this.editor.hasFocus()},getCommand:function(a){a=a||this.props;var b=a.command;return a.collapsed&&(b=this.getCompressedCommand(b)),b},getCompressedCommand:function(a){var b=a.replace(/\r?\n|\r/g," ");return b.length>80&&(b=b.substring(0,80)),b+" ..."},getValue:function(){return this.props.collapsed?this.props.command:this.editor.getValue()},setValue:function(a){this.props.collapsed?(this.saveCommandText(a,!0),this.editor.setValue(this.getCompressedCommand(a))):this.editor.setValue(a)},focusEditor:function(){this.editor.focus(),this.resumeCursorPosition()},saveCursorPosition:function(){this.cursorPosition=this.editor.getCursor()},resumeCursorPosition:function(){this.cursorPosition&&this.editor.setCursor(this.cursorPosition)},updateCommandText:function(a){this.saveCursorPosition(),this.editor.setValue(a),this.resumeCursorPosition()},shouldComponentUpdate:function(a,b){var c=this.props.collapsed!==a.collapsed,d=this.props.hide!==a.hide,f=a.command!==this.getValue()&&a.lastModifiedBy!==h.getBrowserTabId();(f||c)&&this.updateCommandText(this.getCommand(a)),this.editor.setOption("readOnly",this.readOnlyMode(a));var g=c||d;return(g||!e.isEqual(a.presenceMarks,this.props.presenceMarks))&&this.updatePresenceMarks(a.presenceMarks),(g||!e.isEqual(a.comments,this.props.comments)||a.showCommentMarks!==this.props.showCommentMarks)&&this.updateCommentMarks(a),!1},readOnlyMode:function(a){var b=g.canEdit(a.permissionLevel);return a.isLocked||a.collapsed||!b||a.isShowingHistory},runCommand:function(){return this.props.isLocked||!this.canRun()?!1:this.props.runCommand({command:this.getValue()})},canEdit:function(){return g.canEdit(this.props.permissionLevel)},canRun:function(){return g.canRun(this.props.permissionLevel)},toggleLineComment:function(a){var b=k.getLanguage(this.props.command);b&&b!==this.props.notebookLanguage&&i.isModeControlLineSelected(a)&&a.setOption("mode",h.getLanguageMimeType(this.props.notebookLanguage)),a.execCommand("toggleComment")},getCodemirrorOptions:function(){var a=this,b=function(b){var c=b.getCursor();return b.lineCount()>1&&0!==c.line?l.Pass:0!==c.ch?void b.setCursor(0,0):void a.props.navigateUp()},c=function(b){var c=b.getCursor();return c.line!==b.lineCount()-1?l.Pass:b.getLine(c.line).length-1>c.ch?void b.setCursor(c.line+1):void a.props.navigateDown()};return{readOnly:a.readOnlyMode(a.props),extraKeys:{"Shift-Enter":function(b){var c=a.runCommand();a.props.isLastCommand&&""===a.getValue()||c&&(i.blur(b),a.props.navigateDown(a.canEdit()))},"Ctrl-Enter":function(b){a.runCommand()},"Alt-Enter":function(b){var c=a.runCommand();c&&a.canEdit()&&(i.blur(b),a.props.addCommandBelow())},"Ctrl-Alt-P":function(b){a.canEdit()&&a.props.addCommandAbove()},"Ctrl-Alt-N":function(b){a.canEdit()&&a.props.addCommandBelow()},"Ctrl-Alt-Up":function(b){a.canEdit()&&a.props.moveUp({skipFocusCommand:!0})},"Ctrl-Alt-Down":function(b){a.canEdit()&&a.props.moveDown({skipFocusCommand:!0})},"Ctrl-Alt-M":function(b){a.canCreateComment()&&(b.somethingSelected()&&a.props.onTextSelected?a.props.onTextSelected(b,{createComment:!0}):a.props.toggleCommentsPanel&&a.props.toggleCommentsPanel())},Esc:function(a){i.blur(a)},"Alt-Up":function(b){a.props.navigateUp()},"Alt-Down":function(b){a.props.navigateDown()},Up:b,"Ctrl-P":b,Down:c,"Ctrl-N":c,"Ctrl-Alt-V":function(b){a.props.pasteCommandBelow()},"Ctrl-Alt-C":function(b){a.props.copyCommand()},"Ctrl-Alt-X":function(b){a.props.cutCommand(),a.props.navigateDown()},"Ctrl-Alt-D":function(b){a.props.removeCommand(null,{noConfim:!0}),a.props.navigateDown()},Backspace:function(a){var b=a.getCursor();return""===a.getLine(b.line).trim()&&a.getLine(b.line).length>=a.getOption("indentUnit")&&a.getLine(b.line).length===b.ch&&!a.somethingSelected()?void a.execCommand("indentLess"):l.Pass},Tab:function(b){a.canEdit()&&b.execCommand("handleTabHit")},"Shift-Tab":"indentLess","Ctrl-/":e.bind(a.toggleLineComment,a),"Cmd-/":e.bind(a.toggleLineComment,a)}}},updateMarks:function(a){var b=a.getAllMarks();e.each(b,function(b){if(b.comment){var c=b.find(),d=a.getRange(c.from,c.to);b.comment.updateReferenceRange(c,d)}})},canCreateComment:function(){return window.settings&&window.settings.enableReactNotebookComments&&!this.props.isLocked&&!this.props.collapsed},componentDidMount:function(){var a=this;this.throttleUpdateMark=e.throttle(this.updateMarks,1e3),this.saveCommandText=e.throttle(function(b){a.props.saveCommandText(b)},1e3),i.setupAutoCompleteAndTabHandling(),this.editor=l.fromTextArea(this.refs.textarea.getDOMNode(),i.defaultOptions(this.getCodemirrorOptions())),j.initializeKeywords(this.editor),this.editor.setValue(this.getCommand(this.props)),this.editor.clearHistory(),this.momentAfterContextmenu=!1,this.editor.on("contextmenu",function(){a.momentAfterContextmenu=!0,e.delay(function(){a.momentAfterContextmenu=!1},20)}),this.editor.on("blur",function(){e.delay(function(){a.editor&&a.editor.somethingSelected()&&!a.momentAfterContextmenu&&a.editor.setSelection({line:0,ch:0})},10),a.props.onBlur(a.editor.getValue())}),this.editor.on("focus",function(){a.props.onFocus(),window.cm=a.editor}),this.editor.on("cursorActivity",e.throttle(function(b){var c=b.getCursor("from"),d=b.getCursor("to");a.canCreateComment()&&b.somethingSelected()&&a.props.onTextSelected&&a.props.onTextSelected(b,{showPopover:!0});var e=a.readOnlyMode(a.props);e||(a.props.updateCursorPosition(c,d),a.throttleUpdateMark(a.editor))},300)),this.editor.on("change",function(){a.saveCommandText(a.editor.getValue()),i.determineMode(a.editor,null,a.props.notebookLanguage),a.updateDiffMarks()}),i.determineMode(this.editor,null,this.props.notebookLanguage),this.updatePresenceMarks(this.props.presenceMarks),this.updateCommentMarks(this.props),this.updateDiffMarks()},updatePresenceMarks:function(a){e.each(this.marks,function(a){a.clear()}),this.marks=[],e.each(a,function(a){if(0===a.cursorEnd.ch&&a.cursorEnd.line>a.cursorStart.line&&(a.cursorEnd.line-=1,a.cursorEnd.ch=9999),this.marks.push(this.editor.setBookmark(a.cursorEnd,{widget:d("<span style='border-color: "+a.bgColor+"' title='"+h.capitalize(a.userName)+"' class='bookmark'><span style='background-color: "+a.bgColor+"' class='bookmark-user'></span></span>")[0]})),JSON.stringify(a.cursorEnd)!==JSON.stringify(a.cursorStart)){var b=a.bgColor.substring(1),c="highlight-"+b;this.marks.push(this.editor.markText(a.cursorStart,a.cursorEnd,{className:c,title:h.capitalize(a.userName),shared:!0})),h.addColorClassIfMissing(a.bgColor,c)}},this)},updateCommentMarks:function(a){e.each(this.commentMarks,function(a){a.clear()}),this.commentMarks=[];var b=!a.showCommentMarks||a.collapsed;e.each(a.comments,function(a){a.set("editor",this.editor);var c=a.get("commentReference");if("commandFragment"===c.referenceType){var d=c.range;0===d.to.ch&&d.to.line>d.from.line&&(d.to.line-=1,d.to.ch=9999);var e={"comment-mark":!0,"hidden-mark":b};e["comment-mark-"+a.get("guid")]=!0;var f=this.editor.markText(d.from,d.to,{className:m(e),comment:a});this.commentMarks.push(f),a.mark=f}},this)},updateDiffMarks:function(){var a=this;this.props.diffPointers&&this.props.diffPointers.diffInserts&&e.each(this.props.diffPointers.diffInserts,function(b){var c={line:b.lineStart,ch:b.chStart},d={line:b.lineEnd,ch:b.chEnd};a.editor.markText(c,d,{className:"diff-insert"})}),this.props.diffPointers&&this.props.diffPointers.diffDeletes&&e.each(this.props.diffPointers.diffDeletes,function(b){var c={line:b.lineStart,ch:b.chStart},d={line:b.lineEnd,ch:b.chEnd};a.editor.markText(c,d,{className:"diff-delete"})})},render:function(){return f.createElement("textarea",{className:"command-box-textarea codeeditor",ref:"textarea",tabIndex:"1",spellCheck:"false"})}});b.exports=n},{"../../lib/codemirror/addon/comment/comment":129,"../../lib/codemirror/addon/edit/closebrackets":130,"../../lib/codemirror/addon/edit/matchbrackets":131,"../../lib/codemirror/addon/hint/show-hint":132,"../../lib/codemirror/addon/hint/sql-hint":133,"../../lib/codemirror/addon/runmode/runmode":134,"../../lib/codemirror/lib/codemirror":135,"../../lib/codemirror/mode/clike/clike":136,"../../lib/codemirror/mode/markdown/markdown":137,"../../lib/codemirror/mode/python/python":139,"../../lib/codemirror/mode/r/r":140,"../../lib/codemirror/mode/sql/sql":141,"../../lib/codemirror/mode/xml/xml":142,"../constants/WorkspacePermissions":18,"../helpers/CodeMirrorKeywords":30,"../helpers/CodeMirrorUtils":31,"../helpers/CommandParserUtils":32,"../helpers/Utility":55,jquery:164,"react/addons":188,underscore:365}],65:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../helpers/Clipboard"),f=d.createClass({displayName:"CommandDivider",propTypes:{nextCommandPosition:d.PropTypes.number.isRequired,prevCommandPosition:d.PropTypes.number.isRequired,isEmptyNotebook:d.PropTypes.bool},componentDidMount:function(){e.on("clipboardChanged",this.forceUpdate.bind(this,null),this)},componentWillUnmount:function(){e.off(null,null,this)},getInsertPosition:function(){return this.props.prevCommandPosition+(this.props.nextCommandPosition-this.props.prevCommandPosition)/2},onDragEnter:function(a){var b=this.getInsertPosition();this.props.notebook.updateDraggingPosition(b)},render:function(){return d.createElement("div",{className:"command divider"+(this.props.isEmptyNotebook?" only-divider":""),onDragEnter:this.onDragEnter},d.createElement("hr",null),d.createElement("a",{className:"btn btn-default btn-circle insert-command-btn",title:"Insert a new cell",onClick:this.props.insertCommand},d.createElement("i",{className:"fa fa-plus fa-fw"})),d.createElement("a",{className:["btn btn-default btn-circle paste-command-btn",e.isEmpty()?"hidden":""].join(" "),title:"Paste cell here",onClick:this.props.pasteCommand},d.createElement("i",{className:"fa fa-paste fa-fw"})))}});b.exports=f},{"../helpers/Clipboard":29,"react/addons":188}],66:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../constants/WorkspacePermissions"),f=a("../notebook/CodemirrorView.jsx"),g=d.createClass({displayName:"CommandInput",propTypes:{notebookLanguage:d.PropTypes.string.isRequired,isLastCommand:d.PropTypes.bool.isRequired,isLocked:d.PropTypes.bool.isRequired,command:d.PropTypes.string.isRequired,diffPointers:d.PropTypes.object.isRequired,updateCommand:d.PropTypes.func.isRequired,runCommand:d.PropTypes.func.isRequired,updatePresenceCommand:d.PropTypes.func.isRequired,updateCursorPosition:d.PropTypes.func.isRequired,presenceMarks:d.PropTypes.array.isRequired,navigateUp:d.PropTypes.func.isRequired,navigateDown:d.PropTypes.func.isRequired,addCommandAbove:d.PropTypes.func.isRequired,addCommandBelow:d.PropTypes.func.isRequired,pasteCommandBelow:d.PropTypes.func.isRequired,copyCommand:d.PropTypes.func.isRequired,cutCommand:d.PropTypes.func.isRequired,removeCommand:d.PropTypes.func.isRequired,moveUp:d.PropTypes.func.isRequired,moveDown:d.PropTypes.func.isRequired,hide:d.PropTypes.bool.isRequired,collapsed:d.PropTypes.bool.isRequired,lastModifiedBy:d.PropTypes.string.isRequired,onFocus:d.PropTypes.func.isRequired,onBlur:d.PropTypes.func.isRequired,hasFocus:d.PropTypes.bool.isRequired,permissionLevel:d.PropTypes.string,onTextSelected:d.PropTypes.func,showCommentMarks:d.PropTypes.bool,toggleCommentsPanel:d.PropTypes.func,isStatic:d.PropTypes.bool},getDefaultProps:function(){return{permissionLevel:e.MANAGE}},focusEditor:function(){this.refs.codemirror.focusEditor()},getValue:function(){return this.refs.codemirror.getValue()},setValue:function(a){this.refs.codemirror.setValue(a)},onCodeMirrorBlur:function(a){this.props.onBlur(),this.saveCommandText(a)},onCodeMirrorFocus:function(){this.props.onFocus(),this.props.isStatic||this.props.updatePresenceCommand()},updateCursorPosition:function(a,b){this.props.hasFocus&&!this.props.isStatic&&this.props.updateCursorPosition(a,b)},saveCommandText:function(a,b){(b||a!==this.props.command&&this.props.collapsed!==!0)&&this.props.updateCommand({command:a})},render:function(){var a=d.addons.classSet,b=a({"command-input previousPrompt":!0,primaryPrompt:this.props.isLastCommand}),c={"command-text":!0,"command-text-edit":this.props.hasFocus,hidden:this.props.hide&&!this.props.collapsed};return c["command-text-"+this.props.commandState]=!0,d.createElement("div",{className:b,onDoubleClick:this.props.onDoubleClick},d.createElement("div",{className:a(c)},d.createElement("span",{className:"prompt"},"> "),d.createElement("div",{className:"command-box wrappable"},d.createElement(f,{ref:"codemirror",permissionLevel:this.props.permissionLevel,notebookLanguage:this.props.notebookLanguage,command:this.props.command,diffPointers:this.props.diffPointers,saveCommandText:this.saveCommandText,collapsed:this.props.collapsed,hide:this.props.hide,onBlur:this.onCodeMirrorBlur,onFocus:this.onCodeMirrorFocus,updateCursorPosition:this.updateCursorPosition,presenceMarks:this.props.presenceMarks,comments:this.props.comments,showCommentMarks:this.props.showCommentMarks,toggleCommentsPanel:this.props.toggleCommentsPanel,isLocked:this.props.isLocked,navigateDown:this.props.navigateDown,navigateUp:this.props.navigateUp,moveUp:this.props.moveUp,moveDown:this.props.moveDown,addCommandAbove:this.props.addCommandAbove,addCommandBelow:this.props.addCommandBelow,pasteCommandBelow:this.props.pasteCommandBelow,copyCommand:this.props.copyCommand,cutCommand:this.props.cutCommand,removeCommand:this.props.removeCommand,isLastCommand:this.props.isLastCommand,runCommand:this.props.runCommand,lastModifiedBy:this.props.lastModifiedBy,onTextSelected:this.props.onTextSelected}))))}});b.exports=g},{"../constants/WorkspacePermissions":18,"../notebook/CodemirrorView.jsx":64,"react/addons":188}],67:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react/addons"),g=a("backbone"),h=a("../constants/WorkspacePermissions"),i=a("../helpers/CommandParserUtils"),j=a("../helpers/LargeOutputWrapper.jsx"),k=a("../helpers/Utility"),l=a("../models/Bindings"),m=a("../models/Dashboard"),n=a("../models/DataWidget"),o=a("../models/InputWidget"),p=a("../views/DashboardView"),q=a("../visualizations/ReactTree.jsx"),r=f.createClass({displayName:"CommandResult",propTypes:{isChild:f.PropTypes.bool.isRequired,state:f.PropTypes.string.isRequired,command:f.PropTypes.string.isRequired,rerunning:f.PropTypes.bool.isRequired,displayType:f.PropTypes.string.isRequired,permissionLevel:f.PropTypes.string,resizable:f.PropTypes.bool,arguments:f.PropTypes.object,bindings:f.PropTypes.object,inputWidgets:f.PropTypes.object,customPlotOptions:f.PropTypes.object,pivotAggregation:f.PropTypes.string,results:f.PropTypes.object,pivotColumns:f.PropTypes.array,xColumns:f.PropTypes.array,yColumns:f.PropTypes.array,isStatic:f.PropTypes.bool,hidePlotControls:f.PropTypes.bool,enablePointerEvents:f.PropTypes.bool,downloadable:f.PropTypes.bool,autoScaleImg:f.PropTypes.bool,autoCenterImg:f.PropTypes.bool,isComplexResult:f.PropTypes.bool.isRequired,isParamQuery:f.PropTypes.bool.isRequired,collapsed:f.PropTypes.bool.isRequired,width:f.PropTypes.string.isRequired,height:f.PropTypes.string.isRequired,additionalStyles:f.PropTypes.object,enableLargeOutputWrapper:f.PropTypes.bool,tags:f.PropTypes.object,updateCommand:f.PropTypes.func,runCommand:f.PropTypes.func},getDefaultProps:function(){var a=function(){};return{permissionLevel:h.MANAGE,resizable:!0,enableLargeOutputWrapper:!0,updateCommand:a,runCommand:a,additionalStyles:{},collapsed:!1,"static":!1,isChild:!1,tags:{},downloadable:!0,hidePlotControls:!1,enablePointerEvents:!0,autoCenterImg:!1,autoScaleImg:!1}},shouldComponentUpdate:function(a,b){if(a.collapsed!==this.props.collapsed)return this.dataWidget=null,this.inputWidgets=[],this.dashboardView=null,!0;if(this.isMarkdown()&&a.command!==this.props.command)return!0;if(!e.isEqual(e.keys(a.bindings),e.keys(this.props.bindings)))return!0;if(!e.isEqual(a.inputWidgets,this.props.inputWidgets))return!0;if(a.isComplexResult&&this.dataWidget&&this.dashboardView)return this.updateLocalBindings(a),this.resetDataWidget(a),!1;var c=!e.isEqual(a.results,this.props.results),d=a.state!==this.props.state;return c||d},tags:function(){return e.extend({displayType:this.dataWidget?this.dataWidget.get("displayType"):null},this.props.tags)},runCommandWithLocalBindings:function(){this.props.runCommand({bindings:this.localBindings.toJSON()})},isMarkdown:function(){return"markdown"===k.getDisplayType(this.props.command)},renderTree:function(){var a=this.props.results,b=this.props.additionalStyles||{};return f.createElement("div",{className:"results",style:b},f.createElement(q,{tabularData:a.data}))},render:function(){var a=this.props.state;if("finished"===a||"running"===a||this.props.isParamQuery||this.isMarkdown()){var b=this.props.results;return b&&"table"===b.type&&b.plotOptions&&"tree"===b.plotOptions.displayType?this.renderTree():this.props.isComplexResult?this.renderComplexResult():this.renderSimpleResult()}return this.dataWidget=null,this.dashboardView=null,null},renderSimpleResult:function(){var a=this.props.results;if(this.dataWidget=null,this.dashboardView=null,this.props.collapsed)return null;var b=this.props.additionalStyles||{};return a&&"table"===a.type&&0===a.data.length?f.createElement("div",{className:"results command-result-simple",style:b},"OK"):a&&"raw"===a.type?f.createElement("div",{className:"results",style:b},f.createElement("pre",null,a.data)):a&&"html"===a.type?f.createElement(j,{resizeEnabled:this.props.resizable,enabled:this.props.enableLargeOutputWrapper},f.createElement("div",{className:"results",style:b,dangerouslySetInnerHTML:{__html:a.data}})):null},updateLocalBindings:function(a){this.localBindings&&this.localBindings.set(a.bindings)},localDisplayTypeChanged:function(){window.recordEvent("plotTypeChanged",this.tags()),this.props.updateCommand({displayType:this.dataWidget.get("displayType")})},getLocalPlotParams:function(){return this.dataWidget.pick(["xColumns","yColumns","pivotColumns","pivotAggregation","customPlotOptions"])},localPlotParamsChanged:function(){if("running"!==this.props.state){var a=this.getLocalPlotParams();window.recordEvent("plotOptionsChanged",this.tags(),a),this.dataWidget.get("dataOverflowed")===!0?this.plotOverAll():this.props.updateCommand(a)}},plotOverAll:function(){this.dataWidget.get("dataOverflowed")===!0&&(this.props.updateCommand(this.getLocalPlotParams()),window.recordEvent("plotWithServerAggregation",this.tags()),this.props.runCommand({bindings:this.localBindings.toJSON()}))},localSizeChanged:function(){this.props.resizable&&this.props.updateCommand({height:this.dataWidget.get("height"),width:this.dataWidget.get("width")})},localInputWidgetsChanged:function(){var a={};e.each(this.inputWidgets,function(b){var c=b.get("binding");a[c]={controlType:b.get("controlType"),choices:b.get("choices"),label:b.get("label")}},this),this.props.updateCommand({inputWidgets:a})},createInputWidgets:function(a){this.inputWidgets=[];var b=a.inputWidgets?a.inputWidgets:{};e.each(e.keys(this.props.bindings).sort(),function(a){var c=b[a]?b[a].controlType:"text",d=b[a]?b[a].choices:[],e=b[a]?b[a].label:a;this.inputWidgets.push(new o({configurable:!0,controlType:c,choices:d,label:e,binding:a}))},this)},createDataWidget:function(a){var b=a.results,c=b?b.type:null,d=this.props.command;this.dataWidget=new n({query:d,language:i.getLanguage(d),running:a.rerunning,resultType:c,xColumns:a.xColumns,yColumns:a.yColumns,pivotColumns:a.pivotColumns,pivotAggregation:a.pivotAggregation,customPlotOptions:k.deepCopy(a.customPlotOptions),width:a.width,height:a.height,resizable:a.resizable,downloadable:a.downloadable})},updateDataWidget:function(a){if(this.dataWidget){var b=e.filter(["xColumns","yColumns","pivotColumns","pivotAggregation","customPlotOptions","height","width","displayType","autoScaleImg"],function(b){return!e.isEqual(this.props[b],a[b])},this);e.isEmpty(b)||this.dataWidget.set(e.pick(a,b))}},resetDataWidget:function(a){var b=a.results;return this.dataWidget?this.updateDataWidget(a):this.createDataWidget(a),this.isMarkdown()?void this.dataWidget.set({downloadable:!1,data:this.props.command,resultType:"markdown",displayType:"markdown"}):void(b?this.dataWidget.set({state:"finished",displayType:k.computeDisplayType(a.displayType,b.type,b.plotOptions?b.plotOptions.displayType:null),resultType:b.type,schema:b.schema,data:b.data,arguments:a.arguments,dataOverflowed:b.overflow,aggSchema:b.aggSchema,aggData:b.aggData,aggDataOverflowed:b.aggOverflow,aggError:b.aggError,aggType:b.aggType,aggSeriesLimitReached:b.aggSeriesLimitReached,downloadable:a.downloadable&&k.isDownloadable(b.type),resizable:a.resizable&&k.isResizable(b.type),error:null}):this.dataWidget.set({state:"error",error:a.error,arguments:a.arguments,data:null,schema:null,aggSchema:null,aggData:null,height:"auto"}))},setupEventListener:function(){this.eventListener=this.eventListener||e.extend({},g.Events),this.eventListener.stopListening(),this.eventListener.listenTo(this.localBindings,"submitBindings",this.runCommandWithLocalBindings,this),this.eventListener.listenTo(this.dataWidget,"change:displayType",this.localDisplayTypeChanged,this),this.eventListener.listenTo(this.dataWidget,"change:height change:width",e.debounce(this.localSizeChanged,1),this),this.eventListener.listenTo(this.dataWidget,"change:xColumns change:yColumns change:pivotColumnschange:pivotAggregation change:customPlotOptions",e.debounce(this.localPlotParamsChanged,1),this),this.eventListener.listenTo(this.dataWidget,"plotOverAll",this.plotOverAll),e.each(this.inputWidgets,function(a){this.eventListener.listenTo(a,"change:controlType change:choices change:label",e.debounce(this.localInputWidgetsChanged,1),this)},this)},renderComplexResult:function(){var a=[];this.createInputWidgets(this.props),e.each(this.inputWidgets,function(b){a.push(b)}),this.localBindings=new l(this.props.bindings),this.resetDataWidget(this.props),a.push(this.dataWidget);var b=new m({widgets:a,originalBindings:this.props.bindings});this.dashboardView=new p({model:b,autoSubmit:!1,bindings:this.localBindings,clickToScrollTables:!0,isStatic:this.props.isStatic,hidePlotControls:this.props.hidePlotControls,autoCenterImg:this.props.autoCenterImg,autoScaleImg:this.props.autoScaleImg}),this.setupEventListener();var c={display:this.props.collapsed?"none":"block"};e.extend(c,this.props.additionalStyles);var d="results dashboard";return this.props.enablePointerEvents||(d="results dashboard disable-pointer-events"),f.createElement("div",{className:d,style:c})},renderDashboardView:function(){this.props.isComplexResult&&this.dashboardView&&(d(this.getDOMNode()).html(this.dashboardView.el),this.dashboardView.render())},componentDidUpdate:function(){this.renderDashboardView()},componentDidMount:function(){this.renderDashboardView()}});b.exports=r},{"../constants/WorkspacePermissions":18,"../helpers/CommandParserUtils":32,"../helpers/LargeOutputWrapper.jsx":39,"../helpers/Utility":55,"../models/Bindings":57,"../models/Dashboard":58,"../models/DataWidget":59,"../models/InputWidget":60,"../views/DashboardView":100,"../visualizations/ReactTree.jsx":123,backbone:151,jquery:164,"react/addons":188,underscore:365}],68:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("underscore"),f=d.addons.classSet,g=a("../helpers/Utility"),h=a("../helpers/Tooltip.jsx"),i=a("../notebook/NotebookEmbededSparkUI.jsx"),j=d.createClass({displayName:"CommandSpinner",propTypes:{cancelQuery:d.PropTypes.func.isRequired,state:d.PropTypes.string.isRequired,stages:d.PropTypes.array.isRequired,showCancel:d.PropTypes.bool.isRequired,collapsed:d.PropTypes.bool,clusterId:d.PropTypes.string,sparkCtxId:d.PropTypes.string,hasSubCommands:d.PropTypes.bool},getInitialState:function(){return{collapsed:!0,expandedMap:{}}},componentDidMount:function(){i.init()},componentWillUnmount:function(){i.events().off(null,null,this)},getOpenSparkUIFunc:function(a){return function(b){b.ctrlKey||b.metaKey||(b.preventDefault(),i.showOrHide(a))}},componentWillReceiveProps:function(a){"running"===this.props.state&&this.setState({collapsedMap:{}})},renderSpinner:function(){var a=d.createElement("div",{className:"progress-bar-wrapper"},d.createElement("img",{className:"progress-bar-shadow",src:g.getResourceUrl("img/spinnerAnimation.gif")}));if("cancelling"===this.props.state)return d.createElement("div",{className:"spinner command-result-cancelling"},d.createElement("div",{className:"command-control flex-div"},a,d.createElement("div",{className:"cancel-wrapper"},"Cancelling...")));if("running"!==this.props.state)return null;var b=this.props.showCancel?d.createElement("a",{className:"cancel-query-button",onClick:this.props.cancelQuery},"Cancel"):null;return d.createElement("div",{className:"spinner running"},d.createElement("div",{className:"command-control flex-div"},a,d.createElement("div",{className:"cancel-wrapper"},b)))},getSparkUILink:function(){var a=this.props.clusterId,b=this.props.sparkCtxId;return"/sparkui/"+a+"/driver-"+b},getJobLink:function(a){return this.getSparkUILink()+"/jobs/job?id="+a},getStageLink:function(a){return this.getSparkUILink()+"/stages/stage?id="+a+"&attempt=0"},toggleCollapsed:function(){this.setState({collapsed:!this.state.collapsed})},toggleJobDetails:function(a){var b=this.state.expandedMap;b[a]?delete b[a]:b[a]={},this.setState({expandedMap:b})},_sum:function(a,b){return e.reduce(e.map(a,function(a){return parseInt(a[b])}),function(a,b){return a+b})},renderJobs:function(a){var b="running"===this.props.state,c=e.keys(a);e.each(this.props.stages,function(a){a.finished=a.numCompletedTasks===a.totalTasks});var f=e.map(c,function(c,f){var g,i,j=d.createElement("i",{className:"fa fa-caret-right fa-fw"}),k=e.sortBy(a[c],"stageId");if(this.state.expandedMap[c]){j=d.createElement("i",{className:"fa fa-caret-down fa-fw"});var l=e.map(k,function(a,c){var e=this.getStageLink(a.stageId);if(b){var f=a.numCompletedTasks,g=a.numActiveTasks,i=Math.max(a.totalTasks,1),j=Math.round(g/i*100),k=Math.round(f/i*100);return d.createElement("li",{key:a.stageId},d.createElement("p",null,"Stage ",a.stageId,":"),d.createElement(h,{text:"succeeded / total tasks"},d.createElement("div",{className:"progress"},d.createElement("span",{className:"progress-bar-text"},f,"/",i," (",g," running)"),d.createElement("div",{className:"bar bar-completed",style:{width:k+"%"}}),d.createElement("div",{className:"bar bar-running",style:{width:j+"%"}}))),d.createElement("a",{className:"spark-ui-link",href:"/#setting"+e,onClick:this.getOpenSparkUIFunc(e)},d.createElement("i",{className:"fa fa-info-circle"})))}return d.createElement("li",{key:a.stageId},"Stage ",a.stageId,": ",d.createElement(h,{text:"succeeded / total tasks"},a.numCompletedTasks,"/",a.totalTasks)," ",d.createElement("a",{className:"spark-ui-link",href:"/#setting"+e,onClick:this.getOpenSparkUIFunc(e)},d.createElement("i",{className:"fa fa-info-circle"})),a.finished?null:"skipped")},this);g=d.createElement("ul",{className:"stages"},l)}else if(b){var m=Math.max(this._sum(k,"totalTasks"),1),n=this._sum(k,"numCompletedTasks"),o=Math.round(n/m*100);i=d.createElement("div",{className:"progress-bar"},d.createElement("div",{className:"progress-bar-fill",style:{width:o+"%"}}))}var p;if(b)p=d.createElement("p",null,"(",k.length," stages)");else{var q=e.where(k,{finished:!1}),r=q.length,s=k.length-r;p=0===r?d.createElement("p",null,"(Stages: ",s,"/",s,")"):d.createElement("p",null,"(Stages: ",s,"/",s,", ",r," skipped)")}var t=this.getJobLink(c);return d.createElement("li",{key:c,"data-job-id":c},d.createElement("p",{className:"text-link",onClick:this.toggleJobDetails.bind(this,c)},j,"Job ",c," "),i,d.createElement("a",{className:"spark-ui-link",href:"/#setting"+t,onClick:this.getOpenSparkUIFunc(t)},"View"),p,g)},this);return d.createElement("ul",{className:"jobs"},f)},render:function(){var a=this.props.state,b=this.props.stages,c="running"===a,g="cancelling"===a,h=window.settings&&window.settings.enableNewProgressReportUI;if(!h||this.props.hasSubCommands||this.props.collapsed||g||e.isEmpty(b)||!this.props.clusterId||!this.props.sparkCtxId)return this.renderSpinner();var i=this.props.showCancel&&c?d.createElement("div",{className:"cancel-wrapper"},d.createElement("a",{className:"cancel-query-button",onClick:this.props.cancelQuery},"Cancel")):null,j=e.groupBy(b,"jobId"),k=e.keys(j),l={spinner:!0,expanded:!this.state.collapsed,running:c};if(l["command-stage-info"]=!0,this.state.collapsed){var m;if(c){var n=Math.max(this._sum(b,"totalTasks"),1),o=this._sum(b,"numCompletedTasks"),p=Math.round(o/n*100);p=p>100?100:p,m=d.createElement("div",{className:"progress-bar"},d.createElement("div",{className:"progress-bar-fill",style:{width:p+"%"}}))}return d.createElement("div",{className:f(l)},d.createElement("p",{onClick:this.toggleCollapsed},d.createElement("i",{className:"fa fa-caret-right fa-fw"}),"(",k.length,") Spark Jobs"),m,i)}return d.createElement("div",{className:f(l)},d.createElement("p",{onClick:this.toggleCollapsed},d.createElement("i",{className:"fa fa-caret-down fa-fw"}),"(",k.length,") Spark Jobs"),i,this.renderJobs(j))}});b.exports=j},{"../helpers/Tooltip.jsx":54,"../helpers/Utility":55,"../notebook/NotebookEmbededSparkUI.jsx":76,"react/addons":188,underscore:365}],69:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../helpers/Utility"),f=d.createClass({displayName:"CommandStats",propTypes:{state:d.PropTypes.string.isRequired,clusterName:d.PropTypes.string,clusterMemory:d.PropTypes.number,latestUser:d.PropTypes.string,startTime:d.PropTypes.number,
finishTime:d.PropTypes.number,submitTime:d.PropTypes.number,displayType:d.PropTypes.string,results:d.PropTypes.object,collapsed:d.PropTypes.bool},getDefaultProps:function(){return{clusterName:"unknown cluster",clusterMemory:0,results:{type:""},latestUser:"unknown user"}},render:function(){var a="running"===this.props.state,b=this.props.results,c=b&&b.type?b.type:"",f=e.computeDisplayType(this.props.displayType,c),g=new Date(this.props.submitTime),h=this.props.startTime,i=this.props.finishTime;if(!a&&h&&i&&"markdown"!==f){var j=d.addons.classSet,k=j({"command-result-stats":!0,hidden:this.props.collapsed}),l=((i-h)/1e3).toFixed(2);return d.createElement("div",{className:k},d.createElement("span",null,"Command took ",l,"s "),d.createElement("span",{className:"command-provenance"},"-- by ",this.props.latestUser," at ",g.toLocaleString()," on ",this.props.clusterName," (",this.props.clusterMemory," GB)"))}return null}});b.exports=f},{"../helpers/Utility":55,"react/addons":188}],70:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../helpers/Utility"),g=a("../notebook/BackboneRpcMixin"),h=e.Model.extend({defaults:{guid:f.generateGUID(),text:"",commentReference:{referenceType:"command"},postedAt:0,updatedAt:0,replies:{}},notebook:function(){return this.get("parent")},url:function(){return"/notebook/"+this.notebook().id+"/comment"},isLocalModel:function(){return Boolean(!this.get("id"))},getCommand:function(){return this.notebook().commandCollection().find(function(a){return a.get("nuid")===this.get("commandNUID")},this)},getReplies:function(){return d.sortBy(d.values(this.get("replies")),function(a){return a.postedAt})},removeLocalModel:function(){this.isLocalModel&&this.notebook().commandCollection().remove(this)},saveNewComment:function(a,b){return this.isLocalModel()?void this.rpc("addComment",{text:a,guid:this.get("guid"),commandNUID:this.get("commandNUID"),reference:this.get("commentReference")},b):void console.error("Comment Already saved to backend")},updateCommentText:function(a,b){a&&!d.isEqual(a,this.get("text"))&&this.rpc("updateCommentText",{commentId:this.id,text:a},b)},updateCommentReference:function(a,b){d.isEqual(a,this.get("commentReference"))||this.rpc("updateCommentRef",{commentId:this.id,reference:a},b)},updateReferenceRange:function(a,b){if(!this.isLocalModel()){var c={referenceType:"commandFragment",selection:b,range:{from:{line:a.from.line,ch:a.from.ch},to:{line:a.to.line,ch:a.to.ch}}};this.updateCommentReference(c)}},deleteComment:function(){this.rpc("removeComment",{commentId:this.id})},addReply:function(a,b){this.rpc("addCommentReply",{commentId:this.id,text:a,nuid:f.generateGUID()},b)},updateReply:function(a,b,c){this.get("replies")[a]&&this.rpc("updateCommentReply",{commentId:this.id,replyNUID:a,text:b},c)},deleteReply:function(a){this.get("replies")[a]&&this.rpc("removeCommentReply",{commentId:this.id,replyNUID:a})}});d.extend(h.prototype,g),b.exports=h},{"../helpers/Utility":55,"../notebook/BackboneRpcMixin":63,backbone:151,underscore:365}],71:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../constants/DashboardViewConstants"),g=e.Model.extend({displayWidth:function(){return this.gridWidth()*this.dashboard().displayColumnWidth()-14},displayHeight:function(){return this.gridHeight()*this.dashboard().displayCellHeight()+f.CELL_VERTICAL_MARGIN*(this.gridHeight()-1)-8},gridHeight:function(){var a=this.get("position");return a&&a.height?a.height:this.getDefaultHeight()},gridWidth:function(){var a=this.get("position");return a&&a.width?a.width:this.getDefaultWidth()},getDefaultHeight:function(){return this.getCommandModel().isMarkdownCommand()?1:5},getDefaultWidth:function(){return this.getCommandModel().isMarkdownCommand()?f.NUMBER_OF_COLUMNS:f.NUMBER_OF_COLUMNS/2},dashboard:function(){return this.get("dashboard")},notebook:function(){return this.dashboard().notebook()},elementNUID:function(){return this.get("elementNUID")},getCommandModel:function(){return this.notebook().commandByNUID(this.elementNUID())},updateOptions:function(a,b){this.dashboard().updateElementOptions(this.get("guid"),a,b)},getOptions:function(){return d.defaults(this.get("options")||{},f.DEFAULT_ELEMENT_OPTIONS)},getOption:function(a){return this.getOptions()[a]}});b.exports=g},{"../constants/DashboardViewConstants":10,backbone:151,underscore:365}],72:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../notebook/BackboneRpcMixin"),g=a("../helpers/NotebookUtilities"),h=a("../notebook/DashboardElementModel"),i=a("../constants/DashboardViewConstants"),j=e.Model.extend({_elementsMap:{},_populateElements:function(){var a=this.notebook().getCommands().filter(function(a){return a.isComplexResult()}).map(function(a){return a.get("nuid")});this.addCommandElements(a)},initialize:function(){this._elementsMap={},d.each(this.get("elements"),function(a){this._elementsMap[a.guid]=new h(a).set("dashboard",this)},this),this.listenTo(this,"change:elements",this._updateElements)},_updateElements:function(){var a={};d.each(this.get("elements"),function(b){this._elementsMap[b.guid]?a[b.guid]=this._elementsMap[b.guid].set(b):a[b.guid]=new h(b).set("dashboard",this)},this),this._elementsMap=a,this.trigger("elementsUpdated")},notebook:function(){return this.get("parent")},_dashboardRpc:function(a,b,c){c=c||{},c.error||(c.error=g.handleRpcError),b=d.extend({updates:{},removedElements:[],newElements:[],changedElements:[]},b),c.url||(c.url="/notebook/"+this.notebook().id+"/dashboard/"+this.id),this.rpc(a,b,c)},deleteDashboardView:function(a){this._dashboardRpc("removeDashboardView",{},{success:a})},getElementsMap:function(){return this._elementsMap},getElements:function(){return d.values(this._elementsMap)},setLayoutOption:function(a,b){this._updateDashboard({layoutOption:d.defaults(a,this.get("layoutOption"))},b)},getLayoutOption:function(a){return this.get("layoutOption")[a]},setDashboardWidth:function(a,b){if(!d.contains(i.WIDTH_OPTIONS,a))throw"Can't set dashboard width to: "+a;this._updateDashboard({width:a},b)},setDashboardTitle:function(a,b){this.get("title")!==a&&this._updateDashboard({title:a},b)},_updateDashboard:function(a,b){this._dashboardRpc("updateDashboardView",{updates:a},{success:b})},hasCommandElement:function(a){var b,c=this.attributes.elements;for(b=0;b<c.length;b++)if(c[b].elementNUID===a)return!0;return!1},addCommandElement:function(a,b){this.addCommandElements([a],b)},addCommandElements:function(a,b){this._dashboardRpc("updateDashboardView",{newElements:d.map(a,function(a){return{elementType:"command",elementNUID:a}})},{success:b})},removeCommandElement:function(a,b){this.removeCommandElements([a],b)},removeCommandElements:function(a,b){var c,d,e=this.attributes.elements,f=[];for(c=0;c<e.length;c++)for(d=0;d<a.length;d++)e[c].elementNUID===a[d]&&f.push(e[c].guid);this._dashboardRpc("updateDashboardView",{removedElements:f},{success:b})},updateElementOptions:function(a,b,c){b=d.defaults(b,this._elementsMap[a].get("options")),this.updateLocalElement(a,{options:b}),this.syncLocalChanges(c)},_deletedElementGUIDs:[],_changedElementsMap:{},removeLocalElement:function(a){delete this._elementsMap[a],this._deletedElementGUIDs.push(a)},updateLocalElement:function(a,b){this._elementsMap[a].set(b,{silent:!0}),this._changedElementsMap[a]?d.extend(this._changedElementsMap[a],b):this._changedElementsMap[a]=d.extend({guid:a},b)},hasLocalchanges:function(){return!d.isEmpty(this._deletedElementGUIDs)||!d.isEmpty(this._changedElementsMap)},syncLocalChanges:function(a){this.hasLocalchanges()&&this._dashboardRpc("updateDashboardView",{removedElements:this._deletedElementGUIDs,changedElements:d.values(this._changedElementsMap)},{success:function(){this._deletedElementGUIDs=[],this._changedElementsMap={},a&&a.apply(this,arguments)}.bind(this)})},getDashboardWidth:function(){return this.get("width")},getDashboardMinHeight:function(){return this.getDashboardWidth()/i.DEFAULT_PAGE_RATIO},displayColumnWidth:function(){return Math.floor(this.get("width")/i.NUMBER_OF_COLUMNS)},displayCellHeight:function(){return Math.floor(this.get("width")*i.CELL_HEIGHT_RATIO)-i.CELL_VERTICAL_MARGIN}});d.extend(j.prototype,f),d.extend(j.prototype,{fetchPermissions:function(a){return this.notebook().fetchPermissions(a)},onPermissionFetchSuccess:function(a){return this.notebook().onPermissionFetchSuccess(a)},fetchPermissionLevel:function(a){return this.notebook().fetchPermissionLevel(a)},fetchWorkspaceAcl:function(a){return this.notebook().fetchWorkspaceAcl(a)},getPermissionLevel:function(){return this.notebook().getPermissionLevel()},canView:function(){return this.notebook().canView()},canEdit:function(){return this.notebook().canEdit()},canManage:function(){return this.notebook().canManage()}}),b.exports=j},{"../constants/DashboardViewConstants":10,"../helpers/NotebookUtilities":48,"../notebook/BackboneRpcMixin":63,"../notebook/DashboardElementModel":71,backbone:151,underscore:365}],73:[function(a,b,c){"use strict";var d=a("underscore"),e=a("jquery"),f=a("react/addons"),g=(a("../../lib/filesaver/FileSaver"),a("../helpers/ReactModalUtils")),h=a("../helpers/Utility"),i=a("../views/ReactCellExportDialog.jsx"),j=function(){this._cssUris={},this._htmlUris={}};j.prototype.getStaticResourceUrl=function(a){return h.getResourceUrl(a,!0)},j.prototype._calcDataUri=function(a,b){var c=e("<img/>");c.load(function(){var a,c=document.createElement("canvas"),d=c.getContext("2d");c.height=this.height,c.width=this.width,d.drawImage(this,0,0),a=c.toDataURL(),b(a),c=null}),c.error(function(c){console.error("failed to load image",a,c),b(null)}),c[0].src=a},j.prototype._fixCommandModel=function(a,b){var c=void 0!==window.settings.files?window.settings.files:"",e=a.clone();if(e.set({parent:null}),"command"===e.get("type")?e.set({presenceMarks:[],state:"running"===e.get("state")||"cancelling"===e.get("state")?"finished":e.get("state"),stages:[],clusterId:"",clusterName:"",clusterMemory:0,comments:null,lastModifiedBy:""}):"comment"===e.get("type")&&e.set({editor:null}),e.get("results")&&"image"===e.get("results").type){var f=d.clone(e.get("results"));this._calcDataUri(c+f.data,function(a){f.data=null===a?"":a,e.set({results:f}),b(e)})}else b(e)},j.prototype.exportCell=function(a,b){var c=this,h=function(a){var h="div.cell-"+a.get("parentId")+"-"+a.get("id"),j=e(h).height()-e(h+" .command-result-stats").height()+8,k=(d.pick(window.settings,"staticNotebookResourceUrl"),"<html><head><meta charset='utf-8'><meta name='google' content='notranslate'><meta http-equiv='Content-Language' content='en'><link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700'><link rel='stylesheet' type='text/css' href='"+c.getStaticResourceUrl("lib/css/bootstrap.min.css")+"'><link rel='stylesheet' type='text/css' href='"+c.getStaticResourceUrl("css/main.css")+"'><meta http-equiv='content-type' content='text/html; charset=UTF8'></head><body><div id='databricks-notebook-cell'></div><script>window.settings = {staticNotebookResourceUrl: '"+window.settings.staticNotebookResourceUrl+"', deploymentMode: '"+window.settings.deploymentMode+"'};var notebookModelJson = '"+btoa(JSON.stringify(b))+"';var notebookModelCommandCollection = '"+btoa(JSON.stringify([a]))+"';</script><script src='"+c.getStaticResourceUrl("js/cell-main.js")+"'></script></body></html>"),l='<iframe style="width:100%;border-width:0px;height:'+j+'px" srcdoc="'+k+'"></iframe>',m=f.createFactory(i),n=m({codeSnippet:l.replace(/\\/g,"\\\\")});g.createModal(n)};this._fixCommandModel(a,h)},b.exports=j},{"../../lib/filesaver/FileSaver":144,"../helpers/ReactModalUtils":51,"../helpers/Utility":55,"../views/ReactCellExportDialog.jsx":105,jquery:164,"react/addons":188,underscore:365}],74:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react/addons"),f=a("../helpers/Utility"),g=27,h=document.onkeydown,i=e.addons.classSet,j=e.createClass({displayName:"KeyboardShortcutsView",getInitialState:function(){return{open:this.props.defaultOpenState,closeIcon:this.props.defaultCloseIcon}},getDefaultProps:function(){return{defaultOpenState:!1,defaultCloseIcon:!1}},toggleState:function(){this.setState({open:!this.state.open})},componentDidMount:function(){var a=this;d(document).on("keyup.KeyboardShortcutsView.escapeHandler",function(b){if(b=b||window.event,b.keyCode===g){try{b.preventDefault()}catch(c){b.returnValue=!1}a.isMounted()&&a.setState({open:!1})}h&&h(b)}),d(document).on("click.KeyboardShortcutsView.clickHandler",function(b){if(d(b.target).parents("#shortcut-wrapper").length>0)return!1;var c;(d(b.target).parents("#shortcut-content").length>0||b.target&&"shortcut-content"===b.target.id)&&(c=!0),!c&&a.isMounted()&&a.setState({open:!1})})},componentDidUnmount:function(){d(document).off(".KeyboardShortcutsView")},closeIcon:function(){var a=function(){d(".react-modal-place").modal("hide")};return e.createElement("i",{className:"fa fa-times-circle-o modal-close",onClick:a})},commandKeys:["Cmd","Ctrl","Alt","Option","Enter","Shift","Esc","Tab","Up","Down"],shortcutContent:function(){var a=f.isMac()?"Cmd":"Ctrl",b=f.isMac()?"Option":"Alt",c={"Run command and move to next cell":["Shift","&&","Enter"],"Run command and insert new cell below":[b,"&&","Enter"],"Run command":["Ctrl","&&","Enter"],"Move to previous/next cell":[b,"&&","Up","||","Down"],"Insert a cell above":["Ctrl","&&",b,"&&","P"],"Insert a cell below":["Ctrl","&&",b,"&&","N"],"Move a cell up":["Ctrl","&&",b,"&&","Up"],"Move a cell down":["Ctrl","&&",b,"&&","Down"],"Toggle comments panel":["Ctrl","&&",b,"&&","M"],"Copy current cell":["Ctrl","&&",b,"&&","C"],"Cut current cell":["Ctrl","&&",b,"&&","X"],"Paste cell below":["Ctrl","&&",b,"&&","V"],"Delete current cell":["Ctrl","&&",b,"&&","D"],"Move up or to previous cell":["Up"],"Move down or to next cell":["Down"],"Autocomplete, indent selection":["Tab"],"Unindent selection":["Shift","&&","Tab"],"Indent/Unindent selection":[a,"&&","]","||","["],"Undo typing":[a,"&&","Z"],"Redo typing":[a,"&&","Shift","&&","Z"],"Toggle line comment":[a,"&&","/"]},d=[];for(var g in c){for(var h=c[g],j=[],k=0;k<h.length;k++)if("&&"===h[k])j.push(e.createElement("span",{className:"plus-sign"},"+"));else if("||"===h[k])j.push(e.createElement("span",{className:"plus-sign"},"/"));else{var l=i({"shortcut-command":!0,"command-key":this.commandKeys.indexOf(h[k])>=0});j.push(e.createElement("span",{className:l},h[k]))}d.push(e.createElement("tr",null,e.createElement("td",{className:"shortcut-instruction"},j),e.createElement("td",{className:"shortcut-colon"},":"),e.createElement("td",{className:"shortcut-description"},g)))}return e.createElement("table",{id:"shortcut-table"},d)},render:function(){return this.state.open?e.createElement("div",{id:"shortcut-content",style:this.props.style,ref:"shortcutView"},this.props.defaultCloseIcon?this.closeIcon():null,this.shortcutContent()):null}});b.exports=j},{"../helpers/Utility":55,jquery:164,"react/addons":188}],75:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../helpers/NotebookUtilities"),g=a("../helpers/Utility"),h=a("../models/Presence"),i=a("../notebook/BackboneRpcMixin"),j=e.Model.extend({defaults:{deltaVersion:-1,localVersion:1,running:!1,state:"input",shouldRun:!1,rerunning:!1,stages:[],guid:g.generateGUID(),commandType:"auto",command:"",commandVersion:0,results:null,errorSummary:null,error:null,startTime:0,submitTime:0,finishTime:0,collapsed:!1,bindings:{},displayType:"table",width:"auto",height:"auto",xColumns:null,yColumns:null,pivotColumns:null,commentThread:[],commentsVisible:!1,parentHierarchy:[],diffInserts:[],diffDeletes:[],presenceMarks:[]},initialize:function(){this.listenTo(this,"change:results",this.parseNonNumericEntries),this.listenTo(this,"change:arguments",this.saveLocalBindings),this.listenTo(this,"change:width change:height",d.debounce(this.formatWidthHeight,1),this),this.formatWidthHeight(),this.saveLocalBindings(),this.get("commentThread")||this.set("commentThread",[])},formatWidthHeight:function(){var a=this.get("width"),b=this.get("height");"auto"!==a&&isNaN(parseInt(a))&&this.set({width:"auto"}),"auto"!==a&&isNaN(parseInt(b))&&this.set({height:"auto"})},localModifiableAttrs:["position","command","height","width","bindings","displayType","customPlotOptions","pivotAggregation","pivotColumns","xColumns","yColumns"],set:function(a,b){return a?(b&&b.deltaEvent&&a.lastModifiedBy&&a.lastModifiedBy===g.getBrowserTabId()&&("update"===b.deltaEvent||"full"===b.deltaEvent?a=d.omit(a,this.localModifiableAttrs):"create"===b.deltaEvent&&delete a.command),this.get("localVersion")&&e.Model.prototype.set.call(this,{localVersion:this.get("localVersion")+1},{silent:!0}),e.Model.prototype.set.call(this,a,b)):this},commandRpc:function(a,b,c){var d=this;c=c||{},c.error||(c.error=f.handleRpcError),c.sendCondition=function(){return d.get("id")?!0:!1},this.rpc(a,b,c)},urlRoot:function(){return(this.notebook()&&this.notebook().url())+"/command"},notebook:function(){return this.get("parent")},forceUpdateCommand:function(a){this.commandRpc("updateCmd",{changes:a},{optmisticChanges:a})},updateCommand:function(a,b){if(!a)return!1;var c=d.filter(d.keys(a),function(b){return!d.isEqual(this.get(b),a[b])},this);return a=d.pick(a,c),d.isEmpty(a)?!1:(a.lastModifiedBy=g.getBrowserTabId(),this.set(a,b),this.commandRpc("updateCmd",{changes:a}),!0)},clearResults:function(){var a=this,b={results:null,error:null,errorSummary:null,startTime:0,finishTime:0,arguments:[],stages:[]},c=d.some(d.map(b,function(b,c){return a.get(c)!==b}));c&&(this.set(b),this.commandRpc("clearResults",{}))},tags:function k(){var k={};return this.notebook()&&(k=this.notebook().tags(),k.commandLanguage=g.determineCodeLang(this.get("command"),this.notebook().get("language"))),k.displayType=this.localModifiableAttrs.displayType,k.isParamQuery=this.isParamQuery(),k},runCommand:function(a){a=a||{};var b=a.command||this.get("command"),c=a.bindings||this.get("bindings");d.isEmpty(b)||(h.pushHistory("Ran a command"),window.recordEvent("runSingleCommand",this.tags()),this.set({state:"running",stages:[]}),a=a||{},this.commandRpc("runCmd",{newCommandText:b,newBindings:c}))},cancelCommand:function(){h.pushHistory("Cancelled command execution"),this.commandRpc("cancelCmd")},removeCommand:function(){h.pushHistory("Deleted command"),this.commandRpc("removeCmd")},parseNonNumericEntries:function(){var a=this.get("results");a&&a.data.map&&("collection"===a.type?d.each(a.collection,this.parseNonNumericEntriesInResult):this.parseNonNumericEntriesInResult(a))},parseNonNumericEntriesInResult:function(a){var b=this;a.data.map(function(a,c){a.map(function(a,d){"Infinity"===a?b.get("results").data[c][d]=1/0:"Negative Infinity"===a?b.get("results").data[c][d]=-(1/0):"NaN"===a&&(b.get("results").data[c][d]=NaN)})})},getCommand:function(){return this.get("command")},isChild:function(){return void 0!==this.get("parentHierarchy")&&null!==this.get("parentHierarchy")&&this.get("parentHierarchy").length>0},isParamQuery:function(){return!d.isEmpty(this.get("arguments"))},isComplexResult:function(){var a=this.get("results"),b=this.get("command");return a&&"table"===a.type&&a.data.length>0||a&&"image"===a.type||a&&"htmlSandbox"===a.type||this.isMarkdownCommand(b)||this.isParamQuery()},isMarkdownCommand:function(a){return a=a||this.get("command"),a&&"markdown"===g.getDisplayType(a)},parentGuid:function(){return this.get("parentHierarchy")[0]},saveLocalBindings:function(){var a=this.get("arguments"),b=this.get("bindings");if(a&&!d.isEqual(d.keys(a).sort(),d.keys(b).sort())){var c=d.reduce(d.keys(a),function(c,d){return c[d]=b[d]||a[d]||"",c},{});this.updateCommand({bindings:c})}},updatePresenceCommand:function(){this.notebook().updatePresenceCommand(this.get("id"))},updateCursorPosition:function(a,b){this.notebook().updateCursorPosition(this.get("id"),a,b)},getComments:function(){return this.get("comments")}});d.extend(j.prototype,i),b.exports=j},{"../helpers/NotebookUtilities":48,"../helpers/Utility":55,"../models/Presence":61,"../notebook/BackboneRpcMixin":63,backbone:151,underscore:365}],76:[function(a,b,c){"use strict";var d,e,f=a("jquery"),g=a("underscore"),h=a("backbone"),i=a("react/addons"),j="notebook-embeded-spark-ui",k=i.createClass({displayName:"EmbededSparkUI",propTypes:{onHide:i.PropTypes.func,onShow:i.PropTypes.func},getInitialState:function(){return{hidden:!0,url:""}},componentDidMount:function(){var a=this;this.clickHandler=function(b){var c=0!==f(b.target).closest("#"+j).length,d=0!==f(b.target).closest(".spark-ui-link").length;c||d||a.hide()},f(document).click(this.clickHandler)},refresh:function(){if(this.isMounted()){var a=this.refs.iframe.getDOMNode();a.src=a.contentWindow.location.href}},hide:function(){this.isMounted()&&(this.setState({hidden:!0}),this.props.onHide&&this.props.onHide(),f(".spark-ui-link").blur(),this.events.trigger("onHide"))},showOrHide:function(a){if(this.isMounted()){var b=this.refs.iframe;!this.state.hidden&&b&&b.getDOMNode().contentWindow.location.href.indexOf(a)>=0?this.hide():this.show(a)}},show:function(a){this.isMounted()&&(this.setState({hidden:!1,url:a}),this.props.onShow&&this.props.onShow(),this.events.trigger("onShow"))},currentUrl:function(){if(this.isMounted()){var a=this.refs.iframe.getDOMNode();return a.contentWindow.location.href}},events:g.extend({},h.Events),onLoad:function(){this.events.trigger("onLoad")},addOnloadCallback:function(a){this.onloadCallbacks.push(a)},removeOnloadCallback:function(a){this.onloadCallbacks=g.without(this.onloadCallbacks,a)},render:function(){return this.state.hidden||g.isEmpty(this.state.url)?null:i.createElement("div",{className:"wrapper"},i.createElement("div",{className:"controls"},i.createElement("a",{onClick:this.refresh},i.createElement("i",{className:"fa fa-fw fa-refresh fa-lg"})),i.createElement("a",{onClick:this.hide},i.createElement("i",{className:"fa fa-fw fa-times fa-lg"}))),i.createElement("iframe",{id:"sparkui-iframe",ref:"iframe",src:this.state.url,frameBorder:"0",onLoad:this.onLoad}))}});c.init=function(){d||(f("body").append(f("<div id='"+j+"'></div>")),d=f("#"+j),e=i.render(i.createElement(k,{onHide:function(){d.hide()},onShow:function(){d.show()}}),d[0]))},c.show=function(a){return e.show(a)},c.showOrHide=function(a){return e.showOrHide(a)},c.hide=function(a){return e.hide()},c.events=function(){return e.events}},{backbone:151,jquery:164,"react/addons":188,underscore:365}],77:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../acl/AclModelMixin"),g=a("../collections/CollectionDeltaReceiver"),h=a("../dashboard/DashboardModel"),i=a("../dashboard/DashboardPageModel"),j=a("../notebook/DashboardViewModel.js"),k=a("../helpers/DialogBox"),l=a("../helpers/NotebookUtilities"),m=a("../helpers/Utility"),n=a("../models/Presence"),o=a("../notebook/NotebookCommandModel"),p=a("../notebook/CommentModel"),q=a("../notebook/BackboneRpcMixin"),r=g.extend({loaded:!1,fetchAndUpdate:function(a){var b=this;e.sync("read",this,{complete:function(){b.loaded=!0},success:function(c){b.updateCollection(b,c),a&&a.success&&a.success()},error:function(b){console.error(b),a&&a.error&&a.error(b)},url:"/notebook/"+this.deltaPublisherRoot+"/command"})},updateCollection:function(a,b){d.each(b,function(a){this.setModelParent(a)},this),a.set(b)}}),s=e.Model.extend({urlRoot:"/notebook",destroy:function(a){var b=d.extend({url:"/tree/"+this.id},a||{});return e.Model.prototype.destroy.call(this,b)},save:function(a,b){if(!a||!d.isEqual(d.keys(a),["parentId"])&&!d.isEqual(d.keys(a),["name"])&&!d.isEqual(d.keys(a),["sortIndex"]))throw"NotebookModel.save is deprecated, use rpc to call the NotebookHandler instead";var c=d.extend({url:"/tree/"+this.id},b||{});return e.Model.prototype.save.call(this,a,c)},initialize:function(a,b){b&&void 0!==b.conn?this._conn=b.conn:this._conn=null,this._commandCollection=null,this._interestedContexts=[]},clearResults:function(){this.getCommands().forEach(function(a){a.clearResults()})},registerInterest:function(a,b){b=d.defaults(b||{},{registerCommandCollectionOnly:!1}),0===this._interestedContexts.length&&(this._registerCommandCollectionReceiver(),b.registerCommandCollectionOnly||(this.updateCommentsInCommand(),this.fetchPermissionLevel(),this.commandCollection().on("add remove reset",this.updateCommentsInCommand,this),this.on("change:presenceMarks",this.updateCollectionPresenceMarks))),-1===this._interestedContexts.indexOf(a)&&this._interestedContexts.push(a)},unregisterInterest:function(a){this._interestedContexts=d.filter(this._interestedContexts,function(b){return b!==a}),0===this._interestedContexts.length&&(this._unregisterCommandCollectionReceiver(),this.off(null,null,this),this.commandCollection().off(null,null,this))},numInterested:function(){return this._interestedContexts.length},validate:function(a){},attach:function(a,b){window.recordEvent("attachNotebook"),n.pushHistory("Attached this notebook to "+b),this._notebookRpc("attach",{clusterId:a},{clusterId:a})},detach:function(){window.recordEvent("detachNotebook"),n.pushHistory("Detached this notebook from "+this.get("clusterName")),this._notebookRpc("detach",{},{clusterId:""})},isAttached:function(){return""!==this.get("clusterId")&&this.get("clusterReady")},_notebookRpc:function(a,b,c){c=c||{},c.error||(c.error=l.handleRpcError),this.rpc(a,b,c)},_getOutstandingCommands:function(){return this._commandCollection.filter(function(a){return"running"===a.get("state")})},_hasOutstandingCommands:function(){return!d.isEmpty(this._getOutstandingCommands())},_runAll:function(){window.recordEvent("runAll",this.tags()),this._notebookRpc("runAll",{}),this.set("runStatus","runningFromRunAll"),d.each(this.getCommands(),function(a){a.set("state","running")}),n.pushHistory("Ran this notebook")},sendGitRPC:function(a,b,c,d,e){window.settings.enableNotebookGitVersioning&&this.rpc(a,b,{url:"/notebook/"+this.id+"/git",success:c,error:d,httpMethod:e||"POST"})},clusterModel:function(a){return window.clusterList?window.clusterList.where?window.clusterList.where({clusterId:a})[0]:d.where(window.clusterList,{clusterId:a})[0]:null},tags:function t(){var a=this.get("path"),t={notebookId:this.get("id"),notebookLanguage:this.get("language"),notebookName:this.get("name"),path:a?a.split("/").slice(1).map(function(a){return window.treeCollection.get(a).get("name")}).join("/"):""},b=this.clusterModel(this.get("clusterId"));if(b){var c=b.tags();for(var d in c)t[d]=c[d]}return t},runAll:function(){this._hasOutstandingCommands()?k.confirm({message:"You can't Run All while individual commands are executing. Do you want to cancel existing executions and do a Run All?",confirmButton:"Yes",cancelButton:"No",confirm:this._runAll.bind(this)}):this._runAll()},isRunning:function(){return"runningFromRunAll"===this.get("runStatus")},runSelected:function(a,b){var c=this,e=d.uniq(a),f={},g=d.flatten(d.map(e,function(a){var d=c.commandByNUID(a);if(d){var e=b&&b[a];return e&&(f[String(d.id)]=e),[d]}return[]})),h=d.sortBy(g,function(a){return a.get("position")}),i=d.map(h,function(a){return a.id});this._notebookRpc("runSelected",{commandIds:i,newBindings:f})},cancelRunAll:function(){n.pushHistory("Cancelled notebook execution"),window.recordEvent("cancelAll",this.tags()),this._notebookRpc("cancelRunAll",{})},addCommand:function(a,b,c,e){n.pushHistory("Added a command");var f=m.generateGUID();this._commandCollection.addItem({type:"command",commandText:a,position:b,guid:f,lastModifiedBy:m.getBrowserTabId()}),e&&d.delay(e,100),this._notebookRpc("addCmd",{commandText:a,position:b,guid:f,execute:c,lastModifiedBy:m.getBrowserTabId()})},pasteCommand:function(a,b,c){var e=m.generateGUID();a=d.clone(a),a.id=void 0,a.position=b,a.guid=e,this._commandCollection.addItem(d.extend({type:"command",lastModifiedBy:m.getBrowserTabId()},a)),c&&d.defer(c),this._notebookRpc("pasteCmd",{cmdAttrs:a})},draggingCommand:null,registerDraggingCommand:function(a){this.draggingCommand=a},saveDropPosition:function(){this.draggingCommand&&(n.pushHistory("Rearranged commands"),window.recordEvent("reorderCommands",this.tags()),this.draggingCommand.forceUpdateCommand({position:this.draggingCommand.get("position")}))},updateDraggingPosition:function(a){this.draggingCommand&&this.draggingCommand.set("position",a)},updatePresenceCommand:function(a){n.updateCurrentCommand(this.get("id"),a)},updateCursorPosition:function(a,b,c){n.updateCursorPosition(this.get("id"),a,b,c)},setPresenceCallback:function(){n.updateMarks=this.updatePresenceMarks.bind(this)},updatePresenceMarks:function(a){this.set("presenceMarks",d.filter(a.reverse(),function(a){return a.commandId&&a.cursorEnd&&a.cursorStart}))},updateCollectionPresenceMarks:function(){this._commandCollection.each(function(a){a.set("presenceMarks",d.where(this.get("presenceMarks"),{commandId:a.get("id")}))},this)},getCommands:function(){var a=this.commandCollection().filter(function(a){return"command"===a.get("type")});return d.sortBy(a,function(a){return a.get("position")||0})},getCommandsForDashboard:function(){return this.getCommands().filter(function(a){return a.get("results")||a.get("error")||"markdown"===a.get("displayType")})},getPages:function(){return this.commandCollection().filter(function(a){return"dashboardPage"===a.get("type")})},getComments:function(){var a=d.groupBy(this.getCommands(),function(a){return a.get("nuid")});return this.commandCollection().filter(function(b){return"comment"===b.get("type")&&a[b.get("commandNUID")]},this)},newLocalComment:function(a,b){var c={type:"comment",guid:m.generateGUID(),commandNUID:a,commentReference:b,userId:window.settings.userId,userName:window.settings.user,userFullname:window.settings.userFullname};return this._commandCollection.addItem(c)},updateCommentsInCommand:function(){var a=this.getComments();this.commandNUIDToComments=d.groupBy(a,function(a){return a.get("commandNUID")}),d.each(this.getCommands(),function(a){a.set("comments",this.commandNUIDToComments[a.get("nuid")])},this)},_dashboardModel:void 0,getDashboard:function(){var a=this;return this._dashboardModel||this.commandCollection().each(function(b){"dashboardV2"===b.get("type")&&(a._dashboardModel=b,a._dashboardModel.setParentNotebook(a))}),this._dashboardModel},getDashboardViewModels:function(){return this.commandCollection().filter(function(a){return"dashboardView"===a.get("type")})},getDashboardViewModelById:function(a){return this.commandCollection().find(function(b){return"dashboardView"===b.get("type")&&b.id===a})},createNewDashboardView:function(a,b,c){c=c||this._defaultNewDashboardCommandNUIDs(),this._notebookRpc("newDashboardView",{title:b,commandNUIDs:c},{success:a})},_defaultNewDashboardCommandNUIDs:function(){return this.getCommands().filter(function(a){return a.isComplexResult()}).map(function(a){return a.get("nuid")})},commandByNUID:function(a){return d.find(this.getCommands(),function(b){return b.get("nuid")===a})},_getModel:function(a,b){switch(a.type){case"command":return new o(a,b);case"dashboardV2":return new h(a,b);case"dashboardPage":return new i(a,b);case"comment":return new p(a,b);case"dashboardView":return new j(a,b)}console.error("_getModel","unknown type",a.type,a)},commandCollection:function u(){var a=this;if(null===this._commandCollection){var u=new r([],{deltaPublisherRoot:this.id,model:a._getModel,parent:a});u.shellId=this.id,u.path=this.get("path"),this._commandCollection=u}return this._commandCollection},loaded:function(){return this.commandCollection().loaded},notebookFetchError:function(){return this.get("notebookFetchError")},_registerCommandCollectionReceiver:function(){var a=this,b=this.commandCollection();this._conn&&(a.set({notebookFetchError:null}),b.fetchAndUpdate({success:function(){a._conn.setDataHandler(b.path,function(a){b.updateItem(a)})},error:function(b){a.set({notebookFetchError:b})}}))},_unregisterCommandCollectionReceiver:function(){this._conn&&this._conn.removeDataHandler(this.get("path")+"/")}});d.extend(s.prototype,q),d.extend(s.prototype,f),b.exports=s},{"../acl/AclModelMixin":1,
"../collections/CollectionDeltaReceiver":6,"../dashboard/DashboardModel":19,"../dashboard/DashboardPageModel":20,"../helpers/DialogBox":33,"../helpers/NotebookUtilities":48,"../helpers/Utility":55,"../models/Presence":61,"../notebook/BackboneRpcMixin":63,"../notebook/CommentModel":70,"../notebook/DashboardViewModel.js":72,"../notebook/NotebookCommandModel":75,backbone:151,underscore:365}],78:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react/addons"),g=a("../constants/WorkspacePermissions"),h=a("../helpers/Clipboard"),i=(a("../helpers/ModelUtilities"),a("../helpers/Utility")),j=a("../helpers/ReactModalUtils"),k=a("../models/Presence"),l=a("../notebook/NotebookModel"),m=a("../notebook/CommandDivider.jsx"),n=a("../notebook/ReactNotebookCommandView.jsx"),o=a("../notebook/KeyboardShortcutsView.jsx"),p=f.addons.classSet,q=f.createClass({displayName:"ReactNotebookCommandListView",propTypes:{notebook:f.PropTypes.instanceOf(l).isRequired,resultsOnly:f.PropTypes.bool.isRequired,permissionLevel:f.PropTypes.string,canRunCommands:f.PropTypes.func,showRunCommandError:f.PropTypes.func,isLocked:f.PropTypes.bool,isStatic:f.PropTypes.bool,showLoadScreen:f.PropTypes.bool,showLastDivider:f.PropTypes.bool,showSubmitHint:f.PropTypes.bool,onTextSelected:f.PropTypes.func,showCommentsPanel:f.PropTypes.bool,toggleCommentsPanel:f.PropTypes.func,activeCommentCommandNUID:f.PropTypes.number},getDefaultProps:function(){return{permissionLevel:g.MANAGE,canRunCommands:function(){return!1},showRunCommandError:function(){},showLastDivider:!0,showSubmitHint:!0}},getInitialState:function(){return{mobile:i.isMobile()}},getMaxPosition:function(){return e.max(this.getTopLevelCommands().map(function(a){return a.get("position")}).concat(0))},currentHeightBelief:0,lastRenderWasIncremental:!1,calculateSpacerHeight:function(a){var b=d("#content").prop("scrollHeight")-d(".contentSpacer").prop("scrollHeight");return a&&b<this.currentHeightBelief?this.currentHeightBelief-b+"px":((!a||b>this.currentHeightBelief)&&(this.currentHeightBelief=b),"0px")},componentWillUpdate:function(a){a.notebook!==this.props.notebook&&(this.commandsToRenderMap={},e.each(a.notebook.getCommands(),function(a){this.commandsToRenderMap[a.get("id")]=!1},this))},componentDidUpdate:function(a){d(".contentSpacer").css("height",this.calculateSpacerHeight(this.lastRenderWasIncremental)),a.notebook!==this.props.notebook&&this.loadMoreCommandsToRender()},getCommands:function(){return this.props.notebook.getCommands()},getTopLevelCommands:function(){return e.sortBy(this.getCommands().filter(function(a){return!a.isChild()}),function(a){return a.get("position")})},getSubCommandMap:function(){var a=this.getCommands().filter(function(a){return a.isChild()}),b=e.groupBy(a,function(a){return a.parentGuid()});return e.each(b,function(a,c){b[c]=e.sortBy(a,function(a){return a.get("position")})}),b},focusCommand:function(a,b){var c=this.refs,d=function(){return c[a]?(c[a].focusEditor(b),!0):!1};d()||setTimeout(d,100)},focusOnCommand:function(a){a.isMarkdown()&&a.setState({hideMarkdownSource:!1}),a.focusEditor()},navigateUp:function(a){a>0&&this.focusOnCommand(this.refs[a-1])},navigateDown:function(a,b){var c=a+1;c<this.getTopLevelCommands().length?this.focusOnCommand(this.refs[c]):b&&this.props.notebook.addCommand("",this.getMaxPosition()+1,!1,e.partial(this.focusCommand,c,!0))},moveCommandUp:function(a,b){if(b=b||{},a>0){var c=this.refs[a-1],d=this.refs[a];this.swapCommandPositions(d.props.command,c.props.command),b.skipFocusCommand||e.defer(e.partial(this.focusCommand,a-1))}},moveCommandDown:function(a,b){if(b=b||{},!this.refs[a].props.isLastCommand){var c=this.refs[a],d=this.refs[a+1];this.swapCommandPositions(c.props.command,d.props.command),b.skipFocusCommand||e.defer(e.partial(this.focusCommand,a+1))}},swapCommandPositions:function(a,b){k.pushHistory("Rearranged commands");var c=a.get("position"),d=b.get("position");a.updateCommand({position:d}),b.updateCommand({position:c})},getInsertPositionAbove:function(a){if(a>e.size(this.refs)-1)return this.getMaxPosition()+1;var b=this.refs[a].props.command.get("position"),c=0===a?0:this.refs[a-1].props.command.get("position");return c+(b-c)/2},getInsertPositionBelow:function(a){if(0>a)return this.getInsertPositionAbove(0);var b=this.refs[a],c=b.props.command.get("position"),d=b.props.isLastCommand?c+2:this.refs[a+1].props.command.get("position");return c+(d-c)/2},pasteCommandAbove:function(a){var b=this.getInsertPositionAbove(a);this.pasteCommand(b,a)},pasteCommandBelow:function(a){var b=this.getInsertPositionBelow(a);this.pasteCommand(b,a+1)},pasteCommand:function(a,b){var c=h.getCommand();c&&a&&this.props.notebook.pasteCommand(c,a,e.partial(this.focusCommand,b))},addCommandAbove:function(a){var b=this.getInsertPositionAbove(a);this.props.notebook.addCommand("",b,!1,e.partial(this.focusCommand,a))},addCommandBelow:function(a){var b=this.getInsertPositionBelow(a);this.props.notebook.addCommand("",b,!1,e.partial(this.focusCommand,a+1))},getCommandIds:function(){return e.map(this.getTopLevelCommands(),function(a){return a.get("id")})},getCommandsToRender:function(){return this.commandsToRenderMap?e.filter(this.getTopLevelCommands(),function(a){return this.commandsToRenderMap[a.get("id")]!==!1},this):this.getTopLevelCommands()},loadMoreCommandsToRender:function(){var a=5;e.each(this.getCommandIds(),function(b){!this.commandsToRenderMap[b]&&a>0&&(a--,this.commandsToRenderMap[b]=!0)},this),this.forceUpdate(),0>=a&&e.defer(this.loadMoreCommandsToRender,500)},initializeCommandsToRender:function(){this.commandsToRenderMap||(this.commandsToRenderMap={},e.each(this.getCommandIds(),function(a){this.commandsToRenderMap[a]=!1},this),this.loadMoreCommandsToRender())},componentWillMount:function(){this.props.notebook.commandCollection().length>0?this.initializeCommandsToRender():this.props.notebook.commandCollection().once("add reset",this.initializeCommandsToRender)},componentDidMount:function(){var a=window.fileBrowserView&&window.fileBrowserView.searchPanelOpen,b=this;a||setTimeout(function(){b.props.notebook.commandCollection().length>0&&b.focusCommand(0,!1)},100)},commandViewOffsetsMap:{},getCommandViewOffsets:function(){return e.each(this.getTopLevelCommands(),function(a,b,c){var e=this.refs[b];if(e&&e.isMounted()&&e.getDOMNode()){var f=d(e.getDOMNode()),g=f.offset();g.top+=f.scrollParent().scrollTop(),this.commandViewOffsetsMap[a.get("nuid")]=g.top}},this),this.commandViewOffsetsMap},getCommandIndex:function(a){for(var b=this.getTopLevelCommands(),c=0;c<b.length;c+=1){var d=b[c];if(d.get("id")===a||d.get("guid")===a)return c}return console.error("Key not found in top level commands",a),-1},partialWithCommandIndex:function(a,b){var c=this;return function(){var d=c.getCommandIndex(b);if(d>=0){var f=e.partial(a,d);f.apply(c,arguments)}}},handleShortcutsClick:function(){window.recordEvent("shortcutsViewed",{clickOrigin:"notebookBottomShortcutsLink"}),j.createModal(f.createElement(o,{style:{left:0},defaultCloseIcon:!0,defaultOpenState:!0}))},render:function(){var a=this.getTopLevelCommands(),b=this.getSubCommandMap(),c=this.getMaxPosition(),d=0===a.length,h=void 0===this.props.isLocked?!1:this.props.isLocked,j=this.getCommandsToRender();this.lastRenderWasIncremental=j.length!==a.length;var k=e.flatten(j.map(function(a,c,d){var g=a.get("guid"),i=a.get("id"),j=g||i,k=0===c,l=c+1===d.length,o=c>0?d[c-1].get("position"):0,p=f.createElement(m,{key:j+"-divider",notebook:this.props.notebook,insertCommand:e.partial(this.addCommandAbove,c),pasteCommand:e.partial(this.pasteCommandAbove,c),prevCommandPosition:o,nextCommandPosition:a.get("position")}),q=f.createElement(n,{key:j,index:c,ref:c,permissionLevel:this.props.permissionLevel,navigateUp:this.partialWithCommandIndex(this.navigateUp,j),navigateDown:this.partialWithCommandIndex(this.navigateDown,j),pasteCommandBelow:this.partialWithCommandIndex(this.pasteCommandBelow,j),pasteCommandAbove:this.partialWithCommandIndex(this.pasteCommandAbove,j),addCommandAbove:this.partialWithCommandIndex(this.addCommandAbove,j),addCommandBelow:this.partialWithCommandIndex(this.addCommandBelow,j),moveUp:this.partialWithCommandIndex(this.moveCommandUp,j),moveDown:this.partialWithCommandIndex(this.moveCommandDown,j),canRunCommands:this.props.canRunCommands,showRunCommandError:this.props.showRunCommandError,isLocked:h,isStatic:this.props.isStatic,isFirstCommand:k,isLastCommand:l,command:a,showCommentMarks:this.props.showCommentsPanel,toggleCommentsPanel:this.props.toggleCommentsPanel,isCommenting:void 0!==this.props.activeCommentCommandNUID&&a.get("nuid")===this.props.activeCommentCommandNUID,subCommands:b[g]||[],notebook:this.props.notebook,resultsOnly:this.props.resultsOnly,mobile:this.state.mobile,onTextSelected:this.props.onTextSelected});return this.props.resultsOnly?[q]:[p,q]},this)),l=this.props.showLastDivider?f.createElement(m,{key:"last-command-divider",isEmptyNotebook:d,notebook:this.props.notebook,insertCommand:e.partial(this.addCommandBelow,a.length-1),pasteCommand:e.partial(this.pasteCommandBelow,a.length-1),prevCommandPosition:c,nextCommandPosition:c+1}):null,o=g.canRun(this.props.permissionLevel),q=g.canEdit(this.props.permissionLevel),r=q?f.createElement("a",{className:"shortcuts-link",title:"View keyboard shortcuts",onClick:this.handleShortcutsClick},"shortcuts"):null,s=!this.props.showSubmitHint||h||d||!o?null:f.createElement("div",{className:"submit-hint"},"Shift+Enter to run    ",r),t=p({"shell-top":!0,"new-notebook":!0,"notebook-loading":this.props.showLoadScreen,locked:h,"no-edit":!q,"no-run":!o,"static-notebook":this.props.isStatic}),u=f.createElement("div",{className:"contentSpacer",style:{background:window.settings.notebookLoadingBackground,height:"0px"}});return f.createElement("div",{className:t},f.createElement("img",{className:"load-spinner",src:i.getResourceUrl("img/spinner.svg")}),k,this.props.resultsOnly?null:l,this.props.resultsOnly?null:s,u)}});b.exports=q},{"../constants/WorkspacePermissions":18,"../helpers/Clipboard":29,"../helpers/ModelUtilities":45,"../helpers/ReactModalUtils":51,"../helpers/Utility":55,"../models/Presence":61,"../notebook/CommandDivider.jsx":65,"../notebook/KeyboardShortcutsView.jsx":74,"../notebook/NotebookModel":77,"../notebook/ReactNotebookCommandView.jsx":79,jquery:164,"react/addons":188,underscore:365}],79:[function(a,b,c){"use strict";var d,e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=a("jquery"),g=a("underscore"),h=a("react/addons"),i=a("../constants/IconsForType"),j=a("../constants/WorkspacePermissions"),k=a("../helpers/DialogBox"),l=a("../helpers/Utility"),m=a("../helpers/Clipboard"),n=a("../helpers/CodeMirrorKeywords"),o=a("../helpers/CodeMirrorUtils"),p=(a("../helpers/ModelUtilities"),a("../helpers/CommandParserUtils")),q=a("../models/DataWidget"),r=a("../models/InputWidget"),s=a("../notebook/RichCommandError.jsx"),t=a("../notebook/CommandInput.jsx"),u=a("../notebook/CommandResult.jsx"),v=a("../notebook/CommandSpinner.jsx"),w=a("../notebook/CommandStats.jsx"),x=a("../notebook/ExportUtility"),y=a("../notebook/SubCommandResults.jsx"),z=a("../notebook/NotebookCommandModel"),A=a("../notebook/NotebookModel"),B=a("../helpers/NotebookUtilities"),C=a("../views/DropdownMenuView.jsx"),D=h.addons.classSet,E=h.createClass({displayName:"CommandButtons",propTypes:{index:h.PropTypes.number.isRequired,resultsOnly:h.PropTypes.bool.isRequired,isLocked:h.PropTypes.bool.isRequired,isFirstCommand:h.PropTypes.bool.isRequired,isLastCommand:h.PropTypes.bool.isRequired,removeFunc:h.PropTypes.func.isRequired,collapseFunc:h.PropTypes.func.isRequired,isCollapsed:h.PropTypes.bool.isRequired,copyCommand:h.PropTypes.func.isRequired,cutCommand:h.PropTypes.func.isRequired,exportCommand:h.PropTypes.func.isRequired,pasteCommandAbove:h.PropTypes.func.isRequired,pasteCommandBelow:h.PropTypes.func.isRequired,addCommandAbove:h.PropTypes.func.isRequired,addCommandBelow:h.PropTypes.func.isRequired,moveUp:h.PropTypes.func.isRequired,moveDown:h.PropTypes.func.isRequired,getLanguage:h.PropTypes.func.isRequired,permissionLevel:h.PropTypes.string,exportToDashboardFunc:h.PropTypes.func,dashboardViewModels:h.PropTypes.array,command:h.PropTypes.instanceOf(z)},getDefaultProps:function(){return{permissionLevel:j.MANAGE}},getInitialState:function(){return{menuVisible:!1}},toggleMenu:function(){this.setState({menuVisible:!this.state.menuVisible})},dashboardExportItems:function(){function b(){d||(d=a("../helpers/NavFunc")),d.addDashboard(d.getDefaultFolderId(),!1,c.props.exportToDashboardFunc)}var c=this;if(!window.settings.enableDashboardExport)return[];if(!this.props.exportToDashboardFunc)return[];var e=this.props.getLanguage();if("scala"===e||"run"===e)return[];var f=window.treeCollection.where({type:"dashboard"}),i=g.map(f,function(a){var b=window.fileBrowserView.getFullPath(a.get("id")),d=function(){c.props.exportToDashboardFunc(a)};return h.createElement("a",{className:"export-dash",title:"Export this cell to dashboard "+b,"data-name":b,key:b,onClick:d},h.createElement("i",{className:"fa fa-bar-chart fa-fw"}),h.createElement("span",null,"Export to ",b))}),j=[h.createElement("a",{className:"export-dash-new",title:"Export this cell to a new dashboard",key:"new dashboard",onClick:b},h.createElement("i",{className:"fa fa-bar-chart fa-fw"}),h.createElement("span",null,"New dashboard"))];return j.concat(i)},toggleDashboardMenu:function(){this.setState({dashboardMenuVisible:!this.state.dashboardMenuVisible})},toggleCommandResultInDashboard:function(a,b){"checkbox"===b.target.type&&(b.target.checked?a.addCommandElement(this.props.command.attributes.nuid):a.removeCommandElement(this.props.command.attributes.nuid))},openDashboardView:function(a){var b=a.target.attributes["data-dashboard-id"].value;window.open("#notebook/"+this.props.command.notebook().id+"/dashboard/"+b,"_blank")},addNewDashboardView:function(a){var b=this.props.command;b.notebook().createNewDashboardView(function(a){window.open("#notebook/"+b.notebook().id+"/dashboard/"+a.dashboardId,"_blank")},null,[b.get("nuid")])},getDashboardMenuItems:function(){if(window.settings.enableNewDashboardViews){var a=this,b=this.props.dashboardViewModels,c=h.createElement("div",{className:"dashboard-list-title"},"Show in Dashboard View:"),d=[],e=function(b){var c=b.attributes;d.push(h.createElement("a",{key:b.get("guid"),className:"dashboard-list-item"},h.createElement("input",{type:"checkbox",className:"dashboard-checkbox",title:"Add command result to Dashboard "+c.title,id:"dashboard-view-input-"+c.id,defaultChecked:b.hasCommandElement(a.props.command.attributes.nuid),onClick:a.toggleCommandResultInDashboard.bind(a,b)},h.createElement("label",{htmlFor:"dashboard-view-input-"+c.id,title:"Add command result to Dashboard "+c.title},c.title)),h.createElement("div",{className:"dashboard-view-nav-link",onClick:a.openDashboardView.bind(a)},h.createElement("i",{className:"fa fa-angle-double-right","data-dashboard-id":c.id,title:"Go to Dashboard "+c.title}))))};b.forEach(e);var f="new-dashboard-link";d.length>0?d.unshift(c):f+=" no-dashboards";var g=h.createElement("a",{className:f,onClick:this.addNewDashboardView},h.createElement("i",{className:"fa fa-"+i.create}),"Add to New Dashboard");return d.push(g),d}},renderDashboardMenu:function(){return h.createElement(C,{outsideClickHandler:this.toggleDashboardMenu,ignoreClickClasses:["dashboard-button-"+this.props.index],handleClickInMenu:!1,getItems:this.getDashboardMenuItems,classes:["command-dashboard-menu","right"]})},getMenuItems:function(){var a=j.canEdit(this.props.permissionLevel),b=[h.createElement("a",{className:"copy-item",title:"Copy this cell",onClick:this.props.copyCommand},h.createElement("i",{className:"fa fa-copy fa-fw"}),h.createElement("span",null,"Copy Cell")),a?h.createElement("a",{className:"cut-item",title:"Cut this cell",onClick:this.props.cutCommand},h.createElement("i",{className:"fa fa-cut fa-fw"}),h.createElement("span",null,"Cut Cell")):null,window.settings.enableStaticNotebooks?h.createElement("a",{className:"export-item",title:"Export this cell",onClick:this.props.exportCommand},h.createElement("i",{className:"fa fa-download fa-fw"}),h.createElement("span",null,"Export Cell")):null,a&&!m.isEmpty()?h.createElement("a",{className:"paste-above-item",title:"Paste a cell above",onClick:this.props.pasteCommandAbove},h.createElement("i",{className:"fa fa-paste fa-fw"}),h.createElement("span",null,"Paste Above")):null,a&&!m.isEmpty()?h.createElement("a",{className:"paste-below-item",title:"Paste a cell below",onClick:this.props.pasteCommandBelow},h.createElement("i",{className:"fa fa-paste fa-fw"}),h.createElement("span",null,"Paste Below")):null],c=a?[h.createElement("a",{className:"add-above-item",title:"Add a cell above",onClick:this.props.addCommandAbove},h.createElement("i",{className:"fa fa-toggle-up fa-fw"}),h.createElement("span",null,"Add Cell Above")),h.createElement("a",{className:"add-below-item",title:"Add a cell below",onClick:this.props.addCommandBelow},h.createElement("i",{className:"fa fa-toggle-down fa-fw"}),h.createElement("span",null,"Add Cell Below"))]:[],d=g.filter([a&&!this.props.isFirstCommand?h.createElement("a",{className:"move-up-item",title:"Move cell up one",onClick:this.props.moveUp},h.createElement("i",{className:"fa fa-long-arrow-up fa-fw"}),h.createElement("span",null,"Move Up")):null,a&&!this.props.isLastCommand?h.createElement("a",{className:"move-down-item",title:"Move cell down one",onClick:this.props.moveDown},h.createElement("i",{className:"fa fa-long-arrow-down fa-fw"}),h.createElement("span",null,"Move Down")):null],function(a){return null!==a}),e=b.concat(c.length>0?h.createElement("hr",null):null).concat(c).concat(d.length>0?h.createElement("hr",null):null).concat(d);if(!window.settings.disableLegacyDashboards){var f=this.dashboardExportItems();e=e.concat(f.length>0?h.createElement("hr",null):null).concat(f)}return e},renderMenu:function(){return h.createElement(C,{outsideClickHandler:this.toggleMenu,ignoreClickClasses:["edit-button-"+this.props.index],handleClickInMenu:!0,getItems:this.getMenuItems,classes:["command-edit-menu","right"]})},render:function(){var a=this.props.command.isComplexResult()&&window.settings.enableNewDashboardViews,b=j.canRun(this.props.permissionLevel),c=j.canEdit(this.props.permissionLevel),d=D({"command-buttons":!0,"menu-visible":this.state.menuVisible,"dashboard-menu-visible":this.state.dashboardMenuVisible});return h.createElement("div",{className:d},b&&(this.props.mobile||this.props.resultsOnly||b&&!c)?h.createElement("a",{className:"run-command-button command-button",onClick:this.props.runCommand,title:"Run Cell"},h.createElement("i",{className:"fa fa-fw fa-play"})):null,a?h.createElement("a",{className:"dashboard-button dashboard-button-"+this.props.index+" command-button",onClick:this.toggleDashboardMenu,title:"Show in Dashboard Menu"},h.createElement("i",{className:"fa fa-bar-chart fa-fw"})):null,a&&this.state.dashboardMenuVisible?this.renderDashboardMenu():null,this.props.resultsOnly?null:h.createElement("a",{className:"edit-button edit-button-"+this.props.index+" command-button",onClick:this.toggleMenu,title:"Edit Menu"},h.createElement("i",{className:"fa fa-fw fa-chevron-down"})),this.state.menuVisible?this.renderMenu():null,c?h.createElement("a",{className:"toggle-collapse-button command-button",onClick:this.props.collapseFunc,title:this.props.isCollapsed?"Maximize":"Minimize"},h.createElement("i",{className:this.props.isCollapsed?"fa fa-fw fa-plus":"fa fa-fw fa-minus"})):null,c&&!this.props.resultsOnly?h.createElement("a",{className:"remove-button command-button",onClick:this.props.removeFunc,title:"Delete"},h.createElement("i",{className:"fa fa-fw fa-remove"})):null)}}),F=h.createClass({displayName:"ReactNotebookCommandView",propTypes:{command:h.PropTypes.instanceOf(z).isRequired,notebook:h.PropTypes.instanceOf(A).isRequired,canRunCommands:h.PropTypes.func.isRequired,showRunCommandError:h.PropTypes.func.isRequired,permissionLevel:h.PropTypes.string,subCommands:h.PropTypes.array,isLocked:h.PropTypes.bool,isFirstCommand:h.PropTypes.bool,isLastCommand:h.PropTypes.bool,navigateUp:h.PropTypes.func.isRequired,navigateDown:h.PropTypes.func.isRequired,pasteCommandAbove:h.PropTypes.func.isRequired,pasteCommandBelow:h.PropTypes.func.isRequired,addCommandAbove:h.PropTypes.func.isRequired,addCommandBelow:h.PropTypes.func.isRequired,index:h.PropTypes.number.isRequired,resultsOnly:h.PropTypes.bool.isRequired,showCommentMarks:h.PropTypes.bool,toggleCommentsPanel:h.PropTypes.func,isCommenting:h.PropTypes.bool,onTextSelected:h.PropTypes.func,isStatic:h.PropTypes.bool},stateProps:["permissionLevel","isLocked","resultsOnly","subCommands","showCommentMarks","isCommenting","isFirstCommand","isLastCommand"],hasStatePropsChanged:function(a){var b=g.map(this.stateProps,function(b){return!g.isEqual(this.props[b],a[b])},this);return g.reduce(b,function(a,b){return a||b},!1)},commandLocalVersion:1,subCommandLocalVersions:[],updateSubCommandVersions:function(a){var b=g.map(a.subCommands,function(a){return a.get("localVersion")});this.subCommandLocalVersions=b},hasSubCommandsChanged:function(a){var b=this.subCommandLocalVersions;this.updateSubCommandVersions(a);var c=!g.isEqual(this.subCommandLocalVersions,b);return c},componentWillMount:function(){this.commandLocalVersion=this.props.command.get("localVersion"),this.updateSubCommandVersions(this.props)},shouldComponentUpdate:function(a,b){var c=this.props.command.get("localVersion"),d=c!==this.commandLocalVersion;this.commandLocalVersion=c;var e=this.hasSubCommandsChanged(a);return d||e?!0:this.hasStatePropsChanged(a)?!0:g.isEqual(this.state,b)?!1:!0},focusEditor:function(a){this.refs.input.focusEditor(),a&&this.scrollCommandIntoView()},scrollCommandIntoView:function(){this.isMounted()&&this.getDOMNode().scrollIntoView()},getDefaultProps:function(){return{permissionLevel:j.MANAGE,isLocked:!1,subCommands:[]}},componentDidMount:function(){this.hideMarkdown(),this.addToAutoCompleteList()},addToAutoCompleteList:function(){var a=this.props.command,b=this.props.notebook;n.addPrevCommandString(a.get("command"),o.determineMode(null,a.get("command"),b.get("language")))},getInitialState:function(){return{hideMarkdownSource:!1,dragging:!1,hasFocus:!1}},toggleCollapse:function(a){var b=this.props.command.get("collapsed");this.props.command.updateCommand({collapsed:!b})},remove:function G(a,b){if(a&&a.preventDefault(),this.props.isLocked)return void k.alert("This cell is locked or still executing.");var c=this,G=function(){f(c.getDOMNode()).slideUp(250,function(){c.props.command.removeCommand()})};a&&a.getModifierState&&a.getModifierState("Shift")?G():b&&b.noConfim===!0?G():k.confirm({message:"Are you sure you want to delete this command?",confirm:G})},onCommandInputBlur:function(){this.hideMarkdown(),this.isMounted()&&this.setState({hasFocus:!1})},onCommandInputFocus:function(){this.isMounted()&&this.setState({hasFocus:!0})},onMouseDown:function(a){(f(a.target).is(".move-command-btn")||f(a.target).parent().is(".move-command-btn"))&&this.setState({dragging:!0})},onMouseUp:function(a){this.setState({dragging:!1})},onDragStart:function(a){this.state.dragging||a.preventDefault(),a.nativeEvent.dataTransfer.setData("Text",a.target.innerHTML),a.nativeEvent.dataTransfer.effectAllowed="none",this.props.notebook.registerDraggingCommand(this.props.command)},onDragEnd:function(a){this.setState({dragging:!1}),this.props.notebook.saveDropPosition()},copyCommand:function(){m.putCommand(this.props.command.attributes,"copy")},cutCommand:function(){var a=this;m.putCommand(this.props.command.attributes,"cut"),f(a.getDOMNode()).slideUp(250,function(){a.props.command.removeCommand()})},exportCommand:function(){var a=new x;a.exportCell(this.props.command,this.props.notebook)},setLanguage:function(a){var b=this.getLanguage();if(b!==a){"markdown"===b&&this.unhideMarkdown();var c=this.refs.input.getValue(),d=l.changeCodeLang(c,this.props.notebook.get("language"),a);this.refs.input.setValue(d)}},getLanguage:function(){return l.determineCodeLang(this.refs.input.getValue(),this.props.notebook.get("language"))},isMarkdown:function(){return"markdown"===l.getDisplayType(this.props.command.get("command"))},_addToDashboard:function(a){var b=a.get("widgets").slice(0),c=a.getNewWidgetY(),d=this.props.command,e=d.get("command").replace(/^\s*%sql(\s+|$)/,""),g=d.get("width"),h=d.get("height"),i=d.get("displayType"),j=660,k=250,m=d.get("results"),n=l.determineCodeLang(this.props.command.get("command"),this.props.notebook.get("language")),o=d.get("bindings"),p=[];window.recordEvent("exportToDashboard",{}),p.forEach(function(a){b.push(new r({label:"Value of "+a,binding:a,x:0,y:c,width:660,height:40})),c+=40}),b.push(new q({query:e,language:n,displayType:i,resultType:d.get("resultType"),xColumns:d.get("xColumns"),yColumns:d.get("yColumns"),pivotColumns:d.get("pivotColumns"),pivotAggregation:d.get("pivotAggregation"),customPlotOptions:l.deepCopy(d.get("customPlotOptions")),x:0,y:c,width:"auto"===g?j:g,height:"auto"===h?k:h,downloadable:m?l.isDownloadable(m.type):!1,customizable:!0}));var s={};f.extend(s,a.get("defaultBindings")||{},o);var t={widgets:b,defaultBindings:s};a.set(t),a.save(t,{patch:!0,error:function(a,b,c){B.handleRpcError(b,null,null,{confirmButton:"OK",confirm:void 0,showCancel:!1})}})},unhideMarkdown:function(a){var b=a&&"a"===a.target,c=j.canEdit(this.props.permissionLevel);!this.isMarkdown()||!c||this.props.isLocked||b||this.props.resultsOnly||(this.state.hideMarkdownSource&&this.setState({hideMarkdownSource:!1}),a&&g.defer(function(){if(this.isMounted()&&this.isMarkdown()){var a=this.refs.input.refs.codemirror;a.updateCommandText(a.getCommand()),a.focusEditor()}}.bind(this)))},componentDidUpdate:function(a,b){this.isMarkdown()&&g.defer(function(){var a=0!==this.props.command.get("presenceMarks").length,b=!1,c=this.props.isCommenting;this.refs.input&&this.refs.input.refs&&this.refs.input.refs.codemirror&&(b=this.refs.input.refs.codemirror.hasFocus()),b||a||c||this.state.hideMarkdownSource||this.hideMarkdown(),(a||c)&&this.state.hideMarkdownSource&&this.unhideMarkdown(b)}.bind(this))},hideMarkdown:function(){this.isMounted()&&this.isMarkdown()&&(j.canEdit(this.props.permissionLevel)&&this.props.command.clearResults(),this.setState({hideMarkdownSource:!0}))},tags:function(){return{commandLanguage:p.getLanguage(this.props.command.get("command")),notebookLanguage:this.props.notebook.get("language"),isParamQuery:this.props.command.isParamQuery()}},_cancelQueryConfirmationThreshold:12e4,cancelQuery:function(a){a.preventDefault();var b=g.bind(function(){window.recordEvent("cancelSingleCommand",this.tags()),this.props.command.cancelCommand()},this),c=(new Date).getTime()-this.props.command.get("startTime");!a.shiftKey&&c>this._cancelQueryConfirmationThreshold?k.confirm({message:"Are you sure you want to cancel this query?",confirm:b,confirmButton:"Yes",cancelButton:"No"}):b()},runCommand:function(a){var b=j.canRun(this.props.permissionLevel);if(!b)return!1;if(this.isMarkdown())return this.hideMarkdown(),!0;if(!this.props.canRunCommands())return this.props.showRunCommandError(),!1;var c=this.props.command,d=this,e=function(){d.addToAutoCompleteList(),c.runCommand(a)};return"running"===this.props.command.get("state")?(k.confirm({message:"Do you want to cancel the current execution and re-run the command?",confirmButton:"Yes",cancelButton:"No",confirm:e}),!1):(e(),!0)},onTextSelected:function(a,b){this.props.onTextSelected&&this.props.onTextSelected(this.props.command,a,b)},render:function(){var a=j.canRun(this.props.permissionLevel),b=j.canEdit(this.props.permissionLevel),c=this.props.command.get("collapsed"),d=this.props.command,f=this.props.notebook,g=this.props.subCommands.length>0,i=this.props.subCommands.map(function(a){return h.createElement(y,{key:a.get("guid"),model:a,tags:this.tags()})},this),k={diffInserts:d.get("diffInserts"),diffDeletes:d.get("diffDeletes")},l={"new-notebook":!0,command:!0,mainCommand:!0,dragging:this.state.dragging,"command-active":this.state.hasFocus&&!this.props.isStatic,commenting:this.props.isCommenting,locked:this.props.isLocked,collapsed:c,"no-edit":!b,"no-run":!a,"results-only":this.props.resultsOnly};l["command-"+d.get("state")]=!0,l["cellIndex-"+this.props.index]=!0,l["cell-"+f.get("id")+"-"+d.get("id")]=!0,l=D(l);var m=d.get("collapsed")||this.isMarkdown()&&!this.state.hideMarkdownSource;if(this.props.resultsOnly===!0&&this.props.command.get("collapsed")===!0)return null;var n=h.createElement(E,{index:this.props.index,resultsOnly:this.props.resultsOnly,permissionLevel:this.props.permissionLevel,notebookLanguage:f.get("language"),getLanguage:this.getLanguage,isLocked:this.props.isLocked,isFirstCommand:this.props.isFirstCommand,isLastCommand:this.props.isLastCommand,runCommand:this.runCommand,removeFunc:this.remove,collapseFunc:this.toggleCollapse,isCollapsed:c,setLanguage:this.setLanguage,copyCommand:this.copyCommand,cutCommand:this.cutCommand,exportCommand:this.exportCommand,pasteCommandAbove:this.props.pasteCommandAbove,pasteCommandBelow:this.props.pasteCommandBelow,addCommandAbove:this.props.addCommandAbove,addCommandBelow:this.props.addCommandBelow,moveUp:this.props.moveUp,moveDown:this.props.moveDown,mobile:this.props.mobile,exportToDashboardFunc:this._addToDashboard,dashboardViewModels:f.getDashboardViewModels(),command:d}),o=h.createElement(t,{ref:"input",permissionLevel:this.props.permissionLevel,notebookLanguage:f.get("language"),isLastCommand:this.props.isLastCommand,isLocked:this.props.isLocked,isStatic:this.props.isStatic,runCommand:this.runCommand,updateCommand:d.updateCommand.bind(d),updatePresenceCommand:d.updatePresenceCommand.bind(d),updateCursorPosition:d.updateCursorPosition.bind(d),presenceMarks:d.get("presenceMarks"),comments:d.getComments(),showCommentMarks:this.props.showCommentMarks,toggleCommentsPanel:this.props.toggleCommentsPanel,navigateUp:this.props.navigateUp,navigateDown:this.props.navigateDown,addCommandAbove:this.props.addCommandAbove,addCommandBelow:this.props.addCommandBelow,pasteCommandBelow:this.props.pasteCommandBelow,copyCommand:this.copyCommand,cutCommand:this.cutCommand,removeCommand:this.remove,moveUp:this.props.moveUp,moveDown:this.props.moveDown,onFocus:this.onCommandInputFocus,onBlur:this.onCommandInputBlur,command:d.get("command"),diffPointers:k,commandState:d.get("state"),collapsed:c,onDoubleClick:this.props.command.get("collapsed")?this.toggleCollapse:null,lastModifiedBy:d.get("lastModifiedBy")||"",hide:this.state.hideMarkdownSource||this.props.resultsOnly,hasFocus:this.state.hasFocus,onTextSelected:this.onTextSelected}),p=h.createElement("div",{className:"results-and-comments",onDoubleClick:this.unhideMarkdown},h.createElement("div",{className:"command-result-wrapper"},h.createElement("div",{className:"command-result"},h.createElement(v,{cancelQuery:this.cancelQuery,state:d.get("state"),stages:d.get("stages"),showCancel:!f.isRunning()&&a,collapsed:m,clusterId:d.get("clusterId"),sparkCtxId:d.get("sparkCtxId"),hasSubCommands:g}),h.createElement(u,e({},d.attributes,{permissionLevel:this.props.permissionLevel,isStatic:this.props.isStatic,collapsed:m,isChild:!1,tags:this.tags(),updateCommand:d.updateCommand.bind(d),runCommand:this.runCommand,isComplexResult:d.isComplexResult(),isParamQuery:d.isParamQuery()})),this.isMarkdown()?null:h.createElement(s,{parentCollapsed:this.props.command.get("collapsed"),state:d.get("state"),errorSummary:d.get("errorSummary")||"",error:d.get("error")||"",ref:"richError"}),this.props.resultsOnly||this.isMarkdown()||this.props.isStatic?null:h.createElement(w,d.attributes))),h.createElement("div",{style:{clear:"both"}}));return h.createElement("div",{className:l,draggable:"true",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd
},h.createElement("div",{className:"command-comments-wrapper"}),h.createElement("a",{className:"move-command-btn"},h.createElement("i",{className:"fa fa-sort"})),this.props.isStatic?null:n,o,p,this.props.command.get("collapsed")?null:i)}});b.exports=F},{"../constants/IconsForType":11,"../constants/WorkspacePermissions":18,"../helpers/Clipboard":29,"../helpers/CodeMirrorKeywords":30,"../helpers/CodeMirrorUtils":31,"../helpers/CommandParserUtils":32,"../helpers/DialogBox":33,"../helpers/ModelUtilities":45,"../helpers/NavFunc":46,"../helpers/NotebookUtilities":48,"../helpers/Utility":55,"../models/DataWidget":59,"../models/InputWidget":60,"../notebook/CommandInput.jsx":66,"../notebook/CommandResult.jsx":67,"../notebook/CommandSpinner.jsx":68,"../notebook/CommandStats.jsx":69,"../notebook/ExportUtility":73,"../notebook/NotebookCommandModel":75,"../notebook/NotebookModel":77,"../notebook/RichCommandError.jsx":80,"../notebook/SubCommandResults.jsx":81,"../views/DropdownMenuView.jsx":102,jquery:164,"react/addons":188,underscore:365}],80:[function(a,b,c){"use strict";var d=a("underscore"),e=a("react"),f=a("../helpers/LargeOutputWrapper.jsx"),g=function(a){return 0===a.indexOf("<")?a:d.escape(a)},h=e.createClass({displayName:"RichCommandError",propTypes:{state:e.PropTypes.string.isRequired,parentCollapsed:e.PropTypes.bool.isRequired,errorSummary:e.PropTypes.string.isRequired,error:e.PropTypes.string.isRequired,overrideStackTraceString:e.PropTypes.string},getInitialState:function(){return{collapsed:!0}},toggleCollapse:function(a){var b=this.state.collapsed;this.setState({collapsed:!b})},render:function(){return"error"!==this.props.state||this.props.parentCollapsed?null:e.createElement("div",null,e.createElement("div",null,e.createElement("span",{className:"ansiout command-result-error-summary"},null===this.props.error||""===this.props.error?null:e.createElement("a",{className:"toggle-error-btn command-button",onClick:this.toggleCollapse,title:this.state.collapsed?"Maximize":"Minimize"},e.createElement("i",{className:this.state.collapsed?"fa fa-fw fa-plus-square-o":"fa fa-fw fa-minus-square-o"})),e.createElement("span",{dangerouslySetInnerHTML:{__html:g(this.props.errorSummary)}}))),this.state.collapsed?null:e.createElement(f,null,e.createElement("div",{className:"ansiout command-result-error-stackTrace",dangerouslySetInnerHTML:{__html:g(this.props.error)}})))}});b.exports=h},{"../helpers/LargeOutputWrapper.jsx":39,react:360,underscore:365}],81:[function(a,b,c){"use strict";var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=a("react/addons"),f=a("../notebook/RichCommandError.jsx"),g=a("../notebook/CommandResult.jsx"),h=a("../notebook/NotebookCommandModel"),i=e.createClass({displayName:"SubCommandResults",propTypes:{model:e.PropTypes.instanceOf(h).isRequired},render:function(){var a=this.props.model;return e.createElement("div",{className:"command-result command-child"},e.createElement(g,d({},this.props.model.attributes,{tags:this.props.tags,updateCommand:a.updateCommand.bind(a),runCommand:a.runCommand.bind(a),isChild:!0,isComplexResult:a.isComplexResult(),isParamQuery:a.isParamQuery()})),e.createElement(f,{parentCollapsed:this.props.model.get("collapsed"),state:a.get("state"),errorSummary:a.get("errorSummary")||"",error:a.get("error")||""}))}});b.exports=i},{"../notebook/CommandResult.jsx":67,"../notebook/NotebookCommandModel":75,"../notebook/RichCommandError.jsx":80,"react/addons":188}],82:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactFormElements.jsx"),f=e.Input,g=a("../forms/ReactFormFooter.jsx"),h=a("../helpers/ReactModal.jsx"),i=d.createClass({displayName:"StaticNotebookImportDialog",propTypes:{url:d.PropTypes.string.isRequired},componentDidMount:function(){this.refs.url&&this.refs.url.select()},render:function(){var a=d.createElement("h3",null,"Import Notebook"),b=0===this.props.url.indexOf("http://")||0===this.props.url.indexOf("https://"),c="You can edit and run this notebook by importing it into your Databricks account. ",e=b?d.createElement("div",null,d.createElement("p",null,c,"Select ",d.createElement("b",null,"Import")," from any folder's menu and paste the URL below."),d.createElement(f,{ref:"url",inputID:"url",defaultValue:this.props.url,readOnly:!0})):d.createElement("div",null,d.createElement("p",null,c,"Select ",d.createElement("b",null,"Import")," from any folder's menu and upload this HTML file.")),i=d.createElement("div",null,e,d.createElement("p",{className:"signup-text"},"New to Databricks? ",d.createElement("a",{href:"https://accounts.cloud.databricks.com",target:"_blank"},"Sign up for a subscription."))),j=d.createElement(g,{showCancel:!1,confirmButton:"Done"});return d.createElement(h,{modalName:"import-static-notebook-dialog",header:a,body:i,footer:j})}});b.exports=i},{"../forms/ReactFormElements.jsx":26,"../forms/ReactFormFooter.jsx":27,"../helpers/ReactModal.jsx":50,"react/addons":188}],83:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../constants/IconsForType"),f=a("../constants/WorkspacePermissions"),g=a("../helpers/Utility"),h=a("../helpers/ReactModalUtils"),i=a("../helpers/Tooltip.jsx"),j=a("../notebook/NotebookModel"),k=a("../notebook/ReactNotebookCommandListView.jsx"),l=a("../notebook/NotebookCommandModel"),m=a("./StaticNotebookImportDialog.jsx"),n=d.createElement("div",null,"This HTML notebook was exported from a development shard and will not render outside the development environment.",d.createElement("br",null),d.createElement("br",null),"To share this notebook outside of development, import it into a production shard and export it again."),o=d.createClass({displayName:"StaticNotebookView",propTypes:{notebookModelObject:d.PropTypes.object.isRequired,notebookModelCommandCollection:d.PropTypes.array.isRequired,showTopBar:d.PropTypes.bool.isRequired,showImportButton:d.PropTypes.bool.isRequired,tableOfContentsStartPage:d.PropTypes.string,isDevelopmentVersion:d.PropTypes.bool},_importDialog:function(){h.createModal(d.createElement(m,{url:window.location.href}))},render:function(){var a=new j(this.props.notebookModelObject);a.set({permissionLevel:f.VIEW}),a.commandCollection(),this.props.notebookModelCommandCollection.forEach(function(b){"command"===b.type&&a.commandCollection().add(new l(b))});var b=a.get("name"),c=g.languageNames[a.get("language")],h=this.props.isDevelopmentVersion,m=h?d.createElement("span",{className:"tb-title-dev-version"},d.createElement("i",{className:"fa fa-"+e.warning})):null,o=this.props.showImportButton?d.createElement("div",{className:"tb-import"},d.createElement("a",{onClick:this._importDialog,className:"btn btn-default",title:"Import Notebook"},d.createElement("i",{className:"fa fa-cloud-upload"})," Import Notebook")):null,p=this.props.showTopBar?d.createElement("div",{id:"topbar"},d.createElement("div",{className:"tb-logo"},d.createElement("a",{href:"http://databricks.com",target:"_blank",title:"Databricks"},d.createElement("img",{src:g.getResourceUrl("img/databricks_logoTM_rgb_TM.svg"),alt:"databricks-logo"}))),d.createElement("div",{className:"tb-title-wrapper tb-title-wrapper-central"},d.createElement("span",{className:"tb-title"},b),d.createElement("span",{className:"tb-title-lang"},c?"("+c+")":""),m),o):null;p&&h&&(p=d.createElement(i,{text:n},p));var q=null;return this.props.tableOfContentsStartPage&&(q=d.createElement("iframe",{id:"tableOfContentsRightPane",name:"rightpane",src:this.props.tableOfContentsStartPage+"?hideTopBar=1"})),d.createElement("div",{id:"static-notebook",className:this.props.tableOfContentsStartPage?"isTableOfContents":null},d.createElement("div",{id:"tooltip",className:"hidden"},d.createElement("p",null,d.createElement("span",{id:"value"}))),p,d.createElement("div",{id:"overallView",className:this.props.showTopBar?null:"hide-top-bar"},d.createElement("div",{id:"content"},d.createElement("div",{className:"overallContainer"},d.createElement(k,{canRunCommands:function(){return!1},notebook:a,onTextSelected:function(){},permissionLevel:"Can Read",isStatic:!0,resultsOnly:!1,showCommentsPanel:!1,showLastDivider:!0,showLoadScreen:!1,showSubmitHint:!0}))),q))}});b.exports=o},{"../constants/IconsForType":11,"../constants/WorkspacePermissions":18,"../helpers/ReactModalUtils":51,"../helpers/Tooltip.jsx":54,"../helpers/Utility":55,"../notebook/NotebookCommandModel":75,"../notebook/NotebookModel":77,"../notebook/ReactNotebookCommandListView.jsx":78,"./StaticNotebookImportDialog.jsx":82,"react/addons":188}],84:[function(a,b,c){"use strict";function d(){try{return window.self!==window.top}catch(a){return!0}}var e=a("jquery"),f=a("react/addons"),g=a("../helpers/ImportUtilities"),h=a("./StaticNotebookView.jsx"),i=a("../../lib/nprogress");if(i.configure({minimum:.75,showSpinner:!1,parent:"#overallView"}),"undefined"!=typeof __DATABRICKS_NOTEBOOK_MODEL){window.recordEvent=function(){},window.recordUsage=function(){},window.settings.isStaticNotebook=!0;var j=g.importNotebookV1(__DATABRICKS_NOTEBOOK_MODEL),k=j.notebook,l=j.commands,m=!d()&&-1===window.location.search.indexOf("hideTopBar"),n=window.settings.enableStaticHtmlImport;e(document).ready(function(){if(d())e(window).unload(function(){window.parent.postMessage({type:"unload"},"*")}),window.parent.postMessage({type:"setLocation",title:k.name,path:location.pathname},"*");else if("undefined"!=typeof tableOfContentsCell){var a=-1;l&&(a=l.length>0?l[0].position-1:0),tableOfContentsCell.type="command",tableOfContentsCell.position=a,l.push(tableOfContentsCell)}var b=null;"undefined"!=typeof startPage&&(b=startPage);f.render(f.createElement(h,{notebookModelObject:k,notebookModelCommandCollection:l,tableOfContentsStartPage:b,showTopBar:m,showImportButton:n,isDevelopmentVersion:"development"===window.settings.deploymentMode}),document.body);"undefined"!=typeof startPage&&(i.start(),e("a").not("[target='_blank']").attr("target","rightpane").on("click",function(a){a.ctrlKey||a.shiftKey||a.metaKey||a.button&&1===a.button||e(a.target).attr("href")&&i.start()})),window.addEventListener("message",function(a){"setLocation"===a.data.type?(e(".tb-title").text(a.data.title),i.done(),history.replaceState(null,null,"#"+a.data.path.substring(location.pathname.lastIndexOf("/")+1))):"unload"===a.data.type&&(e(".tb-title").text(""),i.start())}),d()&&(e("#content").css("overflow-x","hidden"),e("a").map(function(a,b){var c=e(b).attr("href");c&&0===c.indexOf("http")&&e(b).attr("target","_blank")}))})}},{"../../lib/nprogress":150,"../helpers/ImportUtilities":38,"./StaticNotebookView.jsx":83,jquery:164,"react/addons":188}],85:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="<!-- comboBoxTemplate -->\n<div>"+(null==(__t=label)?"":__t)+'\n  <div class="input-append">\n    <input class="input-box" type="text" value="'+(null==(__t=value)?"":_.escape(__t))+'" />\n    <div class="btn-group">\n      <button class="btn btn-small dropdown-toggle combo-box-button" data-toggle="dropdown">\n        <b class="caret"></b>\n      </button>\n      <ul class="dropdown-menu">\n        ';for(var i=0;i<choices.length;i++)__p+='\n        <li>\n          <a href="#" class="dropdown-item">'+(null==(__t=choices[i])?"":_.escape(__t))+"</a>\n        </li>\n        ";__p+="\n      </ul>\n    </div>\n  </div>\n</div>\n"}return __p}},{underscore:365}],86:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+="<li>\n  <label>\n    ","text"===inputType&&(__p+="\n      "+(null==(__t=label)?"":_.escape(__t))+'\n      <input type="text" class="plot-options" value='+(null==(__t=value)?"":_.escape(__t))+" />\n    "),__p+="\n    ","checkbox"===inputType&&(__p+="\n      "+(null==(__t=label)?"":_.escape(__t))+'\n      <input type="checkbox" class="plot-options" style="vertical-align:baseline;" ',value&&(__p+=' checked="checked" '),__p+=" />\n    "),__p+="\n    ","radio"===inputType&&(__p+='\n      <input name="radio" type="radio" value='+(null==(__t=value)?"":_.escape(__t))+' class="plot-options '+(null==(__t=key)?"":_.escape(__t))+'"\n      style="vertical-align:baseline;" ',value&&(__p+=" checked "),__p+=" />"+(null==(__t=label)?"":_.escape(__t))+"\n    "),__p+="\n    ","slider"===inputType&&(__p+="\n      "+(null==(__t=label)?"":_.escape(__t))+'\n      <div id="slider" class="plot-options" style="width:206px; float: left;"></div>\n      <p id="slider-value" class="plot-options" style="display: inline">: '+(null==(__t=value)?"":_.escape(__t))+'</p>\n      <input id="input" class="plot-options" style="display:none;" value='+(null==(__t=value)?"":_.escape(__t))+' />\n      <script>\n        $(".plot-options#slider").slider({\n          range: "min",\n          value: '+(null==(__t=value)?"":_.escape(__t))+',\n          step: 0.01,\n          min: 0.02,\n          max: 0.99,\n          slide: function(event, ui) {\n            $( ".plot-options#input" ).val(ui.value);\n            $( ".plot-options#slider-value" ).text(": " + ui.value);\n            $( ".plot-options#input" ).trigger("change");\n          }\n        });\n\n        $(".plot-options#input").change(function () {\n          var value = this.value.substring(1);\n          $("#slider").slider("value", parseInt(value));\n        });\n      </script>\n    '),__p+="\n  </label>\n</li>\n";return __p}},{underscore:365}],87:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+='<!-- customizeDialogTemplate -->\n<div class="modal modal-wide plot-customization">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Customize Plot</h3>\n  </div>\n  <div class="modal-body">\n    <div class="row-fluid customize-dialog-body">\n      <div class="span2">\n        <label>All fields:</label>\n        <ul class="src-list">\n          ';for(var i=0;i<allColumns.length;i++)__p+='\n          <li class="src-item item'+(null==(__t=i)?"":__t)+'" title="'+(null==(__t=allColumns[i])?"":__t)+'" data-name="'+(null==(__t=allColumns[i])?"":__t)+'">'+(null==(__t=allColumns[i])?"":_.escape(__t))+"</li>\n          ";__p+='\n        </ul>\n      </div>\n      <div class="span3">\n        <label>Keys:</label>\n        <ul class="dst-list dst-list-x plot-keys">\n          ';for(var i=0;i<xColumns.length;i++)__p+='\n          <li class="dst-list-item" title="'+(null==(__t=xColumns[i])?"":__t)+'" data-name="'+(null==(__t=xColumns[i])?"":__t)+'">\n            <btn class="closeButton"><i class="fa fa-remove"></i></btn>'+(null==(__t=xColumns[i])?"":_.escape(__t))+"\n          </li>\n          ";__p+='\n        </ul>\n        <label>Series groupings:</label>\n        <ul class="dst-list dst-list-pivot plot-series-groupings">\n          ';for(var i=0;i<pivotColumns.length;i++)__p+='\n          <li class="dst-list-item" title="'+(null==(__t=pivotColumns[i])?"":__t)+'" data-name="'+(null==(__t=pivotColumns[i])?"":__t)+'">\n            <btn class="closeButton"><i class="fa fa-remove"></i></btn>'+(null==(__t=pivotColumns[i])?"":_.escape(__t))+"\n          </li>\n          ";__p+='\n        </ul>\n        <label>Values:</label>\n        <ul class="dst-list dst-list-y plot-values">\n          ';for(var i=0;i<yColumns.length;i++)__p+='\n          <li class="dst-list-item" title="'+(null==(__t=yColumns[i])?"":__t)+'" data-name="'+(null==(__t=yColumns[i])?"":__t)+'">\n            <btn class="closeButton"><i class="fa fa-remove"></i></btn>'+(null==(__t=yColumns[i])?"":_.escape(__t))+"\n          </li>\n          ";__p+='\n        </ul>\n      </div>\n      <div class="span7">\n        <div class="plot-preview"></div>\n        <div class="span3 custom-plot-options">\n          <ul >\n            <!-- populated based on plugin custom options -->\n          </ul>\n        </div>\n      </div>\n\n    </div>\n    <div class="row-fluid">\n      <div class="span5">\n        <label>Aggregation:\n          <select class="input-aggregation">\n            <option value="sum" '+(null==(__t="sum"===pivotAggregation?"selected":"")?"":__t)+' >SUM</option>\n            <option value="avg" '+(null==(__t="avg"===pivotAggregation?"selected":"")?"":__t)+' >AVG</option>\n            <option value="min" '+(null==(__t="min"===pivotAggregation?"selected":"")?"":__t)+' >MIN</option>\n            <option value="max" '+(null==(__t="max"===pivotAggregation?"selected":"")?"":__t)+' >MAX</option>\n            <option value="count" '+(null==(__t="count"===pivotAggregation?"selected":"")?"":__t)+' >\n            COUNT\n            </option>\n          </select>\n        </label>\n      </div>\n      <div class="span7">\n        <label>Display type:\n          <select class="input-display-type">\n            ';for(var i=0;i<PlotControls.complexPlotTypes.length;i++){var plotType=PlotControls.complexPlotTypes[i];__p+='\n            <option value="'+(null==(__t=plotType)?"":__t)+'" '+(null==(__t=plotType===displayType?"selected":"")?"":__t)+" >\n            "+(null==(__t=PlotControls.displayTypeNames[plotType])?"":__t)+"\n            </option>\n            "}__p+='\n          </select>\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <a href="#" data-dismiss="modal" class="btn">Cancel</a>\n    <a href="#" class="btn btn-primary save-button">Apply</a>\n  </div>\n</div>\n'}return __p}},{underscore:365}],88:[function(require,module,exports){require("underscore");module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<!-- dashboardBaseQueriesTemplate -->\n<div class="dashboard-base-queries">\n  <p style="color: #c00">\n    Setup queries are deprecated, and may be targeted for removal in future releases.\n    Consider using the <a href="#joblist">Jobs scheduler</a> to precompute data for your dashboards instead.<br>\n    You can still use the scheduling functionality below to periodically refresh the visible dashboard.\n  </p>\n  <div class="queries">\n    <!-- Filled in by JS -->\n  </div>\n  <div>\n    <button class="btn btn-small add-base-query">\n      <i class="fa fa-plus"></i> Add query\n    </button>\n  </div>\n  <div class="schedule-controls">\n    <p>\n      Last refresh: <span class="last-refresh">Never</span>\n      <button class="btn btn-small refresh-now-button">Refresh now</button>\n    </p>\n    <p>\n      Schedule:\n      <select class="refresh-interval">\n        <option value="manual">Refresh manually</option>\n        <option value="1h">Every hour</option>\n        <option value="3h">Every 3 hours</option>\n        <option value="6h">Every 6 hours</option>\n        <option value="24h">Every day</option>\n        <option value="custom">Custom...</option>\n      </select>\n      <span class="custom-interval-controls">\n        Every <input class="custom-interval-value" type="text" value="1">\n        <select class="custom-interval-units">\n          <option value="s">seconds</option>\n          <option value="m">minutes</option>\n          <option value="h">hours</option>\n        </select>\n      </span>\n    </p>\n  </div>\n</div>\n';return __p}},{underscore:365}],89:[function(require,module,exports){require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<!-- dashboardBaseQueryTemplate -->\n<div class="dashboard-base-query">\n  <div class="left-controls">\n    <i class="fa fa-move"></i>\n  </div>\n  <div class="right-controls">\n    <div class="delete-control-div">\n      <a class="delete-query-button border-box" href="#"><i class="fa fa-remove"></i></a>\n    </div>\n    <select class="border-box command-type" style="width: 100%;">\n      <option value="sql" '+(null==(__t="sql"===model.type?"selected":"")?"":__t)+'>SQL</option>\n      <option value="scala" '+(null==(__t="scala"===model.type?"selected":"")?"":__t)+'>Scala</option>\n       <option value="python" '+(null==(__t="python"===model.type?"selected":"")?"":__t)+'>Python</option>\n    </select>\n  </div>\n  <div class="edit-div">\n    <textarea rows="5" class="border-box source-code command-box">'+(null==(__t=model.command)?"":__t)+"</textarea>\n  </div>\n</div>";return __p}},{underscore:365}],90:[function(require,module,exports){require("underscore");module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<!-- dashboardEditControlsTemplate -->\n<div class="dashboard-edit-controls">\n  <div class="widget-edit-controls">\n    Position: <span class="coordinates-box"></span>\n    Size:\n    <select class="size-box">\n      <option value="800x600">800x600</option>\n      <option value="800x800">800x800</option>\n      <option value="1024x768">1024x768</option>\n      <option value="1024x1600">1024x1600</option>\n    </select>\n    <div class="btn-group btn-small">\n      <a class="btn btn-small dropdown-toggle add-button" data-toggle="dropdown" href="#">\n        Add <b class="caret"></b>\n      </a>\n      <ul class="dropdown-menu add-widget-dropdown right">\n        <li><a class="add-input" href="#">Input</a></li>\n        <li><a class="add-view" href="#">View</a></li>\n      </ul>\n    </div>\n  </div>\n  <ul class="nav nav-tabs">\n    <li><a href="#" class="base-queries-tab">Setup queries</a></li>\n    <li class="active"><a href="#" class="widgets-tab">Controls</a></li>\n  </ul>\n</div>';return __p}},{underscore:365}],91:[function(require,module,exports){require("underscore");module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<!-- dashboardRefreshControlsTemplate -->\n<div class="refresh-controls">\n  <hr>\n  Last refresh: <span class="last-refresh">Never</span>\n  <button class="btn btn-small refresh-now-button">Refresh now</button>\n</div>';return __p}},{underscore:365}],92:[function(require,module,exports){require("underscore");module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<!-- dashboardToolboxTemplate -->\n<div class="dashboard-toolbox">\n  <div class="dashboard-toolbox-inner">\n    <a class="btn btn-small edit-mode-button" href="#"><i class="fa fa-edit"></i> Edit</a>\n    <a class="btn btn-small publish-button" href="#">Publish</a>\n    <a class="btn btn-small clone-button" href="#">Clone</a>\n  </div>\n</div>';return __p}},{underscore:365}],93:[function(require,module,exports){require("underscore");module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<!-- DialogBaseTemplate -->\n<div data-backdrop="static" class="modal modal-narrow hide">\n  <div class="modal-header">\n    <div></div>\n  </div>\n  <div class="modal-body">\n    <!--content goes here-->\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="btn cancel-button" data-dismiss="modal">Cancel</a>\n    <a href="#" class="btn btn-primary confirm-button">OK</a>\n  </div>\n</div>\n';return __p}},{underscore:365}],94:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<!-- editInputDialogTemplate -->\n<div class="modal">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+(null==(__t="create"===mode?"Create":"Edit")?"":__t)+' Input Widget</h3>\n  </div>\n  <div class="modal-body">\n    <form style="margin: 0;">\n      <label>Label:</label>\n      <input type="hidden" name="guid" value="'+(null==(__t=guid)?"":_.escape(__t))+'">\n      <input type="text" class="input-label" value="'+(null==(__t=label)?"":_.escape(__t))+'" spellcheck="false">\n      <label>Bound variable:</label>\n      <input type="text" class="input-binding" value="'+(null==(__t=binding)?"":_.escape(__t))+'" spellcheck="false">\n      <label>Control type:</label>\n      <select class="input-control-type" >\n        <option value="text" '+(null==(__t="text"===controlType?"selected":"")?"":__t)+' >\n        Text box\n        </option>\n        <option value="dropdown" '+(null==(__t="dropdown"===controlType?"selected":"")?"":__t)+' >\n        Dropdown\n        </option>\n        <option value="comboBox" '+(null==(__t="comboBox"===controlType?"selected":"")?"":__t)+' >\n        Combo box\n        </option>\n        <option value="multiSelect" '+(null==(__t="multiSelect"===controlType?"selected":"")?"":__t)+' >\n        Multi-selection list\n        </option>\n      </select>\n      <div class="choices-area">\n        <label>Choices (comma-separated):</label>\n        <textarea class="input-choices" spellcheck="false">'+(null==(__t=choices.join(", "))?"":_.escape(__t))+'</textarea>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" data-dismiss="modal" class="btn">Cancel</a>\n    <a href="#" class="btn btn-primary save-button">Save</a>\n  </div>\n</div>';return __p}},{underscore:365}],95:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<!-- editViewDialogTemplate -->\n<div class="modal">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+(null==(__t="create"===mode?"Create":"Edit")?"":__t)+' Data View</h3>\n  </div>\n  <div class="modal-body">\n    <form style="margin: 0;">\n      <div>\n        <label>Label:</label>\n        <input type="text" class="input-label" value="'+(null==(__t=label)?"":_.escape(__t))+'">\n        <label>Language:</label>\n        <select class="language-select">\n          <option value="sql"\n          ',"sql"===language&&print("selected"),__p+='\n          >SQL</option>\n          <option value="python"\n          ',"python"===language&&print("selected"),__p+='\n          >Python</option>\n          <option value="r"\n          ',"r"===language&&print("selected"),__p+='\n          >R</option>\n        </select>\n      </div>\n      <input type="hidden" name="guid" value="'+(null==(__t=guid)?"":_.escape(__t))+'">\n      <label>Query:</label>\n      <textarea rows="6" class="input-query source-code" spellcheck="false">'+(null==(__t=query)?"":_.escape(__t))+'</textarea>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" data-dismiss="modal" class="btn">Cancel</a>\n    <a href="#" class="btn btn-primary save-button">Save</a>\n  </div>\n</div>\n';return __p}},{underscore:365}],96:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<!-- iframeSandboxTemplate allows for the safe embedding of arbitrary html including scripts -->\n<div class="ansiout">\n<iframe\n  id="'+(null==(__t=frameId)?"":_.escape(__t))+'"\n  width="100%"\n  height="0"\n  frameBorder="0"\n  style="overflow: hidden"\n  scrolling="no"\n  sandbox="allow-scripts allow-popups"\n  seamless="seamless"\n  srcdoc="\n  <link rel=stylesheet href='+(null==(__t=cssUrl)?"":_.escape(__t))+">\n  <style>\n    body {\n      background-color: transparent;\n    }\n  </style>\n  <base target=_blank>\n  <script>\n    (function() {\n      var originalWidth = null;\n      var originalHeight = null;\n      window.onerror = function(error) {\n        window.parent.postMessage({\n          type: 'frameJsError',\n          frameId: '"+(null==(__t=frameId)?"":_.escape(__t))+"',\n          error: error,\n        }, '*');\n      };\n      window.onload = function() {\n        originalWidth = document.body.scrollWidth;\n        originalHeight = document.body.scrollHeight;\n        window.parent.postMessage({\n          type: 'frameResizeEvent',\n          frameId: '"+(null==(__t=frameId)?"":_.escape(__t))+"',\n          height: originalHeight,\n          width: originalWidth,\n        }, '*');\n      };\n      window.addEventListener('message', function(msg) {\n        if (msg.data.type === 'frameSizedEvent') {\n          var xRatio = msg.data.frameWidth / originalWidth;\n          var yRatio = msg.data.frameHeight / originalHeight;\n          var scaleFactor = 1.0;\n          if (xRatio < 1 || yRatio < 1) {\n            scaleFactor = Math.min(xRatio, yRatio);\n          }\n          document.body.style['transform'] = 'scale(' + scaleFactor + ')';\n          document.body.style['transformOrigin'] = 'top left';\n        }\n      });\n    })();\n  </script>\n  "+(null==(__t=htmlContent)?"":_.escape(__t))+'"></iframe>\n</div>\n';return __p}},{underscore:365}],97:[function(require,module,exports){require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+='<!-- plotControlsTemplate -->\n<div class="plot-controls">\n  ';var secondType="table"===curType?lastComplexView:curType;__p+='\n  <a class="btn btn-small display-type-button"\n     data-type="table" title="Raw table">\n    <i class="fa fa-table"></i>\n  </a>\n  <div class="btn-group btn-small" style="padding-left: 4px; padding-right: 4px;">\n    <a class="btn btn-small display-type-button" data-type="'+(null==(__t=secondType)?"":__t)+'"\n       title="'+(null==(__t=PlotControls.displayTypeNames[secondType])?"":__t)+'">\n      <i class="'+(null==(__t=PlotControls.displayTypeIcons[secondType])?"":__t)+'"></i>\n    </a><a class="btn btn-small dropdown-toggle" data-toggle="dropdown"\n           style="padding-left: 6px; padding-right: 6px">\n    <b class="caret"></b>\n  </a>\n    <div class="dropdown-menu" role="menu">\n      <div class="row-fluid" style="width: 220px;">\n        ';var typeGroups=[["barChart","scatterPlot","mapPlot","lineChart","areaChart","pieChart"],["quantilePlot","histogram","boxPlot","qqPlot","pivotTable"]];typeGroups.forEach(function(a){__p+='\n        <ul class="span6 multicol-menu">\n          ',a.forEach(function(a){__p+='\n          <li>\n            <a href="#" class="display-type-button" data-type="'+(null==(__t=a)?"":__t)+'">\n              <i class="'+(null==(__t=PlotControls.displayTypeIcons[a])?"":__t)+' fa fa-fw"></i>\n              '+(null==(__t=PlotControls.displayTypeShortNames[a])?"":__t)+"\n            </a>\n          </li>\n          "}),__p+="\n        </ul>\n\n        "}),__p+="\n      </div>\n    </div>\n  </div>\n  ","table"!==curType&&(__p+='\n  <a href="#" class="btn btn-small customize-button">Plot Options...</a>\n  '),__p+="\n</div>"}return __p}},{underscore:365}],98:[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<!-- urlSandboxTemplate allows for the safe embedding of a single url. -->\n<div class="ansiout">\n<iframe\n  id="'+(null==(__t=frameId)?"":_.escape(__t))+'"\n  width="100%"\n  height="450"\n  frameBorder="0"\n  seamless="seamless"\n  src="'+(null==(__t=htmlContent)?"":_.escape(__t))+'"></iframe>\n</div>\n\n';return __p}},{underscore:365}],99:[function(a,b,c){"use strict";var d=a("underscore"),e=a("backbone"),f=a("../templates/dashboardBaseQuery.html"),g=e.View.extend({initialize:function(a){this.parent=a.parent,this.listenTo(this.model,"change:command",this.modelCommandChanged),this.listenTo(this.model,"change:type",this.modelTypeChanged),this.listenTo(this.model,"change",this.modelChanged)},modelChanged:function(){var a=this;setTimeout(function(){a.parent.modelChanged()},0)},events:{"click .delete-query-button":"removeFromDashboard","change .command-box":"localCommandChanged","blur .command-box":"localCommandChanged","change .command-type":"localTypeChanged"},render:function(){this.$el.html(f({model:this.model.toJSON()}))},removeFromDashboard:function(a){if(a.preventDefault(),a.shiftKey||confirm("Are you sure you want to delete this query?")){var b=this.parent.model;b.set("baseQueries",d.without(b.get("baseQueries"),this.model)),this.model.destroy(),this.parent.baseQueryViews=d.without(this.parent.baseQueryViews,this),
delete this.parent.guidToBaseQueryView[this.model.get("guid")],this.parent.modelChanged(),this.remove()}},localCommandChanged:function(){this.model.set("command",this.$(".command-box").val())},localTypeChanged:function(){this.model.set("type",this.$(".command-type").val())},modelCommandChanged:function(){this.$(".command-box").val(this.model.get("command"))},modelTypeChanged:function(){this.$(".command-type").val(this.model.get("type"))}});b.exports=g},{"../templates/dashboardBaseQuery.html":89,backbone:151,underscore:365}],100:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("backbone"),g=a("../constants/DashboardConstants"),h=a("../helpers/DialogBox"),i=a("../helpers/Utility"),j=a("../models/BaseQuery"),k=a("../models/Bindings"),l=a("../models/DataWidget"),m=a("../models/InputWidget"),n=a("../views/BaseQueryView"),o=a("../views/InputView"),p=a("../templates/dashboardRefreshControls.html"),q=a("../templates/dashboardToolbox.html"),r=a("../templates/dashboardEditControls.html"),s=a("../templates/dashboardBaseQueries.html"),t=a("../templates/editViewDialog.html"),u=a("../templates/editInputDialog.html"),v=a("../helpers/NotebookUtilities"),w=f.View.extend({initialize:function(a){if(this.editable=a.editable||!1,this.autoSubmit=a.autoSubmit||!1,this.publishMode=a.publishMode||!1,this.editMode=a.editMode||!1,this.parent=a.parent||null,this.viewClass=a.viewClass||null,this.isStatic=a.isStatic,this.gridAreaWidth=800,this.gridAreaHeight=600,this.widgetArea=null,this.bindings=void 0,this.widgetViews=[],this.guidToWidgetView={},this.baseQueryArea=null,this.baseQueryViews=[],this.guidToBaseQueryView={},this.defaultBindings=a.bindings,this.clickToScrollTables=a.clickToScrollTables||!1,this.hidePlotControls=a.hidePlotControls||!1,this.autoCenterImg=a.autoCenterImg||!1,this.autoScaleImg=a.autoScaleImg||!1,this.id=this.model.get("id"),window.treeCollection&&window.treeCollection.get){var b=window.treeCollection.get(this.model.get("id"));b&&this.id&&(this.name=b.get("name"))}this.name=this.name||this.model.get("title"),this.listenTo(this.model,"change:widgets",this.widgetsChanged),this.listenTo(this.model,"change:baseQueries",this.baseQueriesChanged),this.listenTo(this.model,"change:lastRefreshTime change:lastRefreshResult change:curRefreshStatus change:baseQueries",this.updateRefreshStatus),this.listenTo(this.model,"change:refreshInterval",this.refreshIntervalChanged),this.listenTo(this.model,"change:lastRefreshTime",this.refreshFinished),this.listenTo(this.model,"change:baseQueries",this.showOrHideRefreshControls),this.listenTo(this.model,"destroy remove",this.modelDestroyed)},events:{"click .edit-mode-button":"toggleEditMode","click .publish-button":"launchPublishView","click .base-queries-tab":"openBaseQueriesTab","click .widgets-tab":"openWidgetsTab","click .delete-button":"onDeleteButton","click .clone-button":"onCloneButton","click .add-button":"fixAddMenu","click .add-input":"addInput","click .add-view":"addView","change .size-box":"changeSize","click .add-base-query":"addBaseQuery","change .refresh-interval":"changeRefreshIntervalDropdown","change .custom-interval-value":"changeCustomIntervalControls","change .custom-interval-units":"changeCustomIntervalControls","click .refresh-now-button":"triggerRefresh"},render:function(){var a,b=this;this.$el.html(""),this.$el.addClass("dashboard"),this.viewClass&&this.$el.addClass(this.viewClass);var c=this.model.get("width"),f=d("<div>").css({width:"auto"===c?"auto":c+"px",position:"relative","margin-top":this.editable?"12px":"0"});if(this.$el.append(f),this.editable){var h=d(q());f.append(h)}if((this.publishMode||this.editable)&&this.name.length>0&&f.append(d("<h2>").text(this.name)),this.editable){this.editControlsArea=d(r()),f.append(this.editControlsArea),this.coordinatesBox=this.editControlsArea.find(".coordinates-box"),this.baseQueryArea=d(s(this.model.toJSON())),f.append(this.baseQueryArea),this.baseQueryArea.hide(),this.refreshIntervalChanged();var i=this.baseQueryArea.find(".queries");i.sortable({update:function(a,c){b.baseQueriesReordered(c.item)},delay:100});var j=this.model.get("baseQueries");for(a=0;a<j.length;a++)this.addBaseQueryView(j[a])}this.widgetArea=d("<div>"),this.editable&&(this.widgetArea.css({top:"0px",left:"0px",width:g.EDIT_MAX_BORDER_WIDTH+"px",height:g.EDIT_MAX_BORDER_HEIGHT+"px","background-color":"white",padding:"0px",position:"relative"}),b.updateGrid(b.gridAreaWidth,b.gridAreaHeight,!0)),f.append(this.widgetArea);var k=this.model.get("widgets");for(a=0;a<k.length;a++)this.addWidgetView(k[a]);this.refreshControlsArea=d(p()),this.refreshControlsArea.css({position:"absolute",left:0,top:0}),f.append(this.refreshControlsArea),this.updateRefreshStatus(),setTimeout(e.bind(this.updateHeight,this),0),this.publishMode&&this.$(".dashboard-toolbox").hide(),this.showOrHideRefreshControls(),this.editable&&this.changeEditMode(this.editMode)},getTotalHeight:function(){return e.reduce(this.widgetViews.map(function(a){return a.getCurrentHeight()}),function(a,b){return a+b})},isRefreshable:function(){return this.editable},modelChanged:function(){this.model.collection&&this.model.collection.url&&this.model.save(null,{error:function(a,b,c){v.handleRpcError(b,null,null,{confirmButton:"OK",confirm:function(){window.location.href="/"}})}})},modelDestroyed:function(){},widgetsChanged:function(){for(var a=this.model.get("widgets"),b={},c=0;c<a.length;c++)b[a[c].get("guid")]=a[c];var d,e=[];for(c=0;c<this.widgetViews.length;c++)d=this.widgetViews[c].model.get("guid"),d in b?e.push(this.widgetViews[c]):(this.widgetViews[c].remove(),this.widgetViews[c].model instanceof m&&this.widgetViews[c].model.get("notebookNative")&&this.parent&&this.parent.parent.removeInputView(d));for(c=0;c<a.length;c++)if(d=a[c].get("guid"),!(d in this.guidToWidgetView)){var f=this.createWidgetView(a[c]);e.push(f),f instanceof o&&f.model.get("notebookNative")&&this.parent&&this.parent.parent.addInputView(f),this.widgetArea.append(f.el)}for(this.widgetViews=e,this.guidToWidgetView={},c=0;c<e.length;c++)d=e[c].model.get("guid"),this.guidToWidgetView[d]=e[c];this.changeEditMode(this.editMode),this.updateHeight()},getBindings:function(){if(void 0===this.bindings){var a=this.model.get("defaultBindings")||{};this.bindings=this.defaultBindings||new k(a)}return this.bindings},createWidgetView:function(b){var c=a("../views/DataView"),d={input:o,data:c},e=d[b.get("type")],f=new e({model:b,parent:this,bindings:this.getBindings(),editable:this.editable,autoSubmit:this.autoSubmit,clickToScrollTables:this.clickToScrollTables,isStatic:this.isStatic,hidePlotControls:this.hidePlotControls,autoCenterImg:this.autoCenterImg,autoScaleImg:this.autoScaleImg});return this.editable&&f.$el.css("z-index","10"),f.render(),"image"===f.model.get("displayType")&&f.$el.find("div.results").css({height:"inherit"}),f},addWidgetView:function(a){var b=this.createWidgetView(a);b instanceof o&&b.model.get("notebookNative")&&this.parent&&this.parent.parent.addInputView(b),this.widgetViews.push(b),this.guidToWidgetView[a.get("guid")]=b,this.widgetArea.append(b.el)},updateHeight:function(){if(this.editable){for(var a=this.widgetViews,b=0,c=0;c<a.length;c++){var d=a[c].$el.position().top+a[c].$el.height();d>b&&(b=d)}var e=this.editable?100:0;this.widgetArea.height(Math.max(this.gridAreaHeight,b)+e),this.refreshControlsArea.css("top",b+65+"px")}},updateGrid:function(a,b,c){var e,f=0,h=g.GRID_STEP,i=this.widgetArea;a=parseInt(a),a-=a%h,b=parseInt(b),b-=b%h,i.css({width:a,height:b}),this.$(".hline").remove(),this.$(".vline").remove();for(var j=0;b+h>j;j+=h)f=(j/h).toFixed(0),e=d("<div/>",{"class":"hline"}),i.append(e),e.css({left:"0px",top:j+"px",width:a+"px",height:"0px",position:"absolute"});for(var k=0;a+h>k;k+=h)f=(k/h).toFixed(0),e=d("<div/>",{"class":"vline"}),i.append(e),e.css({left:k+"px",top:"0px",width:"0px",height:b+"px",position:"absolute"});this.gridAreaWidth=a,this.gridAreaHeight=b},toggleEditMode:function(a){a.preventDefault(),this.changeEditMode(!this.editMode)},launchPublishView:function(a){a.preventDefault(),window.open(document.location.href+"/publish","_blank")},openBaseQueriesTab:function(a){a.preventDefault(),this.editControlsArea.find("li").removeClass("active"),this.editControlsArea.find(".base-queries-tab").closest("li").addClass("active"),this.editControlsArea.find(".widget-edit-controls").hide(),this.widgetArea.hide(),this.baseQueryArea.show()},openWidgetsTab:function(a){a.preventDefault(),this.editControlsArea.find("li").removeClass("active"),this.editControlsArea.find(".widgets-tab").closest("li").addClass("active"),this.editControlsArea.find(".widget-edit-controls").show(),this.widgetArea.show(),this.baseQueryArea.hide()},onDeleteButton:function(a){a.preventDefault();var b=this,c="Are you sure you want to remove this dashboard ("+this.name+"? This cannot be undone.";h.confirm({message:c,confirmButton:"Remove Dashboard",confirm:function(){b.model.destroy(),window.router.navigate("",{trigger:!0}),console.log("activeView:",window.activeView)}})},changeSize:function(){var a=this.$(".size-box").find(":selected").text(),b=a.slice(0,a.indexOf("x")),c=a.slice(a.indexOf("x")+1);this.updateGrid(b,c,!1)},changeEditMode:function(a){this.editMode=a,a?(this.$(".hline").show(),this.$(".vline").show(),this.$(".widget").resizable("enable").draggable("enable").addClass("editable"),this.$(".ui-resizable-handle").show(),this.$(".edit-mode-button").addClass("active"),this.coordinatesBox.text(""),this.editControlsArea.show(),this.editControlsArea.find(".base-queries-tab").closest("li").hasClass("active")&&(this.widgetArea.hide(),this.baseQueryArea.show())):(this.$(".hline").hide(),this.$(".vline").hide(),this.$(".widget").resizable("disable").draggable("disable").removeClass("ui-state-disabled").removeClass("editable"),this.$(".ui-resizable-handle").hide(),this.$(".edit-mode-button").removeClass("active"),this.$(".widget").removeClass("glow"),this.$(".widget").removeClass("glow-drag"),this.$(".widget").removeClass("glow-dep"),this.editControlsArea.hide(),this.widgetArea.show(),this.baseQueryArea.hide(),this.$(".results").css({height:"100%",width:"100%"})),this.showOrHideRefreshControls()},fixAddMenu:function(a){var b=d(a.target).closest("a"),c=b.position(),e=this.$(".dropdown-menu");e.css("top",c.top+b.height()+6),e.css("left",c.left)},addView:function(a){a.preventDefault();var b=this,c=i.generateGUID(),e=d(t({guid:c,language:"sql",mode:"create",label:"",query:""}));e.on("hidden",function(){d(".modal-backdrop").remove(),e.remove()}),e.modal("show"),e.find(".save-button").on("click",function(a){a.preventDefault();var f=e.find(".input-label").val()||null,g=e.find(".input-query").val()||"",h=e.find(".language-select").val()||"SQL",j=i.getDisplayType(g),k=new l({guid:c,label:f||null,query:g,language:h,x:0,y:b.model.getNewWidgetY(),width:660,height:250,customizable:!0,displayType:j,downloadable:i.isDownloadable(j)}),m=b.model.get("widgets").concat([k]);b.model.set("widgets",m),b.modelChanged(),e.modal("hide"),e.remove(),d(".modal-backdrop").remove()})},addInput:function(a){a.preventDefault();var b=this,c={};this.model.get("widgets").forEach(function(a){c[a.get("label")]=!0});for(var e=0,f=1;;f++)if(!c.hasOwnProperty("Input "+f)){e=f;break}var g=i.generateGUID(),h=d(u({guid:g,mode:"create",label:"Input "+f,binding:"var"+f,controlType:"text",choices:[]})),j=function(){"text"===h.find(".input-control-type").val()?h.find(".choices-area").hide():h.find(".choices-area").show()};j(),h.find(".input-control-type").change(j),h.on("hidden",function(){h.remove(),d(".modal-backdrop").remove()}),h.modal("show"),h.find(".save-button").on("click",function(a){a.preventDefault();var c=h.find(".input-label").val()||null,e=h.find(".input-binding").val()||"",f=h.find(".input-control-type").val(),i=h.find(".input-choices").val().split(",").map(function(a){return a.trim()});"text"===f&&(i=[]);var j=new m({guid:g,label:c,binding:e,controlType:f,choices:i,x:0,y:b.model.getNewWidgetY(),width:660,height:"multiSelect"===f?120:40}),k=b.model.get("widgets").concat([j]);b.model.set("widgets",k),b.modelChanged(),h.modal("hide"),h.remove(),d(".modal-backdrop").remove()})},addBaseQueryView:function(a){var b=this.createBaseQueryView(a);this.baseQueryViews.push(b),this.guidToBaseQueryView[a.get("guid")]=b,this.baseQueryArea.find(".queries").append(b.el)},createBaseQueryView:function(a){var b=new n({model:a,parent:this,bindings:this.getBindings()});return b.render(),b},baseQueriesChanged:function(){var a,b=this.model.get("baseQueries"),c={};for(a=0;a<b.length;a++)c[b[a].get("guid")]=b[a];var d,e=[];for(a=0;a<this.baseQueryViews.length;a++)d=this.baseQueryViews[a].model.get("guid"),d in c?e.push(this.baseQueryViews[a]):this.baseQueryViews[a].remove();for(a=0;a<b.length;a++)if(d=b[a].get("guid"),!(d in this.guidToBaseQueryView)){var f=this.createBaseQueryView(b[a]);e.push(f),this.baseQueryArea.find(".queries").append(f.el)}for(this.baseQueryViews=e,this.guidToBaseQueryView={},a=0;a<e.length;a++)d=e[a].model.get("guid"),this.guidToBaseQueryView[d]=e[a];var g=this.baseQueryArea.find(".queries");for(a=0;a<b.length;a++)d=b[a].get("guid"),this.guidToBaseQueryView[d].$el.appendTo(g)},baseQueriesReordered:function(a){var b=this.baseQueryArea.find(".queries").children().toArray();console.log("domElements:",b);for(var c=new Array(b.length),d=0;d<b.length;d++)for(var e=0;this.baseQueryViews.length;e++)if(this.baseQueryViews[e].el===b[d]){c[d]=this.baseQueryViews[e].model;break}this.model.set("baseQueries",c),this.modelChanged(),a.find("textarea").focus()},addBaseQuery:function(a){var b=new j,c=this.model.get("baseQueries").concat([b]);this.model.set("baseQueries",c),this.modelChanged(),this.baseQueryArea.find("textarea:last").focus()},updateRefreshStatus:function(){var a="Never",b=!1,c=!1,d=this.model.get("lastRefreshResult");"success"===d?a=this.model.get("lastRefreshTime"):d&&(a=d,b=!0),this.model.get("curRefreshStatus")&&(a="In progress, last: "+a,c=!0),this.$(".last-refresh").text(a).toggleClass("error",b).toggleClass("in-progress",c)},refreshIntervalChanged:function(){if(this.baseQueryArea){var a=this.model.get("refreshInterval"),b=this.$(".refresh-interval");if("manual"===a)b.val("manual"),this.$(".custom-interval-controls").hide();else if("custom"!==b.val()&&e.contains(["1h","3h","6h","24h"],a))b.val(a),this.$(".custom-interval-controls").hide();else{this.$(".custom-interval-controls").show();var c=a.slice(0,a.length-1),d=a.slice(a.length-1);this.$(".custom-interval-value").val(c),this.$(".custom-interval-units").val(d),this.$(".refresh-interval").val("custom")}}},changeRefreshIntervalDropdown:function(){var a=this.baseQueryArea.find(".refresh-interval").val();"custom"===a?(this.$(".custom-interval").show(),"manual"===this.model.get("refreshInterval")?(a="1h",this.$(".custom-interval-value").val(1),this.$(".custom-interval-units").val("h")):(a=this.model.get("refreshInterval"),this.refreshIntervalChanged())):this.$(".custom-interval").hide(),this.model.set({refreshInterval:a}),this.model.save({refreshInterval:a},{patch:!0})},changeCustomIntervalControls:function(){var a=this.$(".custom-interval-value").val()+this.$(".custom-interval-units").val();this.model.set({refreshInterval:a}),this.model.save({refreshInterval:a},{patch:!0})},showOrHideRefreshControls:function(){this.isRefreshable()?(this.$(".refresh-button").css("display","inline-block"),this.$(".schedule-controls").show(),this.$(".refresh-controls").show()):(this.$(".refresh-button").css("display","none"),this.$(".schedule-controls").hide(),this.$(".refresh-controls").hide()),this.editMode&&this.$(".refresh-controls").hide()},triggerRefresh:function(a){if(a.preventDefault(),this.model.get("curRefreshStatus")){var b=confirm("A refresh is already in progress (status: "+this.model.get("curRefreshStatus")+"); cancel it to do a new one?");if(!b)return}d.ajax("/dashboardRuns/"+this.model.get("id"),{type:"PUT",contentType:"application/json; charset=UTF-8",data:{}})},refreshFinished:function(){if("success"===this.model.get("lastRefreshResult")){console.log("Dashboard data refreshed, updating data views");for(var b=0;b<this.widgetViews.length;b++){var c=this.widgetViews[b],d=a("../views/DataView");c instanceof d&&c.submitQuery()}}},onCloneButton:function(a){a.preventDefault();var b=this;h.prompt({message:"What is the name for the new dashboard",confirmButton:"Clone Dashboard",confirm:function(a){var c=b.model.toJSON();delete c.id,c.name=a,c.title=a,window.treeCollection.create(c,{wait:!0,success:function(a){window.router.navigate("dashboard/"+a.get("id"),{trigger:!0})}})}})}});b.exports=w},{"../constants/DashboardConstants":9,"../helpers/DialogBox":33,"../helpers/NotebookUtilities":48,"../helpers/Utility":55,"../models/BaseQuery":56,"../models/Bindings":57,"../models/DataWidget":59,"../models/InputWidget":60,"../templates/dashboardBaseQueries.html":88,"../templates/dashboardEditControls.html":90,"../templates/dashboardRefreshControls.html":91,"../templates/dashboardToolbox.html":92,"../templates/editInputDialog.html":94,"../templates/editViewDialog.html":95,"../views/BaseQueryView":99,"../views/DataView":101,"../views/InputView":104,backbone:151,jquery:164,underscore:365}],101:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react"),g=a("../helpers/LargeOutputWrapper.jsx"),h=a("../constants/DashboardConstants"),i=a("../helpers/DomUtil"),j=a("../helpers/Export"),k=a("../helpers/HiveSchema"),l=a("../helpers/Markdown"),m=a("../helpers/Nestify"),n=a("../helpers/Utility"),o=a("../models/DataWidget"),p=a("../models/Dashboard"),q=a("../views/WidgetView"),r=a("../visualizations/BarChart"),s=a("../visualizations/BoxPlot"),t=a("../visualizations/Chart"),u=a("../visualizations/Histogram"),v=a("../visualizations/LineChart"),w=a("../visualizations/AreaChart"),x=a("../visualizations/MapPlot"),y=a("../visualizations/PieChart"),z=a("../visualizations/Pivot"),A=a("../visualizations/PlotControls"),B=a("../visualizations/QuantilePlot"),C=a("../visualizations/QQPlot"),D=a("../visualizations/ROCPlot"),E=a("../visualizations/ScatterPlotMatrix"),F=a("../templates/customizeDialog.html"),G=a("../templates/customPlotOptionsTemplate.html"),H=a("../templates/editViewDialog.html"),I=a("../templates/iframeSandbox.html"),J=a("../templates/plotControls.html"),K=a("../templates/urlSandbox.html");a("../../lib/jquery.floatThead-patched"),window.addEventListener("message",function(a){if("frameResizeEvent"===a.data.type){var b=d("#"+a.data.frameId);if(!b.hasClass("frameResizeEventReceived")){b.addClass("frameResizeEventReceived");var c=b.closest(".widget");if(0===c.length)return;"auto"===c[0].style.height?b.height(a.data.height):b.height(Math.min(a.data.height,c.height()-25)),a.source.postMessage({type:"frameSizedEvent",frameWidth:b.width(),frameHeight:b.height()},"*")}}else"frameJsError"===a.data.type&&d("#"+a.data.frameId).parent().text(a.data.error)});var L=q.extend({initialize:function(a){q.prototype.initialize.call(this,a),this.bindings=a.bindings,this.autoSubmit=a.autoSubmit||!1,this.editable=a.editable,this.parent=a.parent,this.customizable=this.model.get("customizable"),this.resizable=this.model.get("resizable"),this.autoCenterImg=a.autoCenterImg||!1,this.autoScaleImg=a.autoScaleImg||!1,this.usingAggData=!1,this.isStatic=a.isStatic,this.hidePlotControls=a.hidePlotControls||!1,this.listenTo(this.model,"change:query",this.queryChanged),this.listenTo(this.model,"change",this.render),this.lastDisplayType=null,this.lastCustomPlotOptions=null,this.resultDiv=d("<div>").addClass("results"),this.downloadButtonDiv=d("<div>").addClass("results-download").html('<a class="results-download-link" href="#" title="Download CSV"><i class="fa fa-download fa-2x"></i></a>'),this.chart=null,this.clickToScrollTables=a.clickToScrollTables||!1,this.lastComplexView=this.model.get("displayType"),"table"===this.lastComplexView&&(this.lastComplexView="barChart"),this.autoSubmit===!0&&"running"===this.model.get("state")&&this.submitQuery()},events:{"click .display-type-button":"changeDisplayType","click .replot-link":"replotOverAllData","click .customize-button":"customizePlotData","click .results-download":"downloadData","focus .results-table":"resultsTableFocused","blur .results-table":"resultsTableBlurred"},makeErrorLink:function(a,b){console.error(a+": "+b);var c=d("<span class='caught-error-message'>"+a+": <a href=#>Report error.</a></span>");return c.children("a").click(function(a){a&&a.preventDefault(),window.oops(b)}),c},render:function(){try{this.render0()}catch(a){this.contentArea.append(this.makeErrorLink("Error rendering output",a.stack)),window.recordEvent("renderingError",{error:"Error rendering data view"},a.stack)}},render0:function(){this.updateBindingListeners();var a=this.model.changedAttributes();if(a!==!1){var b=e.keys(a);if(e.isEqual(b,["file"])||e.isEqual(a,{running:!0}))return}if(this.contentArea.empty(),this.contentArea.addClass("dashboard"),this.model.has("guid")&&this.$el.attr("data-guid",this.model.get("guid")),this.$el.css({width:n.fixLength(this.model.get("width")),height:n.fixLength(this.model.get("height"))}),this.model.has("label")&&this.contentArea.append(d("<p>").text(this.model.get("label")+":")),null===this.model.get("error")){var c=this.model.get("displayType"),f=JSON.stringify(this.model.get("customPlotOptions"));if("table"!==c&&(this.lastComplexView=c),this.contentArea.append(this.resultDiv),!this.model.get("data")||c===this.lastDisplayType&&f===this.lastCustomPlotOptions&&"table"!==c&&"pivotTable"!==c&&"markdown"!==c&&"html"!==c&&"htmlSandbox"!==c&&"image"!==c||(n.isResizable(c)===!1?this.model.set({resizable:!1}):n.isResizable(this.lastDisplayType)===!1&&this.model.set({resizable:!0}),this.updateResultDiv(),this.lastDisplayType=c,this.lastCustomPlotOptions=f),this.showPlotOptions()){var g=this.createPlotControls();this.contentArea.append(g)}var h=null;this.chart&&(h=this.getDataForPlotting());var i=[],j=this.canUsePreaggregatedData(),k=this.model.get("dataOverflowed")===!0&&this.model.get("aggData")&&this.model.get("aggData").length>0&&this.matchingAggType(c)===this.model.get("aggType")&&j;if(k){if(this.model.get("aggDataOverflowed")){var l=this.model.get("aggData").length;i.push("Showing the first "+l+" rows.")}}else if(this.model.get("dataOverflowed")&&this.model.get("data")&&this.model.get("data").length>0){var m=this.model.get("data").length;"table"===c?i.push("Showing the first "+m+" rows."):j?i.push("Showing sample based on the first "+m+" rows. <a href='#' class='replot-link'>Plot over all results.</a><span class='replot-text'>Apply plot options for full results.</span>"):i.push("Showing sample based on the first "+m+" rows.")}var o=this.model.get("aggError");if(o&&j&&i.push(this.makeErrorLink("Error plotting over all results",o)),(k&&this.model.get("aggSeriesLimitReached")===!0||!k&&h&&h.seriesLimitReached===!0)&&i.push("Only showing the first ten series."),this.chart){var p=this.getPlottingArea(i.length),q=this.model.get("yColumns")||h.columns,r=this.model.get("pivotColumns");try{this.chart.plot(h.data,h.key,h.columns,p.width,p.height,{yColumns:q,pivotColumns:r,usingAggData:this.usingAggData}),"auto"===this.model.get("width")&&this.model.set({width:this.chart.width})}catch(s){i.push(this.makeErrorLink("Error rendering plot",s.stack)),window.recordEvent("renderingError",{error:"Error rendering plot"},s.stack)}}this.resultDiv.find(".plotWarning").remove();for(var t in i)this.resultDiv.append(d("<p>").addClass("plotWarning").append(i[t]))}this.model.trigger("rendered")},queryChanged:function(){this.updateBindingListeners(),this.chart=null,this.resultDiv=d("<div>").addClass("results"),this.lastDisplayType=null,this.lastCustomPlotOptions=null,this.model.set({resultType:null,data:null,schema:null,state:"running",running:!0},{silent:!0}),this.autoSubmit&&this.submitQuery()},updateBindingListeners:function(){if(this.autoSubmit&&this.model.has("arguments")){this.stopListening(this.bindings);var a=this;e.keys(this.model.get("arguments")).forEach(function(b){a.listenTo(a.bindings,"change:"+b,a.submitQuery)})}},submitQuery:function(){this.model.submitQuery(this.bindings.toJSON())},showPlotOptions:function(){var a=this.model.get("displayType");return this.isPlottable()&&!n.isMLSpecificDisplayType(a)&&!this.hidePlotControls},isPlottable:function(){if(this.customizable===!1)return!1;if("table"===this.model.get("resultType"))return!0;var a=this.model.get("schema")||[];return a.some(function(a){return n.isNumeric(a.type)})},getPlottingArea:function(a){var b=this.model.get("height");if(a&&b&&"auto"!==b&&(b-=h.OVERFLOW_HEIGHT*a),this.customizable||this.resizable){var c=this.model.get("width");return!this.editable&&this.showPlotOptions()&&(b-=h.OPTION_BUTTON_HEIGHT),this.model.has("label")&&(b-=parseInt(i.getCSSProperty(this.model.get("label"),{width:c},"height"),10)),{width:c,height:b}}return{width:this.model.get("maxChartWidth"),height:b||230}},updateResultDiv:function(){var a=this.model.get("displayType");f.unmountComponentAtNode(this.resultDiv[0]);var b=d(this).parent(".results-and-comments");b.removeClass("figure-results-and-comments"),"image"!==a||0===this.resultDiv.find(".figure").length?this.resultDiv.html(""):console.log("Keeping old resultDiv for smooth transition");var c=!this.model.has("downloadable")||this.model.get("downloadable");c&&this.resultDiv.append(this.downloadButtonDiv);var h=this.model.get("schema"),j=this.model.get("data");if("table"===a||"pivotTable"===a){if(!h||!j)return;var o=h.map(function(a){return a.name}),p=this.getPlottingArea().height-7,q=d("<div>").addClass("results-table");q.css({"max-height":Math.max(p,0)+"px"}),this.clickToScrollTables&&(q.attr("tabindex","-1"),q.addClass("noscroll"));var t=d("<div>").addClass("inner");if(q.append(t),t.css({"max-height":Math.max(p,0)+"px"}),"pivotTable"===a){var z=this.getDataForPlotting();t.append(i.createTable(z.data,[z.key].concat(z.columns))),t.find("table").addClass("table-pivoted")}else{var A=h.map(function(a){try{return k.parse(a.type)}catch(b){return void console.error(b)}});t.append(i.createTable(j,o,A))}var F=t.find("table");m.enable(F,!0),F.floatThead({scrollContainer:function(){return t},zIndex:1}),F.floatThead("reflow"),b.addClass("figure-results-and-comments"),this.resultDiv.append(q),this.chart=null}else if("markdown"===a){var G=d("<div>").addClass("markdown"),H=new l(G);H.render(n.getCode(this.model.get("data"))),this.resultDiv.append(G)}else if("image"===a){if(!j||0===j.length)return;var J=void 0!==window.settings.files?window.settings.files:"",L=d('<div class="figure"></div>');this.autoCenterImg&&(L=d('<div class="figure auto-center-wrapper"></div>')),this.resultDiv.find(".figure").length>0?L=this.resultDiv.find(".figure"):this.resultDiv.append(L),b.addClass("figure-results-and-comments");var M="";this.autoCenterImg&&(M="auto-center-img"),(this.autoScaleImg||this.model.get("autoScaleImg"))&&(M="auto-scale-img");var N=d('<img class="'+M+'"/>');0===j.indexOf("data:image/png")?N[0].src=j:N[0].src=J+j,N.load(function(){L.html(N)});var O="";this.model.has("file")&&(O=this.model.get("file")),O!==j&&this.model.set({file:j},{silent:!0})}else if("html"===a){var P=f.createElement(g,{resizeEnabled:!0},f.createElement("div",{dangerouslySetInnerHTML:{__html:j}}));P=f.render(P,this.resultDiv[0]),e.defer(function(){P.checkSizeAndSetWrapper()})}else if("htmlSandbox"===a)0===j.indexOf("http")?this.resultDiv.html(K({frameId:n.generateGUID(),htmlContent:j})):this.resultDiv.html(I({frameId:n.generateGUID(),cssUrl:n.getResourceUrl("lib/css/bootstrap.min.css"),htmlContent:j}));else{var Q={barChart:r,boxPlot:s,histogram:u,lineChart:v,areaChart:w,mapPlot:x,pieChart:y,qqPlot:C,ROC:D,quantilePlot:B,scatterPlot:E},R=Q[a];this.chart=new R(this.resultDiv[0],this.isStatic);var S=this.model.has("customPlotOptions")?this.model.get("customPlotOptions"):{};e.has(S,a)?this.chart.setOptions(S[a]):(S[a]=this.chart.getOptions(),this.model.set(S,{silent:!0})),this.resultDiv.append(this.chart)}},getDataForPlotting:function(){var a=null;return a=this.model.get("xColumns")||this.model.get("yColumns")||this.model.get("pivotColumns")?this.getPreChosenPlotData():this.inferDataForPlotting(),a.data.forEach(function(a){for(var b=0;b<a.length;b++)"string"==typeof a[b]||isFinite(a[b])||(a[b]=0)}),a},getPreChosenPlotData:function(){var a,b,c=this.model.get("displayType"),d=this.model.get("aggData");this.usingAggData=!1,this.model.get("dataOverflowed")===!0&&this.canUsePreaggregatedData()&&d&&d.length>0&&this.matchingAggType(c)===this.model.get("aggType")?(a=d,this.usingAggData=!0,b=this.model.get("aggSchema")):(a=this.addIndexField(this.model.get("data")),b=this.model.get("schema"));var e=this.model.get("xColumns"),f=this.model.get("yColumns"),g=this.model.get("pivotColumns"),h=this.model.get("pivotAggregation")||"sum",i=h;this.usingAggData&&"count"===h&&(i="sum");var j=z[i];if("pivotTable"===c){var k=b.map(function(a){return a.name}).concat(["<id>"]);return z.pivot(a,k,e,f,g,j)}return"histogram"===c&&this.usingAggData?{data:a,columns:f,key:e.join(", ")}:this.chart.prepareData(a,b,e,f,g,j)},addIndexField:function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=a[c].concat([c]);return b},inferColumnsForPlotting:function(){var a=this.model.get("schema")||[];return this.chart?this.chart.inferColumns(a):t.prototype.inferColumns(a)},inferDataForPlotting:function(){var a,b=this.addIndexField(this.model.get("data")||[]),c=this.model.get("displayType"),d=[],e=this.model.get("schema"),f=z.sum;if("pivotTable"===c){var g=this.model.get("schema").map(function(a){return a.name}).concat(["<id>"]);return a=this.inferColumnsForPlotting(),z.pivot(b,g,a.xColumns,a.yColumns,d,f)}return a=this.chart.inferColumns(e),this.chart.prepareData(b,e,a.xColumns,a.yColumns,d,f)},createPlotControls:function(){var a=this.model.get("displayType");e.contains(A.complexPlotTypes,this.lastComplexView)||(this.lastComplexView=A.complexPlotTypes[0]);var b=d(J({curType:a,lastComplexView:this.lastComplexView,PlotControls:A}));b.find("a[data-type="+a+"]").addClass("active");var c=b.find(".btn-group");return c.on("click",function(){var a=b.find(".dropdown-menu"),d=a.height(),e=c.height(),f=c.offset().top+2*e;f+d>=window.innerHeight?a.css("top",-e/2-d-4+"px"):a.css("top","100%")}),b},changeDisplayType:function(a){a.preventDefault();var b=d(a.target).closest("a").data("type");if(b!==this.model.get("displayType")){var c={displayType:b};"auto"===this.model.get("width")||"table"!==b&&"pivotTable"!==b||(c.width="auto"),this.model.set(c),this.$(".active").removeClass("active"),this.$("a[data-type="+b+"]").addClass("active")}},replotOverAllData:function(a){a.preventDefault();var b=this.inferColumnsForPlotting(),c=this.model.get("xColumns")||b.xColumns,d=this.model.get("yColumns")||b.yColumns,e=this.model.get("pivotColumns")||[],f=this.model.get("pivotAggregation")||"sum",g=this.model.get("customPlotOptions")||{};this.model.set({xColumns:[],yColumns:[],pivotColumns:[],pivotAggregation:""},{silent:!0}),this.model.set({xColumns:c,yColumns:d,pivotColumns:e,pivotAggregation:f,customPlotOptions:n.deepCopy(g)}),this.autoSubmit===!0&&this.submitQuery()},customizePlotData:function(b){b.preventDefault();var c=this,f=this.inferColumnsForPlotting(),g=this.model.get("xColumns")||f.xColumns,h=this.model.get("yColumns")||f.yColumns,i=this.model.get("pivotColumns")||[],j=this.model.get("schema").map(function(a){return a.name}).concat(["<id>"]),k=this.model.get("pivotAggregation")||"sum",l=this.model.get("displayType"),m=d(F({allColumns:j,xColumns:g,yColumns:h,pivotColumns:i,pivotAggregation:k,displayType:l,PlotControls:A})),q=function(a){if(a.chart){var b=m.find(".custom-plot-options");b.empty(),e.each(a.chart.getOptions(),function(a){b.append(G({inputType:a.inputType||"text",label:a.label,key:a.key,value:a.value}))});var c;b.find(".plot-options").on("keyup change input",function(){clearTimeout(c),c=setTimeout(function(){x(a)},500)})}},r=m.find(".plot-preview"),s=new o({query:"",data:c.model.get("data"),dataOverflowed:c.model.get("dataOverflowed"),
schema:c.model.get("schema"),running:!1,maxChartWidth:480,height:250,displayType:n.computeDisplayType(this.model.get("displayType"),this.model.get("resultType")),resultType:c.model.get("resultType"),xColumns:g,yColumns:h,pivotColumns:i,pivotAggregation:k,customPlotOptions:n.deepCopy(c.model.get("customPlotOptions")),customizable:!1,resizable:!1,downloadable:!1}),t=new p({widgets:[s]}),u=a("../views/DashboardView"),v=new u({model:t,autoSubmit:!1});r.append(v.el),v.render(),q(v.widgetViews[0]);var w=function(a){var b=[];return a.find("li").each(function(){var a=e.unescape(d(this).text().trim());b.push(a)}),b},x=function(a){var b=a.model.get("displayType");if(a.chart){var c=[],f=[];m.find(".custom-plot-options input").each(function(){if("text"===this.type){var a=e.unescape(d(this).val().trim());c.push(a)}else"checkbox"===this.type?c.push(this.checked):"radio"===this.type&&c.push(this.checked)});var g=a.chart.getOptions();if(c.length===g.length){for(var h=0;h<g.length;h++)f.push({key:g[h].key,value:c[h]});a.chart.setOptions(f);var i=a.model.get("customPlotOptions");i[b]=f,a.model.set(i,{silent:!0}),a.render()}}},y=function(){g=w(m.find(".dst-list-x")),h=w(m.find(".dst-list-y")),i=w(m.find(".dst-list-pivot")),k=m.find(".input-aggregation").val(),l=m.find(".input-display-type").val()},z=function(){y();var a=v.widgetViews[0];s.set({xColumns:g,yColumns:h,pivotColumns:i,pivotAggregation:k,displayType:l}),x(a),q(a)};m.find(".src-item").draggable({connectToSortable:".dst-list",helper:"clone",revert:"invalid",revertDuration:250,appendTo:".customize-dialog-body"}),m.find(".dst-list-item").each(function(){var a=d(this);a.find(".closeButton").click(function(){a.remove(),z()})}),m.find(".dst-list").sortable({revert:250,connectWith:".dst-list",tolerance:"pointer",stop:function(a,b){var c=0;d(this).find("li").each(function(){if(d(this).text().trim()===b.item.text().trim())if(c++,2===c)b.item.remove();else if(!d(this).hasClass("dst-list-item")){d(this).attr("class","dst-list-item");var a=d('<btn class="closeButton"><i class="fa fa-remove"></i></btn>');d(this).prepend(a);var e=d(this);a.click(function(){e.remove(),z()})}}),z()}}),m.find("select").on("change",z),m.on("hidden",function(){m.remove(),d(".modal-backdrop").remove()}),m.modal("show"),m.find(".save-button").on("click",function(a){a.preventDefault(),y(),c.model.set({xColumns:[],yColumns:[],pivotColumns:[],pivotAggregation:""},{silent:!0}),c.model.set({xColumns:g,yColumns:h,pivotColumns:i,pivotAggregation:k,customPlotOptions:n.deepCopy(s.get("customPlotOptions")),displayType:l}),x(c),m.modal("hide"),d(".modal-backdrop").remove(),c.autoSubmit===!0&&c.submitQuery()})},showEditDialog:function(){var a=this,b=d(H({mode:"edit",language:this.model.get("language")||"sql",guid:this.model.get("guid")||n.generateGUID(),label:this.model.get("label")||"",query:this.model.get("query")||""}));b.on("hidden",function(){b.remove(),d(".modal-backdrop").remove()}),b.modal("show"),b.find(".save-button").on("click",function(c){c.preventDefault();var e=b.find(".input-label").val()||null,f=b.find(".input-query").val()||"",g=b.find(".language-select").val();a.model.set({label:e,language:g,query:f,resultType:null}),a.autoSubmit&&a.submitQuery(),b.modal("hide"),b.remove(),d(".modal-backdrop").remove()})},downloadData:function(a){if(a.preventDefault(),"table"===this.model.get("displayType")){var b=this.model.get("schema"),c=b.map(function(a){try{return k.parse(a.type)}catch(b){return void console.error(b)}}),d=b.map(function(a){return a.name}),e=this.model.get("data").map(function(a){for(var b=new Array(a.length),d=0;d<a.length;d++)"object"==typeof a[d]&&c[d]?b[d]=k.apply(a[d],c[d]):b[d]=a[d];return b});j.downloadTableAsCSV(d,e,"export.csv")}else{var f=this.getDataForPlotting();j.downloadTableAsCSV([f.key].concat(f.columns),f.data,"export.csv")}},resultsTableFocused:function(a){this.clickToScrollTables&&this.$(".results-table").removeClass("noscroll")},resultsTableBlurred:function(a){this.clickToScrollTables&&this.$(".results-table").addClass("noscroll")},canUsePreaggregatedData:function(){var a=this.inferColumnsForPlotting(),b=this.model.get("xColumns")||a.xColumns,c=this.model.get("yColumns")||a.yColumns,d=this.model.get("pivotColumns")||[];return b.concat(c).concat(d).indexOf("<id>")>=0?!1:e.contains(["barChart","lineChart","areaChart","pieChart","mapPlot","pivotTable","histogram"],this.model.get("displayType"))},matchingAggType:function(a){var b="scalar",c="histogram",d={barChart:b,lineChart:b,areaChart:b,pieChart:b,mapPlot:b,pivotTable:b,histogram:c};return e.contains(e.keys(d),a)?d[a]:""}});b.exports=L},{"../../lib/jquery.floatThead-patched":148,"../constants/DashboardConstants":9,"../helpers/DomUtil":34,"../helpers/Export":35,"../helpers/HiveSchema":37,"../helpers/LargeOutputWrapper.jsx":39,"../helpers/Markdown":44,"../helpers/Nestify":47,"../helpers/Utility":55,"../models/Dashboard":58,"../models/DataWidget":59,"../templates/customPlotOptionsTemplate.html":86,"../templates/customizeDialog.html":87,"../templates/editViewDialog.html":95,"../templates/iframeSandbox.html":96,"../templates/plotControls.html":97,"../templates/urlSandbox.html":98,"../views/DashboardView":100,"../views/WidgetView":106,"../visualizations/AreaChart":107,"../visualizations/BarChart":108,"../visualizations/BoxPlot":109,"../visualizations/Chart":111,"../visualizations/Histogram":112,"../visualizations/LineChart":114,"../visualizations/MapPlot":115,"../visualizations/PieChart":116,"../visualizations/Pivot":117,"../visualizations/PlotControls":118,"../visualizations/QQPlot":120,"../visualizations/QuantilePlot":121,"../visualizations/ROCPlot":122,"../visualizations/ScatterPlotMatrix":124,jquery:164,react:360,underscore:365}],102:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("react/addons"),g=f.createClass({displayName:"DropdownMenuView",propTypes:{heading:f.PropTypes.string,outsideClickHandler:f.PropTypes.func.isRequired,getItems:f.PropTypes.func.isRequired,handleClickInMenu:f.PropTypes.bool,ignoreClickClasses:f.PropTypes.array,classes:f.PropTypes.array},getDefaultProps:function(){return{handleClickInMenu:!0,classes:[]}},componentDidMount:function(){var a=this;this.clickHandler=function(b){var c=["dropdown-menu"].concat(a.props.ignoreClickClasses?a.props.ignoreClickClasses:[]),f=e.some(c,function(a){return 0!==d(b.target).closest("."+a).length});return f||a.props.outsideClickHandler(),!0},d(document).click(this.clickHandler)},componentWillUnmount:function(){d(document).off("click",this.clickHandler)},render:function(){var a={display:"block"},b=0,c=e.map(this.props.getItems(),function(a){return b+=1,f.createElement("li",{key:b},a)}),d="dropdown-menu "+this.props.classes.join(" "),g=this.props.heading?f.createElement("li",null,f.createElement("span",{className:"heading"},this.props.heading)):null,h=this.props.handleClickInMenu?this.props.outsideClickHandler:null;return f.createElement("div",{className:d,style:a,onClick:h},g,c)}});b.exports=g},{jquery:164,"react/addons":188,underscore:365}],103:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react/addons"),f=a("../constants/IconsForType"),g=a("../helpers/DialogBox"),h=a("../forms/ReactDropzone.jsx"),i=a("../forms/ReactFormElements.jsx"),j=a("../forms/ReactFormFooter.jsx"),k=a("../helpers/ReactModal.jsx"),l=a("../helpers/ReactModalUtils"),m=i.Input,n="file",o="url",p=e.createClass({displayName:"ImportDialog",propTypes:{parentId:e.PropTypes.number.isRequired},getInitialState:function(){return{inputType:n,confirmed:!1}},_acceptedFilesString:function(){var a=[".dbc",".jar",".scala",".py",".sql",".r",".ipynb"];return window.settings.enableStaticHtmlImport&&a.push(".html"),a.join(", ")},_setType:function(a){this.state.confirmed||(this.setState({inputType:a}),this.checkInputFocus=!0)},_renderTypeToggle:function(){var a=this.state.inputType===n?"checked":void 0,b=this.state.inputType===o?"checked":void 0,c=this.state.confirmed?"disabled":!1;return e.createElement("div",{className:"import-from-block"},e.createElement("span",{className:"import-from-text"},"Import from:"),e.createElement("a",{className:"pointer import-from-link import-file-radio",onClick:this._setType.bind(this,n)},e.createElement("input",{type:"radio",name:"link",value:n,checked:a,disabled:c}),e.createElement("span",{className:"import-radio-label"}," File")),e.createElement("a",{className:"pointer import-from-link import-url-radio",onClick:this._setType.bind(this,o)},e.createElement("input",{type:"radio",name:"link",value:o,checked:b,disabled:c}),e.createElement("span",{className:"import-radio-label"}," URL")))},_renderDropzone:function(){var a=this,b={url:"/upload/import-files",acceptedFiles:a._acceptedFilesString(),addRemoveLinks:!1,dictDefaultMessage:"Drop file here to upload or click to select.",maxFiles:1,init:function(){this.on("success",function(b,c){a.setState({fileName:b.name,stagingURL:c[0].fsPath})}),this.on("error",function(a,b){b===this.options.dictInvalidFileType?(this.removeFile(a),this.enable()):g.alert("Error uploading file: "+b)})}},c=this.state.inputType!==n?"hidden":null;return e.createElement("div",{className:c},e.createElement(h,{options:b,classes:"import-file-input",ref:"fileInput"}))},_validateUrl:function(a){return a&&null!==a.match(/^https?:\/\/.+$/)},_renderUrlInput:function(){var a=this,b=this.state.inputType!==o?"hidden":null;return e.createElement("div",{className:b},e.createElement(m,{ref:"urlInput",inputClassName:"urlInput",validate:this._validateUrl,confirm:this._confirm,readOnly:this.state.confirmed,onChange:function(b){a.setState({url:b})}}))},_renderFooter:function(){var a=this.state.confirmed?e.createElement("span",null,e.createElement("i",{className:"fa fa-"+f.inProgress})," Importing"):e.createElement("span",null,"Import");return e.createElement(j,{confirm:this._confirm,confirmDisabled:!this._validate()||this.state.confirmed,confirmButton:a,showCancel:!this.state.confirmed,closeOnConfirm:!1})},_recordCompleted:function(a,b){window.recordEvent("importItem",{importItemType:this.state.inputType,importItemSuccess:a,importItemErrorMsg:b,importItemFileName:this.state.fileName,importItemUrl:this.state.url})},_confirm:function(){var a=this,b=function(b){l.destroyModal(),b&&b.newId&&(window.router.navigate("shell/"+b.newId,{trigger:!0}),window.fileBrowserView.toggleFileBrowser(!1)),a._recordCompleted(!0,null)},c=function(b,c,d){l.destroyModal(),console.error("Import failed with error:",d),g.alert("Import failed with error: "+d,!1,"OK"),a._recordCompleted(!1,d)};if(this.state.inputType===n&&null!==this.state.stagingURL&&null!==this.state.fileName)d.ajax("/serialize/"+this.props.parentId,{type:"POST",data:JSON.stringify({path:this.state.stagingURL,name:this.state.fileName}),success:b,error:c});else{if(this.state.inputType!==o||!this.state.url)throw new Error("invalid state in ImportDialog._confirm");d.ajax("/serialize/url/"+this.props.parentId,{type:"POST",data:JSON.stringify({url:this.state.url}),success:b,error:c})}this.setState({confirmed:!0})},_validate:function(){return this.state.inputType===n?this.state.stagingURL&&this.state.fileName:this.state.inputType===o?this._validateUrl(this.state.url):!1},render:function(){var a=e.createElement("h3",null,"Import Item"),b=e.createElement("div",null,window.settings.enableImportFromUrl?this._renderTypeToggle():null,this._renderDropzone(),window.settings.enableImportFromUrl?this._renderUrlInput():null,e.createElement("div",{className:"formatsMessage"},"Accepted formats: ",this._acceptedFilesString())),c=this._renderFooter();return e.createElement(k,{modalName:"import-dialog",header:a,body:b,footer:c})},componentDidUpdate:function(){this.checkInputFocus&&this.state.inputType===o&&(this.refs.urlInput.focus(),this.refs.urlInput.select()),this.checkInputFocus=!1}});p.createDialog=function(a){l.createModal(e.createElement(p,{parentId:a}))},b.exports=p},{"../constants/IconsForType":11,"../forms/ReactDropzone.jsx":25,"../forms/ReactFormElements.jsx":26,"../forms/ReactFormFooter.jsx":27,"../helpers/DialogBox":33,"../helpers/ReactModal.jsx":50,"../helpers/ReactModalUtils":51,jquery:164,"react/addons":188}],104:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("../helpers/DialogBox"),g=a("../helpers/Utility"),h=a("../views/WidgetView"),i=a("../templates/editInputDialog.html"),j=a("../templates/comboBox.html"),k=h.extend({initialize:function(a){h.prototype.initialize.call(this,a);var b=this;this.bindings=a.bindings,this.editable=a.editable,this.configurable=this.editable||this.model.get("configurable"),this.listenTo(this.bindings,"change:"+this.model.get("binding"),this.bindingValueChanged),this.listenTo(this.model,"change",this.render),this.$el.addClass("widget-input"),this.editable&&this.$el.droppable({tolerance:"intersect",drop:function(a,c){for(var d=b.parent.widgetViews,e=null,g=0;g<d.length;g++)if(d[g].el===c.draggable[0]){e=d[g];break}var h=b.model.get("binding"),i=e.model.get("binding");i===h?f.confirm({message:"Do you want to merge these input widgets?",confirmButton:"Confirm and merge",cancelButton:"Cancel",confirm:function(){e.$el.fadeOut(250,function(){e.removeFromDashboard()})}}):f.alert("Cannot merge widgets with different bound variables.")},over:function(a,c){d(c.draggable).addClass("glow-drop"),d(b.$el).hasClass("glow-dep")&&(d(b.$el).addClass("had-glow-dep"),d(b.$el).removeClass("glow-dep")),d(b.$el).addClass("glow-drop")},out:function(a,c){d(".widget").removeClass("glow-drop"),d(b.$el).hasClass("had-glow-dep")&&(d(b.$el).addClass("glow-dep"),d(b.$el).removeClass("had-glow-dep"))}})},events:{"change .input-box":"onValueChanged","keyup .input-box":"onKeyUp","click .dropdown-item":"onDropdownItemClicked"},render:function(){var a=this;this.contentArea.html("");var b="",c="";this.model.has("label")&&(b=this.model.get("label")+": ",c=this.model.get("label"));var f=e.escape(this.bindings.get(this.model.get("binding"))),g=this.model.get("controlType");if("text"===g){var h=d("<p>"),i=d("<input>");i.addClass("input-box"),i.attr("type","text"),i.attr("value",f),i.attr("data-name",c),h.text(b),h.append(i),this.contentArea.append(h),this.changeTextBoxFormatting()}else if("dropdown"===g||"multiSelect"===g){var k=[f];"multiSelect"===g&&(k=f.split(",").map(function(a){return a.trim()}));var l=d("<select>",{"class":"input-box"});"multiSelect"===g&&l.attr("multiple",""),this.model.get("choices").forEach(function(a){l.append(d('<option value="'+e.escape(a)+'"'+(e.contains(k,a)?"selected":"")+">"+e.escape(a)+"</option>"))});var m=d("<p>").text(b);"dropdown"===g?(this.contentArea.append(m),m.append(l)):(""!==b&&this.contentArea.append(m),this.contentArea.append(l))}else if("comboBox"===g){var n=d(j({label:b,value:f,choices:this.model.get("choices")}));this.contentArea.append(n);var o=n.find(".dropdown-menu"),p=n.find(".input-box"),q=n.find("button");q.click(function(){a.parent.$el.find(".widget").css("z-index",10),a.$el.css("z-index",20),o.css({left:-p.outerWidth()+"px",width:p.outerWidth()+q.outerWidth()})})}this.model.has("guid")&&a.$el.attr("data-guid",a.model.get("guid"))},changeTextBoxFormatting:function(){this.model.get("globalVar")===!0?this.$(".input-box").addClass("globalVariable"):this.$(".input-box").removeClass("globalVariable")},getInput:function(){var a=this.$(".input-box").val();return e.isArray(a)&&(a=a.join(", ")),null===a&&(a=""),a},submitQuery:function(){var a=this.model.get("binding"),b=this.getInput(),c=this.bindings.get(a);c===b?(this.bindings.trigger("change:"+a),this.bindings.trigger("change")):this.bindings.set(a,b),this.bindings.trigger("submitBindings")},saveChange:function(){var a={};a[this.model.get("binding")]=this.getInput(),this.bindings.set(a,{silent:!0})},onValueChanged:function(a){var b=this.model.get("controlType");"text"!==b&&"comboBox"!==b?this.submitQuery():this.saveChange()},onKeyUp:function(a){var b=this.model.get("controlType");("text"===b||"comboBox"===b)&&13===a.keyCode&&this.submitQuery()},bindingValueChanged:function(){var a=this.bindings.get(this.model.get("binding"))||"";"multiSelect"===this.model.get("controlType")&&(a=a.split(",").map(function(a){return a.trim()})),this.$(".input-box").val(a)},onDropdownItemClicked:function(a){a.preventDefault();var b=d(a.target).text();this.$(".input-box").val(b),this.submitQuery()},showEditDialog:function(){var a=this,b=d(i({mode:"edit",guid:this.model.get("guid")||g.generateGUID(),label:this.model.get("label")||"",binding:this.model.get("binding")||"",controlType:this.model.get("controlType")||"text",choices:this.model.get("choices")||[]})),c=function(){"text"===b.find(".input-control-type").val()?b.find(".choices-area").hide():b.find(".choices-area").show()};c(),b.find(".input-control-type").change(c),b.on("hidden",function(){b.remove(),d(".modal-backdrop").remove()}),b.modal("show"),b.find(".save-button").on("click",function(c){c.preventDefault();var e=b.find(".input-label").val()||null,f=b.find(".input-binding").val()||"",g=b.find(".input-control-type").val(),h=b.find(".input-choices").val().split(",").map(function(a){return a.trim()});"text"===g&&(h=[]);var i=a.model.get("binding");f!==i&&(a.stopListening(a.bindings,"change:"+i),a.listenTo(a.bindings,"change:"+f,a.bindingValueChanged),a.bindingValueChanged()),a.model.set({label:e,binding:f,controlType:g,choices:h}),b.modal("hide"),b.remove(),d(".modal-backdrop").remove()})}});b.exports=k},{"../helpers/DialogBox":33,"../helpers/Utility":55,"../templates/comboBox.html":85,"../templates/editInputDialog.html":94,"../views/WidgetView":106,jquery:164,underscore:365}],105:[function(a,b,c){"use strict";var d=a("react/addons"),e=a("../forms/ReactFormElements.jsx"),f=e.TextArea,g=a("../forms/ReactFormFooter.jsx"),h=a("../helpers/ReactModal.jsx"),i=d.createClass({displayName:"ReactCellExportDialog",propTypes:{codeSnippet:d.PropTypes.string.isRequired},componentDidMount:function(){this.refs.textarea.select()},render:function(){var a=d.createElement("h3",null,"Cell Export"),b=d.createElement("div",null,d.createElement("span",null,"Paste the code below into the body of any HTML file."),d.createElement(f,{ref:"textarea",textareaID:"cell-export-textarea",defaultValue:this.props.codeSnippet,rows:10})),c=d.createElement(g,{confirmButton:"Done"});return d.createElement(h,{modalName:"export-notebook-cell-dialog",header:a,body:b,footer:c})}});b.exports=i},{"../forms/ReactFormElements.jsx":26,"../forms/ReactFormFooter.jsx":27,"../helpers/ReactModal.jsx":50,"react/addons":188}],106:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("backbone"),g=a("../constants/DashboardConstants"),h=a("../helpers/DialogBox"),i=a("../helpers/Utility"),j=f.View.extend({initialize:function(a){this.options=a||{};var b=this;if(this.editable=this.options.editable,this.configurable=this.model.has("configurable")?this.model.get("configurable"):!1,this.parent=this.options.parent,this.resizable=this.model.get("resizable"),this.customizable=this.model.get("customizable"),this.$el.addClass("widget"),this.editable&&this.$el.addClass("movable"),this.$el.css({left:this.model.get("x")+"px",top:this.model.get("y")+"px",width:i.fixLength(this.model.get("width")),height:i.fixLength(this.model.get("height"))}),this.editable){var c=g.GRID_STEP;this.$el.draggable({grid:[c,c],stack:".widget"}),this.$el.resizable({grid:c,handles:"all",minWidth:140,minHeight:30}),this.$el.click(function(){b.parent.editMode&&(b.select(),b.bringWidgetOnTop(),f(b.$el))});var f=function(a){b.parent.coordinatesBox.text(Math.round(a.position().left)+", "+Math.round(a.position().top)+", "+Math.round(a.width())+"x"+Math.round(a.height()))};this.$el.on("resizestart",function(a,c){b.select(),b.bringWidgetOnTop(),b.parent.$el.addClass("resize-active"),f(c.element)}),this.$el.on("resize",function(a,c){f(c.element),b.parent.updateHeight()}),this.$el.on("resizestop",function(a,c){f(c.element),b.model.set({width:c.element.width(),height:c.element.height(),x:c.helper.position().left,y:c.helper.position().top}),b.parent.$el.removeClass("resize-active"),b.render()}),this.$el.on("dragstart",function(a,c){b.select(),b.parent.$el.addClass("drag-active")}),this.$el.on("dragstop",function(a,c){b.parent.$(".widget").removeClass("glow-drop"),b.select(),f(c.helper),b.model.set({x:c.helper.position().left,y:c.helper.position().top}),b.parent.$el.removeClass("drag-active")}),this.$el.on("drag",function(a,c){c&&(f(c.helper),b.parent.updateHeight())})}else this.resizable&&(this.$el.resizable({handles:"se",minWidth:140,minHeight:30,maxWidth:this.customizable?this.parent.$el.width():this.model.get("maxChartWidth")}),this.$el.on("resizestart",function(a,c){b.select(),b.$el.resizable({maxWidth:b.customizable?b.parent.$el.width():b.model.get("maxChartWidth")})}),this.$el.on("resizestop",function(a,c){b.model.set({width:c.element.width(),height:c.element.height()}),b.deselect(),b.parent.modelChanged(),b.render()}));if(this.configurable||this.editable){var h=d('<div class="widget-controls"></div>'),j=d('<span class="wrapper"></div>');h.append(j);var k=d('<a class="edit-button" title="Edit" href="#"><i class="fa fa-pencil"></i></a>');if(k.on("click",e.bind(this.onEdit,this)),j.append(k),this.editable){var l=d('<a class="remove-button" title="Delete" href="#"><i class="fa fa-remove"></i></a>');l.on("click",e.bind(this.onRemove,this)),j.append(l)}this.$el.append(h)}this.contentArea=d("<div>").attr("class","widget-content"),this.$el.append(this.contentArea),this.listenTo(this.model,"change:x change:y change:width change:height",this.coordinatesChanged),this.listenTo(this.model,"change:resizable",this.resizabilityChanged),this.listenTo(this.model,"change",this.modelChanged),e.defer(function(){b.curHeight=b.$el.height()})},resizabilityChanged:function(){if(!this.editable){this.resizable=this.model.get("resizable");var a=this;a.resizable===!0?(a.oldWidth&&a.oldHeight&&this.model.set({width:a.oldWidth,height:a.oldHeight}),a.$el.resizable({handles:"se",minWidth:140,minHeight:30,maxWidth:this.customizable?this.parent.$el.width():this.model.get("maxChartWidth")}),a.$el.on("resizestart",function(b,c){a.select(),a.$el.resizable({maxWidth:a.customizable?a.parent.$el.width():a.model.get("maxChartWidth")})}),a.$el.on("resizestop",function(b,c){a.model.set({width:c.element.width(),height:c.element.height()}),a.deselect()})):(a.$el.resizable("destroy"),a.oldWidth=a.model.get("width"),a.oldHeight=a.model.get("height"),a.model.set({width:"auto",height:"auto"}))}},getCurrentHeight:function(){return this.curHeight},modelChanged:function(){var a=this;if(this.model.changedAttributes()){var b=e.keys(this.model.changedAttributes());e.difference(b,["data","schema","state","running","error"]).length>0&&setTimeout(function(){a.parent.modelChanged()},0)}},coordinatesChanged:function(){this.$el.css({left:this.model.get("x")+"px",top:this.model.get("y")+"px",width:i.fixLength(this.model.get("width")),height:i.fixLength(this.model.get("height"))}),this.parent.updateHeight()},select:function(a){this.parent.$(".widget").removeClass("glow"),this.parent.$(".widget").removeClass("glow-dep"),this.$el.addClass("glow");for(var b=this.getDependentWidgets(),c=0;c<b.length;c++)b[c].$el.addClass("glow-dep")},deselect:function(){this.parent.$(".widget").removeClass("glow"),this.parent.$(".widget").removeClass("glow-dep"),this.$el.removeClass("glow");for(var a=this.getDependentWidgets(),b=0;b<a.length;b++)a[b].$el.removeClass("glow-dep")},onRemove:function(a){a.preventDefault();var b=this;a.shiftKey?b.removeFromDashboard():h.confirm({message:"Are you sure you want to remove this widget?",confirmButton:"Remove Widget",confirm:function(){b.removeFromDashboard()}})},removeFromDashboard:function(){console.log("removeFromDashboard");var a=this.parent.model;a.set("widgets",e.without(a.get("widgets"),this.model)),this.model.destroy(),this.parent.widgetViews=e.without(this.parent.widgetViews,this),delete this.parent.guidToWidgetView[this.model.get("guid")],this.parent.modelChanged(),this.remove()},onEdit:function(a){a.preventDefault(),void 0!==this.showEditDialog&&this.showEditDialog()},bringWidgetOnTop:function(){for(var a,b=this.parent.widgetViews,c=0,d=-1e3,e=0;e<b.length;e++)a=parseInt(b[e].$el.css("z-index")),a>c?c=a:d=a;if(d===c)this.$el.css("z-index",parseInt(c+1));else{var f=parseInt(this.$el.css("z-index"));for(e=0;e<b.length;e++)a=parseInt(b[e].$el.css("z-index")),a>f&&b[e].$el.css("z-index",parseInt(a-1));this.$el.css("z-index",c)}},getDependentWidgets:function(){var a,b,c,d=this.parent.widgetViews,f=[],g="",h="",i="";if("input"===this.model.get("type"))for(g=this.model.get("binding"),a=0;a<d.length;a++)b=d[a],b!==this&&("input"===b.model.get("type")?g===b.model.get("binding")&&f.push(b):(h=b.model.get("query"),i=b.model.get("language"),c=b.model.has("arguments")?e.keys(b.model.get("arguments")):{},console.log("compare "+g," to ",h),"undefined"!=typeof h&&"undefined"!=typeof g&&e.contains(c,g)&&f.push(b)));else for(h=this.model.get("query"),i=this.model.get("language"),c=this.model.has("arguments")?e.keys(this.model.get("arguments")):{},a=0;a<d.length;a++)b=d[a],"input"===b.model.get("type")&&(g=b.model.get("binding"),b!==this&&(console.log("compare "+g," to ",h),"undefined"!=typeof h&&"undefined"!=typeof g&&e.contains(c,g)&&f.push(b)));return f}});b.exports=j},{"../constants/DashboardConstants":9,"../helpers/DialogBox":33,"../helpers/Utility":55,backbone:151,jquery:164,underscore:365}],107:[function(a,b,c){"use strict";var d=a("underscore"),e=a("d3"),f=a("../constants/ChartConstants"),g=a("../visualizations/CategoricalChart"),h=a("../visualizations/VizUtil"),i=g.extend({constructor:function(a){g.call(this,a),this.areaContainer=this.foreground.append("g"),this.setDefaultOptions([{inputType:"radio",label:"Overlapped",key:"grouped",value:!0},{inputType:"radio",label:"Stacked",key:"stacked",value:!1},{inputType:"radio",label:"100% Stacked",key:"100_stacked",value:!1}])},setupYScale:function(a){var b=i.__super__.setupYScale.apply(this,arguments),c=b.domain()[0],d=b.domain()[1];return c=c>0?0:c,d=0>d?0:d,b.domain([c,d]).nice(),b},plotSeries:function(a,b,c){b=a.length>0?a[0].length-b-2:0;var g;g=this.getOption("grouped")?.85:1;var i=this.xMargin,j=c.groupWidth,k=c.yScale,l=c.keyFunc;c.drawYAxis(),c.drawXAxis();var m=function(a,b){return i+(b+.5)*j},n=this,o=function(a){return k(h.getBarY.call(n,a,b,h.plotType.AREA_PLOT))},p=e.svg.area().x(m).y1(o).y0(k(0)),q=this.areaContainer.selectAll(".area"+b).data(),r=[];q.length>0&&(r=q[0]);var s=this.areaContainer.selectAll(".area"+b).data([a]);s.enter().append("path").attr("class","area"+b).attr("fill","none").attr("stroke",f.COLOR_SCALE(b)).attr("stroke-width","2px"),r.length>0&&r[0].length===a.length&&!d.isEqual(r,a)?s.transition().attr("d",p):(s.attr("class","removed").transition().attr("opacity",0).remove(),s=this.areaContainer.selectAll(".area"+b).data([a]),s.enter().append("path").attr("class","area"+b).attr("fill",f.COLOR_SCALE(b)).attr("stroke",e.rgb(f.COLOR_SCALE(b)).brighter().toString()).attr("stroke-width","2px").attr("opacity",0).attr("d",p).transition().attr("opacity",g),s.on("mouseenter",function(){e.select(this).attr("stroke-width","4px").attr("opacity",1);var a=e.mouse(this);A.showTooltip(a[0],a[1]-10,c.valueColumnNames[b])}),s.on("mouseleave",function(){e.select(this).attr("stroke-width","2px").attr("opacity",g),A.hideTooltip()}));var t=e.scale.linear().domain([15,50]).range([3.5,1.5]).clamp(!0),u=t(a.length),v=e.scale.linear().domain([15,50]).range([1.5,1]).clamp(!0),w=v(a.length);a.length>50&&(u=0,w=0);var x=this.foreground.selectAll(".circle"+b).data(a,l);x.enter().append("circle").attr("class","circle"+b).attr("fill","white").attr("stroke",f.COLOR_SCALE(b)).attr("stroke-width","0px").attr("r","0px").attr("cx",m).attr("cy",o).attr("opacity",0),x.transition().attr("cx",m).attr("cy",o).attr("r",u+"px").attr("stroke-width",w+"px").attr("opacity",0),x.exit().transition().attr("opacity",0).remove(),this.hovers.selectAll(".hoverArea"+b).remove();var y=this.hovers.selectAll(".hoverArea"+b).data(a,l).enter().append("circle").attr("class","hoverArea"+b).attr("fill","black").attr("stroke","none").attr("opacity",0).attr("r","12px").attr("cx",m).attr("cy",o),z=h.tooltipNumFormat,A=this;y.on("mouseenter",function(c,d){e.select(x[0][d]).attr("fill",f.COLOR_SCALE(b));var g=m(c,d),h=k(c[b+1])-6-u-w-(a.length>50?1.5:0);A.showTooltip(g,h,c[0]+": "+z(c[b+1])),s.attr("stroke-width","4px")}),y.on("mouseleave",function(a,b){e.select(x[0][b]).attr("fill","white"),s.attr("stroke-width","2px"),A.hideTooltip()})},removeSeries:function(a,b,c){this.foreground.selectAll(".area"+b).attr("class","removed").transition().attr("opacity",0).remove(),this.foreground.selectAll(".circle"+b).attr("class","removed").transition().attr("opacity",0).remove(),this.hovers.selectAll(".hoverArea"+b).remove()}});b.exports=i},{"../constants/ChartConstants":7,"../visualizations/CategoricalChart":110,"../visualizations/VizUtil":126,d3:152,underscore:365}],108:[function(a,b,c){"use strict";var d=a("d3"),e=a("../constants/ChartConstants"),f=a("../visualizations/CategoricalChart"),g=a("../visualizations/VizUtil"),h=f.extend({constructor:function(a){f.call(this,a),this.setDefaultOptions([{inputType:"radio",label:"Grouped",key:"grouped",value:!0},{inputType:"radio",label:"Stacked",key:"stacked",value:!1},{inputType:"radio",label:"100% Stacked",key:"100_stacked",value:!1}])},getBarX:function(a,b,c){var d;return d=this.getOption("stacked")||this.getOption("100_stacked")?.125:.125+.75*c/a.numSeries,this.xMargin+(b+d)*a.groupWidth},getBarWidth:function(a){var b;return b=this.getOption("stacked")||this.getOption("100_stacked")?.75*a.groupWidth:.75*a.groupWidth/a.numSeries},getBarHeight:function(a,b,c){var d=a.yScale,e=Math.abs(d(0)-d(b[c+1]));if(this.getOption("100_stacked")){for(var f=0,g=1;g<b.length;g+=1)f+=Math.abs(b[g]);e=0===f?0:100*e/f}return e},plotSeries:function(a,b,c){var f=(this.getOption("stacked"),c.keyFunc),h=c.yScale,i=h.domain();i[0]>0&&(i[0]=0,h.domain(i).nice()),i[1]<0&&(i[1]=0,h.domain(i).nice()),c.drawYAxis(),c.drawXAxis();var j=this,k=this.foreground.selectAll(".series"+b).data(a,f);k.enter().append("rect").attr("class","series"+b).attr("y",h(0)).attr("x",function(a,d){return j.getBarX(c,d,b)}).attr("height",0).attr("width",j.getBarWidth(c)).attr("fill",e.COLOR_SCALE(b)),k.transition().attr("y",function(a){var c=g.getBarY.call(j,a,b,g.plotType.BAR_PLOT);return h(c)}).attr("x",function(a,d){return j.getBarX(c,d,b)}).attr("height",function(a){return j.getBarHeight(c,a,b)}).attr("width",j.getBarWidth(c)),k.exit().transition().attr("y",h(0)).attr("height",0).remove();var l=g.tooltipNumFormat,m=this;k.on("mouseover",function(a,f){var i=d.rgb(e.COLOR_SCALE(b));d.select(this).attr("fill",i.darker(1));var k=j.getBarX(c,f,b)+j.getBarWidth(c)/2,n=h(g.getBarY.call(j,a,b,g.plotType.BAR_PLOT))-6;m.showTooltip(k,n,a[0]+": "+l(a[b+1]))}),k.on("mouseout",function(){d.select(this).attr("fill",e.COLOR_SCALE(b)),m.hideTooltip()})},removeSeries:function(a,b,c){var d=c.yScale;this.foreground.selectAll(".series"+b).attr("class","removed").transition().attr("y",d(0)).attr("height",0).remove()}});b.exports=h},{"../constants/ChartConstants":7,"../visualizations/CategoricalChart":110,"../visualizations/VizUtil":126,d3:152}],109:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("../constants/ChartConstants"),h=a("../helpers/DomUtil"),i=a("../visualizations/Chart"),j=a("../visualizations/PlotLayout"),k=a("../visualizations/VizUtil"),l=i.extend({showText:function(a){this.svg.append("text").text(a).attr("x","0px").attr("y",this.height-5).attr("text-align","left").attr("fill","#999")},inferColumns:function(a){return k.findColumns(1,1,a)},prepareData:function(a,b,c,d){return k.projectColumns(a,b,c,d)},removePlot:function(){i.prototype.removePlot.call(this),this.svg.selectAll(".cell").remove(),this.svg.selectAll(".axis").remove()},plot:function(a,b,c,k,l){function m(a){for(var b=1.5,c=f.quantile(a,.25),d=f.quantile(a,.5),e=f.quantile(a,.75),g=(e-c)*b,h=0;a[h]<c-g;)h+=1;
for(var i=a.length-1;a[i]>e+g;)i-=1;return{q1:c,q2:d,q3:e,w1:a[h],w2:a[i]}}function n(b){var c;o.length>0&&(c=r[b.row]);var g=e.filter(a,function(a){return void 0===c?!0:a[0]===c}).map(function(a){return a[o.length]}),h=g.sort(f.ascending),i=f.select(this),j=m(h);j.label=c;var k=b.height,l=2,n=e.filter(h,function(a){return a<j.w1||a>j.w2}),p=i.selectAll("line").data([j]);p.enter().append("line").attr("class","whisker").attr("x1",function(a){return M(a.w1)}).attr("y1",k/2).attr("x2",function(a){return M(a.w2)}).attr("y2",k/2),p.enter().append("line").attr("class","box").attr("x1",function(a){return M(a.w1)}).attr("y1",k/4+l).attr("x2",function(a){return M(a.w1)}).attr("y2",3*k/4-l),p.enter().append("line").attr("class","box").attr("x1",function(a){return M(a.w2)}).attr("y1",k/4+l).attr("x2",function(a){return M(a.w2)}).attr("y2",3*k/4-l),p.enter().append("rect").attr("class","box").attr("x",function(a){return M(a.q1)}).attr("y",l).attr("width",function(a){return M(a.q3)-M(a.q1)}).attr("height",k-2*l).attr("median",function(a){return a.q2}).on("mousemove",function(a,b){var c=f.select(this).attr("median"),e="Median: "+H(c),g=d("#tooltip").css("font-size");g=parseFloat(g.slice(0,g.length-2)),f.select("#tooltip").style("left",f.event.pageX-g*e.length/3+"px").style("top",f.event.pageY-2*g+"px").select("#value").text(e),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)}),p.enter().append("line").attr("class","box").attr("x1",function(a){return M(a.q2)}).attr("y1",l).attr("x2",function(a){return M(a.q2)}).attr("y2",k-l),p.data(n).enter().append("circle").attr("class","box").attr("cx",function(a){return M(a)}).attr("cy",k/2).attr("r",2.5).on("mousemove",function(a,b){var c=parseFloat(a).toFixed(2),e=d("#tooltip").css("font-size");e=parseFloat(e.slice(0,e.length-2)),f.select("#tooltip").style("left",f.event.pageX-e*c.length/3+"px").style("top",f.event.pageY-2*e+"px").select("#value").text(c),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)}),void 0!==c&&p.enter().append("text").attr("class","axis").attr("font-size",C+"px").text(function(a){return a.label}).attr("text-anchor","left").attr("x",-F+A/2).attr("y",k/2+C/4),p.enter().append("text").attr("class","axis").attr("font-size","10px").text(function(a){return H(a.q1)}).attr("text-anchor","left").attr("x",function(a){return M(a.q1)-I}).attr("y",l),p.enter().append("text").attr("class","axis").attr("font-size","10px").text(function(a){return H(a.q3)}).attr("text-anchor","right").attr("x",function(a){return M(a.q3)}).attr("y",l)}i.prototype.plot.call(this,a,b,c,k,l);var o=0===b.length?[]:b.split(", ");if(a.length<1)return this.showText("No data to plot."),void d(this.svg.node()).empty();if(a[0].length<1)return this.removePlot(),void this.showText("Need at least one column to create a box-plot.");if(1!==c.length)return this.removePlot(),void this.showText("Need at least one column to create a box-plot.");var p=a[0];if("string"==typeof p[o.length])return this.removePlot(),void this.showText("Cannot plot non-numeric values");var q=1,r=[];if(1===o.length)r=e.uniq(a.map(function(a){return a[0]})),q=r.length;else if(o.length>1){for(var s,t,u,v=[],w=function(a,b){return a+", "+b},x=0;x<a.length;x++)t=a[x],s=e.reduce(t.slice(0,o.length),w),u=[s,t[o.length]],v.push(u);o=[b],a=v,r=e.uniq(a.map(function(a){return a[0]})),q=r.length}this.removePlot();var y=10,z="";r.length>0&&(z=e.max(r,function(a){return a.length}));var A=20,B=20,C=g.LABEL_FONT_SIZE,D=g.LABEL_FONT_WEIGHT,E=g.FONT_SIZE,F=1.5*h.strSize(z,C).width+15,G=2,H=f.format(".2s"),I=h.strSize(H(10000.0001),E).width,J=j.getGridLayout(1,q,F,A,this.width,this.height-2*B,y,A),K=J[q-1].y+J[0].height;if(J[0].height<15){for(var L=q;(this.height-2*B)/L<25;)L-=1;this.showText("The plot area is too small. Showing first "+L+" keys."),J=j.getGridLayout(1,L,F,A,this.width,this.height-2*B,y,A)}var M=f.scale.linear().domain(f.extent(a,function(a){return a[o.length]})).range([G,J[0].width-G]);this.svg.selectAll(".cell").data(J).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+(G+a.x)+","+(G+a.y)+")"}).each(n);var N=f.svg.axis().scale(M);this.svg.append("g").attr("class","x axis").attr("transform","translate("+J[0].x+","+(K+B)+")").attr("font-size",E+"px").attr("fill","#333").call(N.orient("bottom").tickFormat(H));var O=c[0];if(this.svg.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(O).attr("text-anchor","middle").attr("x",this.width/2-h.strSize(O,C).width/2).attr("y",K+3*B).attr("font-size",C+"px").attr("fill","#333").style("font-weight",D),r.length>0){var P=h.strSize(o,C);this.svg.selectAll(".ylabel").data(o).enter().append("text").attr("class","ylabel").text(function(a){return a}).attr("text-anchor","left").attr("transform","translate(0, "+this.height/2+") rotate(-90)").attr("y",P.height-2).attr("font-size",C+"px").attr("fill","#333").style("font-weight",D)}}});b.exports=l},{"../constants/ChartConstants":7,"../helpers/DomUtil":34,"../visualizations/Chart":111,"../visualizations/PlotLayout":119,"../visualizations/VizUtil":126,d3:152,jquery:164,underscore:365}],110:[function(a,b,c){"use strict";var d=a("d3"),e=a("../constants/ChartConstants"),f=a("../helpers/DomUtil"),g=a("../visualizations/Chart"),h=a("../visualizations/Legend"),i=a("../visualizations/VizUtil"),j=g.extend({constructor:function(a){g.call(this),this.width=660,this.height=250,this.yMargin=52,this.svg=d.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"}),this.background=this.svg.append("g"),this.foreground=this.svg.append("g"),this.tooltip=this.svg.append("g").attr("opacity",0),this.tooltip.append("rect").attr("fill","#333").attr("opacity",.75).attr("rx",4).attr("ry",4).attr("height",15).attr("width",300),this.tooltip.append("polygon").attr("fill","#333").attr("opacity",.75),this.tooltip.append("text").text("TOOLTIP").attr("class","tooltip-text").attr("font-size","12px").attr("text-anchor","middle").attr("fill","white"),this.hovers=this.svg.append("g"),this.firstRender=!0},plotSeries:function(a,b,c){},removeSeries:function(a,b,c){},removePlot:function(){this.svg.selectAll(".xlabel").remove(),this.svg.selectAll(".ylabel").remove()},inferColumns:function(a){var b=i.findColumns(1,2,a);return 0===b.xColumns.length&&b.xColumns.push("<id>"),b},setupYScale:function(a){var b,c,e=this.getOption("stacked"),f=this.getOption("100_stacked");if(e){for(var g=0,h=0,i=0;i<a.length;i+=1){for(var j=0,k=0,l=1;l<a[i].length;l+=1){var m=a[i][l];m>=0?j+=m:k+=m}g=Math.max(g,j),h=Math.min(h,k)}b=g,c=h}else if(f){var n=a.map(function(a){return a.slice(1)}).reduce(function(a,b){return a.concat(b)});b=d.max(n)>0?100:0,c=d.min(n)<0?-100:0}else{var o=a.map(function(a){return a.slice(1)}).reduce(function(a,b){return a.concat(b)});b=d.max(o),c=d.min(o)}var p=d.scale.linear().domain([c,b]).nice(),q=.02*(p.domain()[1]-p.domain()[0]);if(!f&&q>p.domain()[1]-b){var r=0===c?0:c-q,s=0===b?0:b+q;p.domain([r,s]).nice()}return p},plot:function(a,b,c,i,j,k){g.prototype.plot.call(this,a,b,c,i,j),this.removePlot(),a=this.dropDuplicateKeys(a);var l=k.yColumns?k.yColumns.join(", "):"",m=b,n=e.LABEL_FONT_SIZE,o=e.LABEL_FONT_WEIGHT,p=this.oldNumSeries||0,q=c.length;this.oldNumSeries=q,i=this.width,j=this.height;var r=this.yMargin,s=0,t=e.FONT_SIZE;q>1&&(s=h.getMaxLabelWidth(this.svg,c,t),s+=4*t);var u=function(a){return a[0]},v=this.setupYScale(a),w=(j-r-25)/t/2.5;w=Math.ceil(Math.max(w,2));var x=v.ticks(w),y=d.max(x),z=d.format("0,.f"),A=function(a){return z(a)+"%"};this.xMargin=f.strSize(z(y),n).width+10+2*f.strSize(l,n).height;var B=this.xMargin;v.range([j-r,25]);var C=d.scale.ordinal().domain(a.map(u)).rangePoints([B,i-10-s],1),D=(i-10-s-B)/a.length;this.svg.selectAll(".xlabel").data([m]).enter().append("text").attr("class","xlabel").text(function(a){return a}).attr("text-anchor","middle").transition().attr("x",(this.width+B)/2-f.strSize(m,n).width/2).attr("y",this.height-f.strSize(m,n).height).attr("font-size",n+"px").attr("fill","#333").style("font-weight",o);var E=f.strSize(l,n);this.svg.selectAll(".ylabel").data([l]).enter().append("text").attr("class","ylabel").text(l).attr("text-anchor","left").attr("transform","translate(0, "+this.height/2+") rotate(-90)").attr("y",E.height-2).attr("font-size",n+"px").attr("fill","#333").style("font-weight",o);var F=this.background.selectAll(".tick-line").data(x);F.enter().append("line").attr("class","tick-line").style("stroke","#ccc").attr("opacity",0),F.transition().attr({x1:B,x2:i-10-s,y1:v,y2:v,opacity:1}),F.exit().transition().attr("opacity",0).remove();var G,H=this.getOption("100_stacked"),I=function(){this.yAxis=d.svg.axis().scale(v).orient("left").ticks(w).tickFormat(z),H&&this.yAxis.tickFormat(A),this.firstRender&&this.background.append("g").attr("class","axis y-axis").attr("opacity",0),this.background.selectAll(".y-axis").transition().attr("transform","translate("+B+",0)").attr("opacity",a.length?1:0).call(this.yAxis)},J=function(){var b=5;if(a.length>0){var c=a.map(u).map(function(a){return a.length}),e=c.reduce(function(a,b){return a+b})/a.length;b=(i-B-s)/(8*e)}var f=this.limitTicks(a.map(u),b);this.xAxis=d.svg.axis().scale(C).orient("bottom").tickValues(f),this.firstRender&&this.background.append("g").attr("class","axis x-axis").attr("opacity",0),this.background.selectAll(".x-axis").transition().attr("transform","translate(0,"+(j-r)+")").attr("opacity",a.length?1:0).call(this.xAxis).attr("transform","translate(0,"+(j-r)+")")},K={yScale:v,xScale:C,keyFunc:u,groupWidth:D,numSeries:q,oldNumSeries:p,valueColumnNames:c,drawXAxis:J.bind(this),drawYAxis:I.bind(this)};for(G=0;q>G;G++)this.plotSeries(a,G,K);for(G=q;p>G;G++)this.removeSeries(a,G,K);q>1?h.plotVerticalLegend(this.svg,c,100,i-s+t,r,t,e.COLOR_SCALE,!0,k.pivotColumns?k.pivotColumns.join(", "):""):this.svg.selectAll(".legend").remove(),this.firstRender=!1},dropDuplicateKeys:function(a){var b={},c=[];return a.forEach(function(a){b[a[0]]||(b[a[0]]=!0,c.push(a))}),c.length<a.length&&console.warn("Array with duplicate keys passed to CategoricalChart",a),c},limitTicks:function(a,b){if(b>=a.length)return a;for(var c=Math.max(1,Math.ceil(a.length/b)),d=[],e=0;e<a.length;e+=c)d.push(a[e]);return d},showTooltip:function(a,b,c){var d=this.tooltip;b=Math.round(b),d.select("polygon").attr("points",a-3+","+(b+3)+" "+a+","+(b+6)+" "+(a+3)+" "+(b+3)),d.select("text").text(c).attr("x",a).attr("y",b);var e=d.select("text").node().getComputedTextLength()+10;a+e/2>this.width?(a-=a+e/2-this.width,d.select("text").attr("x",a)):0>a-e/2&&(a+=e/2-a,d.select("text").attr("x",a)),d.select("rect").attr("x",a-e/2).attr("y",b-12).attr("width",e),d.attr("opacity",1)},hideTooltip:function(){this.tooltip.attr("opacity",0)}});b.exports=j},{"../constants/ChartConstants":7,"../helpers/DomUtil":34,"../visualizations/Chart":111,"../visualizations/Legend":113,"../visualizations/VizUtil":126,d3:152}],111:[function(a,b,c){"use strict";var d=a("backbone"),e=a("d3"),f=a("../constants/ChartConstants"),g=a("../helpers/Utility"),h=a("../visualizations/Pivot"),i=function(a){this.width=f.DEFAULT_AUTO_WIDTH,this.height=f.DEFAULT_AUTO_HEIGHT,this.parentElement=a,this.canvas=e.select(a).append("canvas").attr({"class":"chart",width:this.width,height:this.height}).node(),this.svg=e.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"}),this._plotOptions=[],this._parsedOptions={}};i.prototype.plot=function(a,b,c,d,f,g){!isNaN(d)&&d>0&&(this.width=d),!isNaN(f)&&f>0&&(this.height=f),this.svg.attr({width:this.width,height:this.height}),e.select(this.canvas).attr({width:this.width,height:this.height})},i.prototype.removePlot=function(){this.svg.selectAll("text").remove()},i.prototype.getOptions=function(){return this._plotOptions},i.prototype.setOptions=function(a){var b,c={};for(b=0;b<a.length;b++)c[a[b].key]=a[b].value;for(this._parsedOptions={},b=0;b<this._plotOptions.length;b++){var d=this._plotOptions[b].key;void 0!==c[d]&&(this._plotOptions[b].value=c[d]),this._parsedOptions[d]=this._plotOptions[b].value}},i.prototype.setDefaultOptions=function(a){this._plotOptions=a,this.setOptions(a)},i.prototype.getOption=function(a){return this._parsedOptions[a]},i.prototype.inferColumns=function(a){if(0===a.length)return{xColumns:["<id>"],yColumns:[]};for(var b=a.length-1,c=[],d=[];b>=0;)d.length>0?d.length<2&&d.push(a[b].name):g.isNumeric(a[b].type)&&(b>0||0===c.length)?c.length<2&&c.push(a[b].name):c.length>0&&d.length<2&&d.push(a[b].name),b-=1;return 0===d.length&&d.push("<id>"),d.reverse(),c.reverse(),{xColumns:d,yColumns:c}},i.prototype.prepareData=function(a,b,c,d,e,f){var g=b.map(function(a){return a.name}).concat(["<id>"]);return h.pivot(a,g,c,d,e,f)},i.prototype.showText=function(a){this.svg.append("text").text(a).attr("x","0px").attr("y","20px").attr("text-align","left").attr("fill","#999")},i.extend=d.Model.extend,b.exports=i},{"../constants/ChartConstants":7,"../helpers/Utility":55,"../visualizations/Pivot":117,backbone:151,d3:152}],112:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("../constants/PieChartConstants"),h=a("../visualizations/TrellisPlot"),i=h.extend({constructor:function(a){h.call(this,a),this.setDefaultOptions([{inputType:"text",label:"Number of bins",key:"bins",value:"20"}])},getXLabel:function(a,b,c){return c[0]},getYLabel:function(a,b,c){return"Density"},getXScale:function(a,b,c,d,e){var g,h=parseInt(this.getOption("bins")),i=f.extent(b,function(a){return a[c.length]});return g=2*(i[1]-i[0])/h,f.scale.linear().domain([i[0]-g,i[1]+g])},getYScale:function(a,b,c,d,g){var h,i;if(c.length>2)return void this.showText("Error inferring columns. There should not be more than two keys.");2===c.length?(h=e.uniq(b.map(function(a){return a[0]})),i=e.uniq(b.map(function(a){return a[1]}))):1===c.length&&(h=e.uniq(b.map(function(a){return a[0]})));var j=function(a,b){return function(c){return void 0===a?!0:void 0===b?c[0]===a:c[0]===a&&c[1]===b}},k=function(a){var b,d;return c.length>1&&(d=i[a.row]),c.length>0&&(b=h[a.col]),{X:b,Y:d}};if(g.usingAggData===!0){var l=c.length,m=c.length+1,n=b[1][l]-b[0][l];this.hists=a.map(function(a){var c=k(a),d=e.filter(b,j(c.X,c.Y)),f=e.sortBy(d,function(a){return a[l]});return e.map(f,function(a){return{dx:n,x:a[l],y:a[m]}})})}else{var o=this.getXScale(a,b,c,d,g),p=parseInt(this.getOption("bins"));this.hists=a.map(function(a){var d=k(a),g=e.filter(b,j(d.X,d.Y)).map(function(a){return a[c.length]});return f.layout.histogram().bins(o.ticks(p))(g)})}var q,r=e.map(this.hists,function(a){var b=a.map(function(a){return a.y});return q=e.reduce(b,function(a,b){return a+b},0),0===q&&(q=1),e.max(b)/q}),s=e.max(r);return f.scale.linear().domain([0,1.1*s])},plotPanel:function(a,b,c,e,h,i,j){var k,l,m=this;k=this.hists[b.index];var n=k.map(function(a){return a.y});if(l=f.sum(n),0===l&&(l=1),void 0!==k[0]&&void 0!==k[0].dx){var o=h(k[0].dx);k.length>1&&(o=h(k[1].x)-h(k[0].x)),1>o&&(o=1),a.selectAll("rect").data(k).enter().append("rect").attr("width",Math.floor(o)).attr("transform",function(a){return"translate("+h(a.x)+","+(i(a.y/l)-m.padding)+")"}).attr("height",function(a){var c=b.height-i(a.y/l);return c>0?c:0}).attr("fill",g.COLOR_SCALE(0)).on("mousemove",function(a,b){var c=f.rgb(g.COLOR_SCALE(0));f.select(this).attr("fill",c.darker(1));var e=parseFloat(a.x).toFixed(2)+": "+parseFloat(a.y/l).toFixed(2),h=d("#tooltip").css("font-size");h=parseFloat(h.slice(0,h.length-2)),f.select("#tooltip").style("left",f.event.pageX-h*e.length/3+"px").style("top",f.event.pageY-2*h+"px").select("#value").text(e),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select(this).attr("fill",g.COLOR_SCALE(0)),f.select("#tooltip").classed("hidden",!0)})}}});b.exports=i},{"../constants/PieChartConstants":14,"../visualizations/TrellisPlot":125,d3:152,jquery:164,underscore:365}],113:[function(a,b,c){"use strict";var d=a("../constants/LegendConstants"),e=a("../constants/ChartConstants"),f={};f.getMaxLabelWidth=function(a,b,c){var d=a.selectAll("text.computeMaxWidth");d.attr("class","").remove(),d=a.selectAll("text.computeMaxWidth").data(b),d.enter().append("text").attr("class","computeMaxWidth").text(String).attr("x",0).attr("y",0).attr("font-size",c+"px").attr("fill","#333").attr("opacity",0);var e=0;return d.each(function(a){var b=this.getComputedTextLength();0===b&&(b=a.length*c),e=Math.max(e,b)}),d.exit().remove(),e},f.removeLegend=function(a,b){a.selectAll("rect.series"+b).remove(),a.selectAll("text.series"+b).remove(),a.selectAll("text.legend-title").remove()},f.plotVerticalLegend=function(a,b,c,f,g,h,i,j,k){var l=a.selectAll(".legend").data([1]);l.enter().append("g").attr("class","legend");var m=e.LABEL_FONT_SIZE,n=e.LABEL_FONT_WEIGHT;l.selectAll("text.legend-title").remove();var o=l.selectAll(".legend-title").data([k]).enter().append("text").attr("class","legend-title").text(k).attr("text-anchor","left");o.transition().attr("x",f).attr("y",function(a,c){return j?g+c*m*d.LINE_SPACING-m/2-5:g+(b.length-c-1)*m*d.LINE_SPACING}).attr("font-size",m+"px").attr("fill","#333").style("font-weight",n);var p=l.selectAll("rect.series"+c).data(b);p.enter().append("rect").attr("class","series"+c).attr("x",f).attr("y",function(a,c){return j?g+c*h*d.LINE_SPACING:g+(b.length-c-1)*h*d.LINE_SPACING}).attr("width",h).attr("height",h).attr("fill",function(a,b){return i(b)}).attr("stroke","white").attr("opacity",1),p.transition().attr("x",f).attr("y",function(a,c){return j?g+c*h*d.LINE_SPACING:g+(b.length-c-1)*h*d.LINE_SPACING}).attr("width",h).attr("height",h).attr("fill",function(a,b){return i(b)}),p.exit().transition().attr("height",0).remove();var q=l.selectAll("text.series"+c).data(b);q.enter().append("text").attr("class","series"+c).text(function(a){return a}).attr("text-anchor","start").attr("x",f+Math.ceil(1.6*h)).attr("y",function(a,c){return j?g+c*h*d.LINE_SPACING+h*d.LINE_SPACING/2+2:g+(b.length-c-1)*h*d.LINE_SPACING+h*d.LINE_SPACING/2+2}).attr("font-size",h+"px").attr("fill","#333"),q.transition().text(function(a){return a}).attr("x",f+Math.ceil(1.6*h)).attr("y",function(a,c){return j?g+c*h*d.LINE_SPACING+h*d.LINE_SPACING/2+2:g+(b.length-c-1)*h*d.LINE_SPACING+h*d.LINE_SPACING/2+2}).attr("font-size",h+"px"),q.exit().remove()},f.plotHorizontalLegend=function(a,b,c,e,f,g,h,i,j){var k=a.selectAll(".legend").data([1]);k.enter().append("g").attr("class","legend");var l=Math.floor(h/g);1>l&&(l=1);var m=k.selectAll("rect.series"+c).data(b);m.enter().append("rect").attr("class","series"+c).attr("x",function(a,b){return e+b%l*g}).attr("y",function(a,b){return f+Math.floor(b/l)*i*d.LINE_SPACING+i*(d.LINE_SPACING-1)}).attr("width",i).attr("height",0).attr("fill",function(a,b){return j(b)}).attr("opacity",1),m.transition().attr("x",function(a,b){return e+b%l*g}).attr("y",function(a,b){return f+Math.floor(b/l)*i*d.LINE_SPACING+i*(d.LINE_SPACING-1)}).attr("width",i).attr("height",i).attr("fill",function(a,b){return j(b)}),m.exit().transition().attr("height",0).remove();var n=k.selectAll("text.series"+c).data(b);n.enter().append("text").attr("class","series"+c).text(function(a){return a}).attr("text-anchor","start").attr("x",function(a,b){return e+b%l*g+Math.ceil(1.6*i)}).attr("y",function(a,b){return f+Math.floor(b/l)*i*d.LINE_SPACING+i*(3*d.LINE_SPACING/2-1)}).attr("font-size",i+"px").attr("fill","#333"),n.transition().text(function(a){return a}).attr("x",function(a,b){return e+b%l*g+Math.ceil(1.6*i)}).attr("y",function(a,b){return f+Math.floor(b/l)*i*d.LINE_SPACING+i*(3*d.LINE_SPACING/2-1)}).attr("font-size",i+"px"),n.exit().remove()},b.exports=f},{"../constants/ChartConstants":7,"../constants/LegendConstants":12}],114:[function(a,b,c){"use strict";var d=a("underscore"),e=a("d3"),f=a("../constants/ChartConstants"),g=a("../visualizations/CategoricalChart"),h=a("../visualizations/VizUtil"),i=g.extend({constructor:function(a){g.call(this,a),this.lineContainer=this.foreground.append("g")},plotSeries:function(a,b,c){var g=this.xMargin,i=c.groupWidth,j=c.yScale,k=c.keyFunc;c.drawYAxis(),c.drawXAxis();var l=function(a,b){return g+(b+.5)*i},m=function(a){return j(a[b+1])},n=e.svg.line().x(l).y(m),o=this.lineContainer.selectAll(".line"+b).data(),p=[];o.length>0&&(p=o[0]);var q=this.lineContainer.selectAll(".line"+b).data([a]);q.enter().append("path").attr("class","line"+b).attr("fill","none").attr("stroke",f.COLOR_SCALE(b)).attr("stroke-width","2px"),p.length>0&&p[0].length===a.length&&!d.isEqual(p,a)?q.transition().attr("d",n):(q.attr("class","removed").transition().attr("opacity",0).remove(),q=this.lineContainer.selectAll(".line"+b).data([a]),q.enter().append("path").attr("class","line"+b).attr("fill","none").attr("stroke",f.COLOR_SCALE(b)).attr("stroke-width","2px").attr("opacity",0).attr("d",n).transition().attr("opacity",1),q.on("mouseenter",function(){e.select(this).attr("stroke-width","4px");var a=e.mouse(this);y.showTooltip(a[0],a[1]-10,c.valueColumnNames[b])}),q.on("mouseleave",function(){e.select(this).attr("stroke-width","2px"),y.hideTooltip()}));var r=e.scale.linear().domain([15,50]).range([3.5,1.5]).clamp(!0),s=r(a.length),t=e.scale.linear().domain([15,50]).range([1.5,1]).clamp(!0),u=t(a.length);a.length>50&&(s=0,u=0);var v=this.foreground.selectAll(".circle"+b).data(a,k);v.enter().append("circle").attr("class","circle"+b).attr("fill","white").attr("stroke",f.COLOR_SCALE(b)).attr("stroke-width","0px").attr("r","0px").attr("cx",l).attr("cy",m).attr("opacity",0),v.transition().attr("cx",l).attr("cy",m).attr("r",s+"px").attr("stroke-width",u+"px").attr("opacity",1),v.exit().transition().attr("opacity",0).remove(),this.hovers.selectAll(".hoverArea"+b).remove();var w=this.hovers.selectAll(".hoverArea"+b).data(a,k).enter().append("circle").attr("class","hoverArea"+b).attr("fill","black").attr("stroke","none").attr("opacity",0).attr("r","12px").attr("cx",l).attr("cy",m),x=h.tooltipNumFormat,y=this;w.on("mouseenter",function(c,d){e.select(v[0][d]).attr("fill",f.COLOR_SCALE(b));var g=l(c,d),h=j(c[b+1])-6-s-u-(a.length>50?1.5:0);y.showTooltip(g,h,c[0]+": "+x(c[b+1])),q.attr("stroke-width","4px")}),w.on("mouseleave",function(a,b){e.select(v[0][b]).attr("fill","white"),q.attr("stroke-width","2px"),y.hideTooltip()})},removeSeries:function(a,b,c){this.foreground.selectAll(".line"+b).attr("class","removed").transition().attr("opacity",0).remove(),this.foreground.selectAll(".circle"+b).attr("class","removed").transition().attr("opacity",0).remove(),this.hovers.selectAll(".hoverArea"+b).remove()}});b.exports=i},{"../constants/ChartConstants":7,"../visualizations/CategoricalChart":110,"../visualizations/VizUtil":126,d3:152,underscore:365}],115:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("../constants/CountryCodeMap"),h=a("../constants/LegendConstants"),i=a("../constants/MapPlotConstants"),j=a("../constants/StateCodeMap"),k=a("../helpers/MapCodes"),l=a("../helpers/Utility"),m=a("../visualizations/Chart"),n=a("../visualizations/Legend"),o=m.extend({constructor:function(a){m.call(this),this.width=650,this.height=260,this.parentElement=a,this.svg=f.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"}),this.zoomArea=this.svg.append("g"),this.mapArea=this.zoomArea.append("g"),this.legendArea=this.zoomArea.append("g"),this.buttons=this.svg.append("g"),this.plusButton=this.buttons.append("g").attr("class","map-zoom-button").attr("width",20).attr("height",20).on("click",e.bind(this.zoomIn,this)),this.plusButton.append("rect").attr("width",20).attr("height",20).attr("rx",3).attr("ry",3),this.plusButton.append("text").text("+").attr("x",4).attr("y",15),this.minusButton=this.buttons.append("g").attr("class","map-zoom-button").attr("transform","translate(0,26)").attr("width",20).attr("height",20).on("click",e.bind(this.zoomOut,this)),this.minusButton.append("rect").attr("width",20).attr("height",20).attr("rx",3).attr("ry",3),this.minusButton.append("text").html("&#8722;").attr("x",4).attr("y",15),this.oldWidth=null,this.oldHeight=null},showText:function(a){this.svg.append("text").attr("class","warning-msg").text(a).attr("x","0px").attr("y","20px")},showMultilineText:function(a){for(var b=0;b<a.length;b++){var c="0x",d=20+b*i.LABEL_FONT_SIZE*h.LINE_SPACING+"px";this.svg.append("text").attr("class","warning-msg").text(a[b]).attr("x",c).attr("y",d)}},removeText:function(){this.svg.selectAll(".warning-msg").remove()},getCode:function(a,b){switch(a){case i.TYPE_US:return b.properties.postal;case i.TYPE_WORLD:return b.properties.adm0_a3;default:return}},getLabel:function(a,b){switch(a){case i.TYPE_US:return b.properties.postal;case i.TYPE_WORLD:return g[b.properties.adm0_a3];default:return}},getTooltipText:function(a,b,c,d){var e,f,h,k="",l=0;switch(a){case i.TYPE_US:f=b.properties.postal,h=j[f];break;case i.TYPE_WORLD:f=b.properties.adm0_a3,h=g[f]}if(k=h,f in d)for(var m=d[f],n=1;n<=c.length;n++)e=1===c.length?": "+this.roundNumber(m[n]):", "+c[n-1]+": "+this.roundNumber(m[n]),e.length>l&&(l=e.length),k+=e;return{maxLineLength:l,label:k}},getValue:function(a,b,c){var d;switch(a){case i.TYPE_US:d=b.properties.postal;break;case i.TYPE_WORLD:d=b.properties.adm0_a3}for(var e=0;e<c.length;e++)if(c[e][0].toUpperCase()===d)return parseFloat(c[e][1])},getRangeTicks:function(a){var b=[],c=a.map(function(a){return parseFloat(a[1])}),d=e.max(c);if(0===d)return[0,0];for(var g=f.scale.linear().domain([0,d]).nice(i.MAX_TICKS),h=i.MAX_TICKS;h>0&&(b=g.ticks(h),!(b.length<i.MAX_TICKS));h--);if(1===b.length)for(h=0;h<=i.MAX_TICKS;h++)b[h]=h*d/i.MAX_TICKS;return b},getColorIdx:function(a,b){if(void 0===a)return a;if(a<b[0])return 0;for(var c=0;c<b.length;c++)if(a<b[c])return c;return a>=b[b.length-1]?b.length-1:0},initMapProjection:function(a,b,c){var d,e,g,h;switch(a){case i.TYPE_US:d=Math.min(i.SCALE_HEIGHT_US_ALBERSUSA*c,i.SCALE_WIDTH_US_ALBERSUSA*b),e=Math.floor(8e3/d),g=f.geo.albersUsa().scale(d).translate([b/2,c/2]),h=l.getResourceUrl("data/us-map.json");break;case i.TYPE_WORLD:d=Math.min(i.SCALE_HEIGHT_WORLD_MERCATOR*c,i.SCALE_WIDTH_WORLD_MERCATOR*b),e=Math.floor(1500/d),g=f.geo.mercator().scale(d).translate([b/2,.7*c]),h=l.getResourceUrl("data/world-map.json")}return{initScale:d,maxZoom:e,projection:g,filemap:h}},roundNumber:function(a){return a===Math.floor(a)?a:1>a?a.toFixed(2):100>a?a.toFixed(1):a.toFixed(0)},plotMap:function(a,b,c,e,g){var j,k=this.getRangeTicks(b),l=!1;(e!==this.oldWidth||g!==this.oldHeight)&&(this.oldWidth=e,this.oldHeight=g,l=!0);var m={};for(j=0;j<b.length;j++)m[b[j][0].toUpperCase()]=b[j];var o=[];for(o[0]="N/A",j=0;j<k.length-1;j++)o[j+1]=k[j]+"-"+k[j+1];var p=n.getMaxLabelWidth(this.svg,o,i.LABEL_FONT_SIZE);e-=p,e-=2*i.LEGEND_BORDER,e-=2*i.LABEL_FONT_SIZE;var q=this.initMapProjection(a,e,g),r=f.geo.path().projection(q.projection),s=this;this.loadMap(q.filemap,function(j,t){if(j)return this.mapArea.html(""),console.warn(j);s.showMap();var u=function(){w.attr("transform","translate("+f.event.translate+")scale("+f.event.scale+")"),w.selectAll("path").style("stroke-width",1/f.event.scale+"px"),x.attr("transform",function(b){var c=s.adjustPos(a,s.getCode(a,b),r.bounds(b),r.centroid(b));if(f.event.scale>1){var d=[f.event.translate[0]/(1-f.event.scale),f.event.translate[1]/(1-f.event.scale)];c[0]=d[0]+(c[0]-d[0])*f.event.scale,c[1]=d[1]+(c[1]-d[1])*f.event.scale}else c[0]+=f.event.translate[0],c[1]+=f.event.translate[1];return"translate("+c+")"}).style("display",function(b){var c=s.getLabel(a,b);if(void 0===c||!(b.properties.adm0_a3 in m))return"none";var d=f.event.scale*s.width/600;return s.getFontSize(r.bounds(b),c)*d>=y||d>=q.maxZoom-.1?"inline":"none"})};s.zoom=f.behavior.zoom().translate([0,0]).scale(1).scaleExtent([1,q.maxZoom]).on("zoom",u);var v=s.mapArea.select(".map-overlay");v.empty()&&s.mapArea.append("rect").attr("class","map-overlay").attr("width",e).attr("height",g),s.mapArea.call(s.zoom).on("wheel.zoom",null),l&&(s.mapArea.selectAll("g.mapunits").remove(),s.mapArea.selectAll(".mapunit-label").remove());var w=s.mapArea.selectAll("g.mapunits").data(t.features);w.enter().append("g").attr("class","mapunits").append("path").attr("d",r).style("fill",function(c){return i.FILL_COLOR_SCALE(s.getColorIdx(s.getValue(a,c,b),k))}),w.select("path").transition().style("fill",function(c){return i.FILL_COLOR_SCALE(s.getColorIdx(s.getValue(a,c,b),k))}),w.on("mousemove",function(b,e){var g=s.getTooltipText(a,b,c,m),h=g.label,i=d("#tooltip p").css("font-size");i=parseFloat(i.slice(0,i.length-2)),f.select("#tooltip").style("left",f.event.pageX-i*g.maxLineLength/3+"px").style("top",f.event.pageY-2*i+"px").select("#value").text(h),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)}),f.select("#tooltip").classed("hidden",!0);var x=s.mapArea.selectAll(".mapunit-label").data(t.features);x.enter().append("text").attr("class","mapunit-label").attr("transform",function(b){var c=s.adjustPos(a,s.getCode(a,b),r.bounds(b),r.centroid(b));return"translate("+c+")"}).attr("dy",".35em").text(function(b){return s.getLabel(a,b)}).style("fill",function(c){return i.TEXT_COLOR_SCALE(s.getColorIdx(s.getValue(a,c,b),k))}),x.transition().text(function(b){return s.getLabel(a,b)}).style("fill",function(c){return i.TEXT_COLOR_SCALE(s.getColorIdx(s.getValue(a,c,b),k))});var y=d(".mapunit-label").css("font-size");y=void 0===y?i.LABEL_FONT_SIZE:parseFloat(y.slice(0,y.length-2)),x.style("display",function(b){var c=s.getLabel(a,b);if(void 0===c||!(b.properties.adm0_a3 in m))return"none";var d=s.width/600,e=s.getFontSize(r.bounds(b),c)*d>=y;return e?"inline":"none"}),null===s.legendArea.select(".map-legend")[0][0]&&s.legendArea.append("rect").attr("class","map-legend");var z=o.length*i.LABEL_FONT_SIZE*h.LINE_SPACING,A=4;s.legendArea.select(".map-legend").attr("x",e).attr("y",-4).attr("width",p+2*i.LEGEND_BORDER+2*i.LABEL_FONT_SIZE+2*A).attr("height",z+i.LEGEND_BORDER+2+A).attr("rx",A).attr("ry",A),n.plotVerticalLegend(s.legendArea,o,0,e+i.LEGEND_BORDER,i.LEGEND_BORDER,i.LABEL_FONT_SIZE,i.FILL_COLOR_SCALE,!1)})},getFontSize:function(a,b){return Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1])/b.length},adjustPos:function(a,b,c,d){switch(a){case i.TYPE_WORLD:switch(b){case"USA":d[0]+=.15*(c[1][0]-c[0][0]),d[1]+=.2*(c[1][1]-c[0][1]);break;case"CAN":d[0]-=.15*(c[1][0]-c[0][0]),d[1]+=.2*(c[1][1]-c[0][1]);break;case"NOR":d[0]-=.3*(c[1][0]-c[0][0]),d[1]+=.45*(c[1][1]-c[0][1]);break;case"FRA":d[0]+=.05*(c[1][0]-c[0][0]),d[1]-=.05*(c[1][1]-c[0][1])}}return d},plot:function(a,b,c,d,e,f){m.prototype.plot.call(this,a,b,c,d,e);var g=0;if(this.removeText(),this.buttons.attr("transform","translate(4.5,4.5)"),a.length<1)return this.hideMap(),void this.showText("No data to plot.");if(a[0].length<1)return this.hideMap(),void this.showText("Need at least two columns to create a map.");c.length>1&&(this.showText("More than two numerical columns. Only the values of the first one will be shown."),this.buttons.attr("transform","translate(4.5,28.5)"));var h,j,l=k.USStates(a);if(l["in"]>l.out){if(g=i.TYPE_US,l.out.length){for(this.removeText(),h="Following states were not found: ",j=0;j<l.out.length;j++)h+=l.out[j],j<l.out.length-1&&(h+=", ");this.showText(h),this.buttons.attr("transform","translate(4.5,28.5)")}}else{var n=k.World(a);if(!(n["in"]>n.out)){var o=[];return this.removeText(),o[0]="Unrecognizable values in the first column. The values should be either ",o[1]="country codes in ISO 3166-1 alpha-3 format or US state postal codes",this.hideMap(),void this.showMultilineText(o)}if(g=i.TYPE_WORLD,n.out.length){for(this.removeText(),h="Following countries were not found: ",j=0;j<n.out.length;j++)h+=n.out[j],j<n.out.length-1&&(h+=", ");this.showText(h),this.buttons.attr("transform","translate(4.5,28.5)")}}for(j=0;j<a.length;j++)if(a[j][1]=parseFloat(a[j][1]),isNaN(a[j][1]))return this.hideMap(),void this.showText("Second column must contain numerical values");this.plotMap(g,a,c,this.width,this.height)},hideMap:function(){
this.buttons.style("display","none"),this.zoomArea.style("display","none"),this.mapArea.html(""),this.zoom=null},showMap:function(){this.buttons.style("display","inline"),this.zoomArea.style("display","inline")},zoomBy:function(a){if(this.zoom){var b=this.zoom.scale(),c=this.zoom.scaleExtent(),d=Math.min(c[1],Math.max(c[0],b*a)),e=this.zoom.translate()[0],f=(this.width/2-e)/b,g=this.width/2-f*d,h=this.zoom.translate()[1],i=(this.height/2-h)/b,j=this.height/2-i*d;this.zoom.scale(d),this.zoom.translate([g,j]),this.zoom.event(this.mapArea)}},zoomIn:function(){this.zoomBy(1.5)},zoomOut:function(){this.zoomBy(1/1.5)},loadMap:function(a,b){o.mapCache[a]?b(null,o.mapCache[a]):f.json(a,function(c,d){c||(o.mapCache[a]=d),b(c,d)})}});o.mapCache={},b.exports=o},{"../constants/CountryCodeMap":8,"../constants/LegendConstants":12,"../constants/MapPlotConstants":13,"../constants/StateCodeMap":16,"../helpers/MapCodes":43,"../helpers/Utility":55,"../visualizations/Chart":111,"../visualizations/Legend":113,d3:152,jquery:164,underscore:365}],116:[function(a,b,c){"use strict";var d=a("jquery"),e=a("d3"),f=a("../constants/ChartConstants"),g=a("../constants/PieChartConstants"),h=a("../constants/LegendConstants"),i=a("../visualizations/Chart"),j=a("../visualizations/VizUtil"),k=a("../visualizations/PlotLayout"),l=a("../visualizations/Legend"),m=i.extend({constructor:function(a){i.call(this,a),this.setDefaultOptions([{inputType:"checkbox",label:"Donut",key:"donut",value:!0}])},getHorizLegendSize:function(a,b,c,d){var e=Math.floor(d/c),f=Math.ceil(a/e);return{height:b*f*h.LINE_SPACING,width:c*Math.min(e,a)}},getLayout:function(a,b,c){var d=l.getMaxLabelWidth(this.svg,a,h.DEF_FONT_SIZE),e=d+2*h.DEF_FONT_SIZE,f=this.getHorizLegendSize(a.length,h.DEF_FONT_SIZE,e,b).height;return c-f>b-e?this.getHorizontalLayout(a.length,e,h.DEF_FONT_SIZE,b,c):this.getVerticalLayout(a.length,e,h.DEF_FONT_SIZE,b,c)},getVerticalLayout:function(a,b,c,d,e){var f;e<a*c*h.LINE_SPACING&&(f=Math.max(h.MIN_FONT_SIZE,Math.floor(e/(a*h.LINE_SPACING))),b*=f/c,c=f);var g,i;return d-e-e/4>b?(g=(d-e-e/4-b)/2,i=e/2):(f=Math.floor(Math.min(c,(c+h.MIN_FONT_SIZE)/2)),b*=f/c,c=f,d-e-e/4>b?(g=(d-e-e/4-b)/2,i=e/2):(i=3*e/8,d-5*i/2>b?g=(d-5*i/2-b)/2:(b*=h.MIN_FONT_SIZE/c,c=h.MIN_FONT_SIZE,i=2*(d-b)/5,g=0))),{vertical:!0,pieRadius:i,xPieCenter:Math.floor(g+i),yPieCenter:Math.floor(e/2),xLegend:Math.floor(g+2*i+i/2),yLegend:Math.floor(e-c*a*h.LINE_SPACING>>1),fontSize:c,labelWidth:b}},getHorizontalLayout:function(a,b,c,d,e){var f=this.getHorizLegendSize(a,c,b,d).height;if(d>e-f){var g=Math.floor(Math.min(c,(c+h.MIN_FONT_SIZE)/2));b*=g/c,c=g,f=this.getHorizLegendSize(a,c,b,d).height}d>e-f&&3*d/4>e-f&&(b*=h.MIN_FONT_SIZE/c,f=this.getHorizLegendSize(a,c,b,d).height);var i=Math.floor(Math.min(d,e-f)/2),j=(e-f-2*i)/2;return{vertical:!1,pieRadius:i,xPieCenter:Math.floor(d/2),yPieCenter:Math.floor(j+i),xLegend:0,yLegend:Math.floor(e-f),fontSize:c,labelWidth:b}},getSeries:function(a,b){for(var c=[],d=[],e=0;e<Math.min(a.length,g.MAX_NUM_PIE_PIECES);e++)c[e]=a[e][b],d[e]=a[e][0];if(a.length>g.MAX_NUM_PIE_PIECES){var f=0;for(e=g.MAX_NUM_PIE_PIECES;e<a.length;e++)f+=a[e][b];c[g.MAX_NUM_PIE_PIECES]=f,d[g.MAX_NUM_PIE_PIECES]="Others"}return{labels:d,numbers:c}},drawPieChart:function(a,b,c,f,h,i,k){k=Math.min(k,11);for(var l=this.getOption("donut"),m=i-k,n=l*m/2,o=e.svg.arc().innerRadius(n).outerRadius(m),p=0,q=0;q<a.length;q++)p+=a[q];var r=e.layout.pie(),s=this.svg.selectAll("g.arc"+b).data(r(a));s.enter().append("g").attr("class","arc"+b).attr("opacity",1).attr("transform","translate("+f+","+h+")").append("path").attr("fill",function(a,b){return g.COLOR_SCALE(b)}).attr("stroke","white").attr("d",o).on("mousemove",function(a,b){var f=e.rgb(g.COLOR_SCALE(b));e.select(this).attr("fill",f.darker(1));var h=j.tooltipNumFormat,i=c[b]+": "+h(a.value),k=d("#tooltip p").css("font-size");k=parseFloat(k.slice(0,k.length-2)),e.select("#tooltip").style("left",e.event.pageX-k*i.length/3+"px").style("top",e.event.pageY-2*k+"px").select("#value").text(i),e.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(a,b){e.select(this).attr("fill",g.COLOR_SCALE(b)),e.select("#tooltip").classed("hidden",!0)}),s.exit().remove(),s.append("text").attr("transform",function(a){var b=o.centroid(a),c=b[0],d=b[1],e=Math.sqrt(c*c+d*d);return(a.endAngle+a.startAngle)/2>11*Math.PI/6||(a.endAngle+a.startAngle)/2<Math.PI/6?"translate("+c*(i-k/2)/e+","+d*(i-k/2)/e+")":"translate("+c*(i-3*k/4)/e+","+d*(i-3*k/4)/e+")"}).attr("dy",".35em").attr("text-anchor",function(a){return(a.endAngle+a.startAngle)/2>Math.PI?"end":"start"}).text(function(a){return Math.round(100*a.value/p)+"%"}).attr("font-size",k+"px")},removePlot:function(){for(var a=1;a<=g.MAX_NUM_PIES;a++)this.removePieChart(a),l.removeLegend(this.svg,a)},removePieChart:function(a){var b=this.svg.selectAll("g.arc"+a);b.attr("opacity",0).remove()},getAreaLayoutWithSharedLegend:function(a,b,c,d){var e,f,i,j,k,m,n=g.BORDER_SIZE,o=[],p=h.DEF_FONT_SIZE,q=l.getMaxLabelWidth(this.svg,b,p),r=q+2*p,s=this.getHorizLegendSize(b.length,p,r,c-4*n),t=s.height,u=s.width;if(3>=a){f=Math.min((c-r-(a+2)*n)/a,d-3*n),i=Math.min((c-(a+1)*n)/a,d-t-4*n),e=p,(f>i&&d-3*n>=f||i>f&&(c-(a+1)*n)/a>=i)&&(e=Math.floor(p+h.MIN_FONT_SIZE)/2),r=r*e/p,t=t*e/p,u=u*e/p,p=e,f=Math.min((c-r-(a+2)*n)/a,d-3*n),i=Math.min((c-(a+1)*n)/a,d-t-4*n),f>i?(j=(c-r-a*(n+f))/2,k=(d-f-n)/2,m=f):(m=i,j=(c-a*m-(a-1)*n)/2,k=(d-m-t-2*n)/2,m=i),o[0]={x:j,y:k,height:m+n,width:m};for(var v=1;a>v;v++)o[v]={x:o[v-1].x+m+n,y:k,height:m+n,width:m}}return 4===a&&(f=Math.min(c-r-4*n,d-5*n),i=Math.min(c-3*n,d-t-6*n),e=p,(f>i&&d-5*n>=f||i>f&&c-3*n>=i)&&(e=Math.floor(p+h.MIN_FONT_SIZE)/2),r=r*e/p,t=t*e/p,u=u*e/p,p=e,f=Math.min(c-r-4*n,d-5*n)/2,i=Math.min(c-3*n,d-t-6*n)/2,f>i?(m=f,j=(c-r-2*m-2*n)/2,k=(d-2*m-3*n)/2):(m=i,j=(c-2*m-n)/2,k=(d-2*m-t-4*n)/2),o[0]={x:j,y:k,width:m,height:m+n},o[1]={x:j+m+n,y:k,width:m,height:m+n},o[2]={x:j,y:k+m+2*n,width:m,height:m+n},o[3]={x:j+m+n,y:k+m+2*n,width:m,height:m+n}),i>f?o[a]={x:(c-u)/2,y:d-k-t,height:t,width:u}:o[a]={x:c-j-r,y:(d-b.length*p*h.LINE_SPACING)/2,height:b.length*p*h.LINE_SPACING,width:r},{pieCells:o,fontSize:p,labelWidth:r,vertical:f>i}},plotPieChartsWithLegends:function(a,b,c){var d=this.width,e=this.height,h=Math.min(a[0].length,g.MAX_NUM_PIES+1)-1,i=[];i=k.getLayout(h,d,e,1.4,0,0,g.BORDER_SIZE,g.BORDER_SIZE);for(var j=1;j<=g.MAX_NUM_PIES;j++)this.removePieChart(j),l.removeLegend(this.svg,j);for(var m=function(a,b){return b[n]-a[n]},n=1;h>=n;n++){a.length>g.MAX_NUM_PIE_PIECES&&a.sort(m);var o=this.getSeries(a,n),p=o.numbers,q=o.labels,r=this.getLayout(q,i[n-1].width,i[n-1].height);this.drawPieChart(p,n,q,r.xPieCenter+i[n-1].x,r.yPieCenter+i[n-1].y,r.pieRadius,r.fontSize),r.vertical?l.plotVerticalLegend(this.svg,q,n,r.xLegend+i[n-1].x,r.yLegend+i[n-1].y,r.fontSize,g.COLOR_SCALE,!0,c):l.plotHorizontalLegend(this.svg,q,n,r.xLegend+i[n-1].x,r.yLegend+i[n-1].y,r.labelWidth,i[n-1].width,r.fontSize,g.COLOR_SCALE)}var s=[];for(j=0;h>j;j++)s[j]=j;1===h&&(s=[]);var t=this.svg.selectAll("text.titles").data(s);t.enter().append("text").attr("class","titles").text(function(a){return b[a]}).attr("text-anchor","middle").attr("x",function(a){return i[a].x+i[a].width/2}).attr("y",function(a){return i[a].y-.5*g.BORDER_SIZE}).attr("font-size",f.LABEL_FONT_SIZE+"px").style("font-weight",f.LABEL_FONT_WEIGHT),t.text(function(a){return b[a]}).attr("x",function(a){return i[a].x+i[a].width/2}).attr("y",function(a){return i[a].y-.5*g.BORDER_SIZE}),t.exit().remove()},getLayoutWithSharedLegend:function(a,b,c,d){var e=g.BORDER_SIZE,i=h.DEF_FONT_SIZE,j=h.MIN_FONT_SIZE,m=h.LINE_SPACING,n=4,o=l.getMaxLabelWidth(this.svg,b,i),p=o+2*i,q=this.getHorizLegendSize(b.length,i,p,c),r=q.height,s=q.width,t=a>1?f.LABEL_FONT_SIZE:0,u=k.getLayout(a,c-p,d,1,0,t,e,e),v=k.getLayout(a,c,d-r,1,0,t,e,e),w=u[0].width>v[0].width?!0:!1;w?(i*m>d&&(i=Math.floor(Math.max(j,d/(i*m)))),n>c/p&&(i=Math.floor(Math.max(j,i*c/(n*p))))):n>d/r&&(i=Math.floor(Math.max(j,i*d/(n*r)))),i!==h.DEF_FONT_SIZE&&(o=l.getMaxLabelWidth(this.svg,b,i),p=o+2*i,q=this.getHorizLegendSize(b.length,i,p,c),r=q.height,s=q.width,u=k.getLayout(a,c-p,d,1,0,t,e,e),v=k.getLayout(a,c,d-r,1,0,t,e,e));var x,y;if(u[0].width>v[0].width){var z=0;for(y=0;a>y;y++)z<u[y].x+u[y].width&&(z=u[y].x+u[y].width);return x={x:z+g.BORDER_SIZE,y:(d-b.length*i*m)/2,labelWidth:p,width:p},{pieCells:u,fontSize:i,yMargin:t,legend:x,vertical:!0}}var A=0;for(y=0;a>y;y++)A<v[y].y+v[y].height&&(A=v[y].y+v[y].height);return x={x:(c-s)/2,y:A,labelWidth:p,width:s},{pieCells:v,fontSize:i,yMargin:t,legend:x,wLegend:0,vertical:!1}},plotPieChartsWithSharedLegend:function(a,b,c){for(var d=this.width,e=this.height,h=Math.min(a[0].length,g.MAX_NUM_PIES+1)-1,i=this.getSeries(a,0),j=i.labels,k=this.getLayoutWithSharedLegend(h,j,d,e),m=k.pieCells,n=k.fontSize,o=k.vertical,p=k.yMargin,q=k.legend,r=1;r<=g.MAX_NUM_PIES;r++)this.removePieChart(r),l.removeLegend(this.svg,r);for(r=1;h>=r;r++){i=this.getSeries(a,r);var s=i.numbers,t=m[r-1].width/2;this.drawPieChart(s,r,j,m[r-1].x+t,m[r-1].y+p+t,t,n)}o?l.plotVerticalLegend(this.svg,j,1,q.x,q.y,n,g.COLOR_SCALE,!0,c):l.plotHorizontalLegend(this.svg,j,1,q.x,q.y,q.labelWidth,q.width,n,g.COLOR_SCALE);var u=[];for(r=0;h>r;r++)u[r]=r;1===h&&(u=[]);var v=this.svg.selectAll("text.titles").data(u);v.enter().append("text").attr("class","titles").text(function(a){return b[a]}).attr("text-anchor","middle").attr("x",function(a){return m[a].x+m[a].width/2}).attr("y",function(a){return m[a].y+.5*p}).attr("font-size",f.LABEL_FONT_SIZE+"px").style("font-weight",f.LABEL_FONT_WEIGHT),v.text(function(a){return b[a]}).attr("x",function(a){return m[a].x+m[a].width/2}).attr("y",function(a){return m[a].y+.5*p}),v.exit().remove()},inferColumns:function(a){var b=j.findColumns(1,2,a);return 0===b.xColumns.length&&b.xColumns.push("<id>"),b},plot:function(a,b,c,e,f,h){return i.prototype.plot.call(this,a,b,c,e,f),!isNaN(e)&&e>0&&!isNaN(f)&&f>0&&(this.width=e,this.height=f,this.svg.attr({width:this.width,height:this.height})),0===a.length?void d(this.svg.node()).empty():(a.length>g.MAX_NUM_PIE_PIECES?this.plotPieChartsWithLegends(a,c,b):this.plotPieChartsWithSharedLegend(a,c,b),void(a[0].length>g.MAX_NUM_PIES+1&&this.showText("More than "+g.MAX_NUM_PIES+" pie charts. We will show only the first "+g.MAX_NUM_PIES+".")))}});b.exports=m},{"../constants/ChartConstants":7,"../constants/LegendConstants":12,"../constants/PieChartConstants":14,"../visualizations/Chart":111,"../visualizations/Legend":113,"../visualizations/PlotLayout":119,"../visualizations/VizUtil":126,d3:152,jquery:164}],117:[function(a,b,c){"use strict";var d=a("underscore"),e={};e.MAX_OUTPUT_SERIES=10,e.sum=function(a){for(var b=0,c=0;c<a.length;c+=1)b+=a[c];return b},e.avg=function(a){return 0===a.length?0:e.sum(a)/a.length},e.max=function(a){if(0===a.length)return 0;for(var b=a[0],c=1;c<a.length;c+=1)a[c]>b&&(b=a[c]);return b},e.min=function(a){if(0===a.length)return 0;for(var b=a[0],c=1;c<a.length;c+=1)a[c]<b&&(b=a[c]);return b},e.count=function(a){return a?a.length:0},e.pivot=function(a,b,c,f,g,h){var i,j,k=!1,l=this.findIndices(b,c),m=this.findIndices(b,f),n=this.findIndices(b,g),o=d.uniq(a.map(function(a){return e.extractFields(a,l)})),p=d.uniq(a.map(function(a){return e.extractFields(a,n)})),q=[],r=0;for(i=0;i<p.length;i++){for(j=0;j<m.length;j++){var s=p[i]+" "+f[j];if(q.push(s),r+=1,r>=e.MAX_OUTPUT_SERIES)break}if(r>=e.MAX_OUTPUT_SERIES)break}p.length*m.length>e.MAX_OUTPUT_SERIES&&(k=!0,console.log("Pivoting would create",p.length*m.length,"series, showing only the first",e.MAX_OUTPUT_SERIES));var t={};for(i=0;i<p.length;i++)t[p[i]]=i;var u,v={},w=[],x=function(a){return[]};for(i=0;i<o.length;i++)v[o[i]]=i,u=d.range(r).map(x),w.push(u);for(i=0;i<a.length;i++){var y=a[i],z=this.extractFields(y,l);u=w[v[z]];var A=this.extractFields(y,n);for(j=0;j<f.length;j++){var B=t[A]*f.length+j;B<e.MAX_OUTPUT_SERIES&&u[B].push(y[m[j]])}}var C=[];for(i=0;i<o.length;i++){var D=new Array(r+1);for(D[0]=o[i],j=0;r>j;j++)D[j+1]=h(w[i][j]);C.push(D)}var E=[];return E=0===n.length?f.slice(0,r):1===m.length?p.slice(0,r):q.slice(0,r),{seriesLimitReached:k,data:C,columns:E.map(this.trimString),key:c.join(", ")}},e.trimString=function(a){var b=40;return a.length>b?a.substr(0,b)+"...":a},e.findIndices=function(a,b){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return b.map(function(a){return c[a]})},e.extractFields=function(a,b){return b.map(function(b){return a[b]}).join(", ")},e.extractFieldsRaw=function(a,b){return b.map(function(b){return a[b]})},b.exports=e},{underscore:365}],118:[function(a,b,c){"use strict";var d={displayTypeIcons:{table:"fa fa-table",barChart:"icon-db-bar",lineChart:"icon-db-line",areaChart:"fa fa-area-chart",pieChart:"icon-db-pie",scatterPlot:"icon-db-scatter",mapPlot:"icon-db-map",quantilePlot:"icon-db-quantile",histogram:"icon-db-histogram",boxPlot:"icon-db-boxplot",qqPlot:"icon-db-qq",pivotTable:"icon-db-pivot"},displayTypeNames:{table:"Raw table",barChart:"Bar chart",lineChart:"Line chart",areaChart:"Area chart",pieChart:"Pie chart",scatterPlot:"Scatter plot",mapPlot:"World map",quantilePlot:"Quantile plot",histogram:"Histogram plot",boxPlot:"Box plot",qqPlot:"Q-Q plot",pivotTable:"Pivot table"},displayTypeShortNames:{table:"Raw",barChart:"Bar",lineChart:"Line",areaChart:"Area",pieChart:"Pie",scatterPlot:"Scatter",mapPlot:"Map",quantilePlot:"Quantile",histogram:"Histogram",boxPlot:"Box plot",qqPlot:"Q-Q plot",pivotTable:"Pivot"},complexPlotTypes:["barChart","lineChart","areaChart","pieChart","scatterPlot","mapPlot","quantilePlot","histogram","boxPlot","pivotTable","qqPlot"]};b.exports=d},{}],119:[function(a,b,c){"use strict";var d={};d.getSquareGridLayout=function(a,b,c,d,e){for(var f=b>c?c:b,g=f-2*e,h=[],i=g/a-d,j=0;a>j;j++)for(var k=0;a>k;k++){var l={index:h.length,row:j,col:k,x:e+j*(i+d),y:e+k*(i+d),width:i,height:i};h.push(l)}return h},d.getGridLayout=function(a,b,c,d,e,f,g,h){for(var i=e-2*h-c,j=f-2*h-d,k=[],l=i/a-g,m=j/b-g,n=0;b>n;n++)for(var o=0;a>o;o++){var p={index:k.length,row:n,col:o,x:c+h+o*(l+g),y:d+h+n*(m+g),width:l,height:m};k.push(p)}return k},d.getLayout=function(a,b,c,d,e,f,g,h){var i,j=[];if(1===a){var k=b-2*g-e>d*(c-2*h-f)?(c-2*h-f)*d:b-2*g-e;j[0]={x:(b-k-e)/2,y:(c-k/d-f)/2,width:k+e,height:k/d+f}}var l,m,n;if(2===a)if(l=Math.min(d*(c-2*h-f),(b-3*g-2*e)/2),m=Math.min(d*(c-3*h-2*f)/2,b-2*g-e),l>m){for(i=0;a>i;i++)j[i]={x:(b-2*l-2*e-h)/2,y:(c-l/d-f)/2,width:l+e,height:l/d+f};j[1].x=j[0].x+l+e+g}else{for(i=0;a>i;i++)j[i]={x:(b-m-e)/2,y:(c-2*m/d-2*f-h)/2,width:m+e,height:m/d+f};j[1].y=j[0].y+m/d+f+h}if(3===a||4===a){if(l=Math.min(c-f-2*h,(b-a*e-(a+1)*g)/(d*a)),m=Math.min((c-2*f-3*h)/2,(b-2*e-3*g)/(2*d)),n=Math.min((c-a*f-(a+1)*h)/a,(b-e-2*g)/d),l>=Math.max(m,n)){for(i=0;a>i;i++)j[i]={x:(b-a*l*d-a*e-(a-1)*g)/a,y:(c-l-f)/2,width:l*d+e,height:l+f};for(i=1;a>i;i++)j[i].x=j[i-1].x+l*d+e+g}if(n>=Math.max(l,m)){for(i=0;a>i;i++)j[i]={x:(b-n*d-e)/2,y:(c-a*n-a*f-(a-1)*h)/a,width:n*d+e,height:n+f};for(i=1;a>i;i++)j[i].y=j[i-1].y+n+f+h}if(m>=Math.max(l,n)){for(i=0;a>i;i++)j[i]={x:(b-m*d-e)/2,y:(c-2*m-2*f-h)/2,width:m*d+e,height:m+f};j[a-2].x=(b-2*m*d-2*e-g)/2,j[a-1].x=j[a-2].x+m*d+e+g,j[a-1].y=j[a-2].y=j[0].y+m+f+h,4===a&&(j[0].x=(b-2*m*d-2*e-g)/2,j[1].x=j[0].x+m*d+e+g)}}return j},b.exports=d},{}],120:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("regression"),h=a("../constants/PieChartConstants"),i=a("../visualizations/TrellisPlot"),j=a("../visualizations/VizUtil"),k=i.extend({getDomain:function(a,b){var c=f.extent(a,function(a){return a[b]});if(c[0]===c[1]){var d=c[0];c[0]=d-.1*d,c[1]=d+.1*d}return c},getXScale:function(a,b,c,d,e){return f.scale.linear().domain(this.getDomain(b,c.length))},getYScale:function(a,b,c,d,e){var g=f.scale.linear().domain([-4,4]);return d.length>1&&(g=f.scale.linear().domain(this.getDomain(b,c.length+1))),g},getXLabel:function(a,b,c){return c[0]+" Quantiles"},getYLabel:function(a,b,c){var d=c.length>1?c[1]:"Normal";return d+" Quantiles"},plotPanel:function(a,b,c,i,k,l,m){function n(){var a,b,c=0,d=0;do c=2*Math.random()-1,d=2*Math.random()-1,a=c*c+d*d;while(0===a||a>1);return b=Math.sqrt(-2*Math.log(a)/a),c*b}if(0===i.length||i[0].length===c.length)return void console.error("No data values to plot");var o=i[0];if("string"==typeof o[c.length])return void console.error("First value is not numeric");if(o[c.length+1]&&"string"==typeof o[c.length+1])return void console.error("Second value is not numeric");var p=e.sortBy(i,function(a){return a[c.length]}).map(function(a){return a[c.length]}),q=[];if(o.length===c.length+1){for(var r=[],s=0;s<i.length;s++)r[s]=n();q=e.sortBy(r,function(a){return a})}else q=e.sortBy(i,function(a){return a[c.length+1]}).map(function(a){return a[c.length+1]});var t=e.zip(p,q);if(t.length>1){var u=k.domain(),v=l.domain(),w=g("linear",t),x=w.equation[0],y=w.equation[1];if(x&&y){var z=j.boxBoundedLine(x,y,u[0],v[0],u[1],v[1]);a.selectAll("line").data([1]).enter().append("line").attr("class","whisker").attr("x1",k(z.x1)).attr("y1",l(z.y1)).attr("x2",k(z.x2)).attr("y2",l(z.y2))}}a.selectAll("circle").data(t).enter().append("circle").attr("class","plot").attr("cx",function(a){return k(a[0])}).attr("cy",function(a){return l(a[1])}).attr("fill",h.COLOR_SCALE(0)).attr("r",3).on("mousemove",function(a,b){var c=parseFloat(a[0]).toFixed(2)+": "+parseFloat(a[1]).toFixed(2),e=d("#tooltip").css("font-size");e=parseFloat(e.slice(0,e.length-2)),f.select("#tooltip").style("left",f.event.pageX-e*c.length/3+"px").style("top",f.event.pageY-2*e+"px").select("#value").text(c),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)})}});b.exports=k},{"../constants/PieChartConstants":14,"../visualizations/TrellisPlot":125,"../visualizations/VizUtil":126,d3:152,jquery:164,regression:361,underscore:365}],121:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("../constants/PieChartConstants"),h=a("../visualizations/TrellisPlot"),i=h.extend({getXScale:function(a,b,c,d,e){return f.scale.linear().domain([0,1])},getYScale:function(a,b,c,d,e){return f.scale.linear().domain(f.extent(b,function(a){return a[c.length]}))},getXLabel:function(a,b,c){return"Quantile"},getYLabel:function(a,b,c){return c[0]},plotPanel:function(a,b,c,h,i,j,k){if(void 0===h||0===h.length)return void console.error("No data to plot in panel",a);var l=h[0];if(void 0===l[c.length]||"string"==typeof l[c.length])return void console.error("Cannot plot nun-numeric values");var m=e.sortBy(h,function(a){return a[c.length]}),n=m.length,o=0,p=m.map(function(a){return o++,[o/n,a[c.length]]});a.selectAll("circle").data(p).enter().append("circle").attr("class","plot").attr("cx",function(a){return i(a[0])}).attr("cy",function(a){return j(a[1])}).attr("fill",g.COLOR_SCALE(0)).attr("r",3).on("click",function(c,d){var e=f.mouse(this);a.append("line").attr({"class":"feedback-grid",x1:0,y1:e[1],x2:b.width,y2:e[1],stroke:"gray","stroke-width":"1.0","shape-rendering":"crispEdges"}),a.append("line").attr({"class":"feedback-grid",x1:e[0],y1:0,x2:e[0],y2:b.height,stroke:"gray","stroke-width":"1.0","shape-rendering":"crispEdges"})}).on("mousemove",function(a,b){var c=f.rgb(g.COLOR_SCALE(0));f.select(this).attr("fill",c.darker(1));var e=parseFloat(a[0]).toFixed(2)+": "+parseFloat(a[1]).toFixed(2),h=d("#tooltip").css("font-size");h=parseFloat(h.slice(0,h.length-2)),f.select("#tooltip").style("left",f.event.pageX-h*e.length/3+"px").style("top",f.event.pageY-2*h+"px").select("#value").text(e),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select(this).attr("fill",g.COLOR_SCALE(0)),a.selectAll(".feedback-grid").remove(),f.select("#tooltip").classed("hidden",!0)})}});b.exports=i},{"../constants/PieChartConstants":14,"../visualizations/TrellisPlot":125,d3:152,jquery:164,underscore:365}],122:[function(a,b,c){"use strict";var d=a("jquery"),e=a("d3"),f=a("../constants/ScatterPlotConstants"),g=a("../constants/ChartConstants"),h=a("../constants/PieChartConstants"),i=a("../helpers/DomUtil"),j=a("../visualizations/Chart"),k=a("../visualizations/VizUtil"),l=j.extend({constructor:function(a){j.call(this),this.svg=e.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"})},prepareData:function(a,b,c,d){return k.projectColumns(a,b,c,d)},removePlot:function(){j.prototype.removePlot.call(this),this.svg.selectAll(".lineContainer").remove()},plot:function(a,b,c,k,l,m){function n(){function a(){var a=I.invert(e.mouse(this)[0]),d=j(r,a,1),f=r[d-1],g=r[d],h=a-f[1]>g[1]-a?g:f;i.attr("transform","translate("+b(h)+","+c(h)+")"),p.showTooltip(b(h),c(h)+10,"threshold: "+A(h[3])),p.hoverLineGroup.classed("hide",!1),p.hoverLineX.attr("x1",b(h)).attr("x2",b(h)),p.hoverLineY.attr("y1",c(h)).attr("y2",c(h)),p.hoverLabelX.text(A(h[2])).attr("x",2).attr("y",c(h)),p.hoverLabelY.text(A(h[1])).attr("x",b(h)).attr("y",H-2)}I.domain(y[1]).range([E,H-E]),J.domain(y[2]).range([H-E,E]);var b=function(a){return I(a[1])+E},c=function(a){return J(a[2])+E},d=p.lineContainer,f=e.svg.line().x(b).y(c),h=d.append("g").selectAll(".line").data([r]);h.enter().append("path").attr("class","line0").attr("fill","none").attr("stroke",g.COLOR_SCALE(0)).attr("stroke-width","2px").attr("opacity",0).attr("d",f).transition().attr("opacity",1);var i=d.append("g").attr("class","focus").style("display","none");i.append("circle").attr("r",4.5).attr("fill","none").attr("stroke","#6E7B8B").attr("stroke-width","2px");var j=e.bisector(function(a){return a[1]}).left;d.append("rect").attr("class","overlay").attr("opacity",0).attr("width",H-2*E).attr("height",H-2*E).on("mouseover",function(){i.style("display",null),p.tooltip.style("display",null)}).on("mouseout",function(){i.style("display","none"),p.tooltip.style("display","none"),p.hoverLineGroup.classed("hide",!0)}).on("mousemove",a)}function o(){var a=p.lineContainer;I.domain(y[1]),J.domain(y[2]);var b=Math.floor(H/z[1]),d=Math.floor(H/(1.5*i.strSize(A(.9901),x).width)),f=e.svg.axis().scale(I).ticks(d),h=e.svg.axis().scale(J).ticks(b);a.append("g").attr("class","y axis").attr("transform","translate("+E+", 0)").attr("font-size",x+"px").call(h.orient("left").tickFormat(A)),a.append("g").attr("class","x axis").attr("transform","translate(0,"+(H-E)+")").attr("font-size",x+"px").call(f.orient("bottom").tickFormat(A)),a.append("g").attr("class","x axis").attr("transform","translate(0,"+(H-E)+")").attr("font-size",x+"px").call(f.orient("top").tickFormat("")),a.append("g").attr("class","x axis").attr("transform","translate(0,"+E+")").attr("font-size",x+"px").call(f.orient("bottom").tickFormat("")),a.append("g").attr("class","y axis").attr("transform","translate("+E+", 0)").attr("font-size",x+"px").call(h.orient("right").tickFormat("")),a.append("g").attr("class","y axis").attr("transform","translate("+(H-E)+", 0)").attr("font-size",x+"px").call(h.orient("left").tickFormat(""));var j=c[0],k=g.LABEL_FONT_SIZE,l=g.LABEL_FONT_WEIGHT;a.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(j).attr("text-anchor","middle").attr("x",E+D+20+H/2-i.strSize(j,k).width/2).attr("y",H+3*i.strSize(j,k).height).attr("font-size",k+"px").attr("fill","#333").style("font-weight",l);var m=c[1],n=i.strSize(m,k);a.selectAll(".ylabel").data([c]).enter().append("text").attr("class","ylabel").attr("transform","translate("+-1*(i.strSize(A("1"),x).width+n.height)+", "+H/2+") rotate(-90)").text(m).text(m).attr("text-anchor","middle").attr("font-size",k+"px").attr("fill","#333").style("font-weight",g.LABEL_FONT_WEIGHT)}j.prototype.plot.call(this,a,b,c,k,l);var p=this;if(a[0].length<1)return this.removePlot(),void this.showText("ROC requires exactly two variables (TPR vs FPR)");for(var q,r=[],s=0;s<a.length;s++){q=[],q[0]=h.COLOR_SCALE(0);for(var t=0;3>t;t++){var u=a[s][t],v=parseFloat(u);if(isNaN(v)){var w="ROC plots are possible only for numerical columns";return this.removePlot(),this.showText(w),void console.error(w,"Column ",t," Row ",s+1," doesn't contain numerical values: ",u)}q.push(v)}r.push(q)}e.select(this.canvas).remove(),this.removePlot(),this.lineContainer=this.svg.append("g").attr("class","lineContainer");var x=g.FONT_SIZE,y=[void 0,[0,1],[0,1]],z=[void 0,24*1.4,24*1.4],A=e.format(".2f"),B=e.max(z),C=f.BORDER_SIZE/2,D=B+1,E=2,F=this.width>this.height?this.height:this.width,G=F-2*D,H=G-C;p.cellDim=G-C;var I=e.scale.linear().range([E,H-E]),J=e.scale.linear().range([H-E,E]);return a.length<1?(this.removePlot(),void this.showText("No data to plot.")):(this.tooltip=this.svg.append("g").attr("opacity",0),this.tooltip.append("rect").attr("fill","#333").attr("opacity",.75).attr("rx",4).attr("ry",4).attr("height",15).attr("width",300),this.tooltip.append("polygon").attr("fill","#333").attr("opacity",.75),this.tooltip.append("text").attr("class","tooltip-text").attr("font-size","12px").attr("text-anchor","middle").attr("fill","white"),this.hoverLineGroup=this.tooltip.append("g").attr("class","hover-line"),this.hoverLineX=this.hoverLineGroup.append("line").attr("x1",10).attr("x2",10).attr("y1",0).attr("y2",H).attr("stroke","#6E7B8B"),this.hoverLineY=this.hoverLineGroup.append("line").attr("x1",0).attr("x2",H).attr("y1",10).attr("y2",10).attr("stroke","#6E7B8B"),this.hoverLineGroup.classed("hide",!0),this.hoverLabelX=this.hoverLineGroup.append("text").attr("font-size","12px").attr("text-anchor","start").attr("fill","black").attr("stroke",null),this.hoverLabelY=this.hoverLineGroup.append("text").attr("font-size","12px").attr("text-anchor","start").attr("fill","black").attr("stroke",null),o(),n(),this.lineContainer.selectAll("baseline").data([1]).enter().append("line").attr("class","whisker").attr("x1",I(0)).attr("y1",J(0)).attr("x2",I(1)).attr("y2",J(1)),this.lineContainer.attr("transform","translate("+(E+D+20)+","+(E+D-30)+")"),this.tooltip.attr("transform","translate("+(E+D+20)+","+(E+D-30)+")"),void d(this.canvas).css("cursor","auto"))},showTooltip:function(a,b,c){var d=this.tooltip,e=d.select("rect"),f=d.select("polygon"),g=d.select(".tooltip-text"),h=Math.round(b);f.attr("points",a-3+" "+h+","+(a+3)+" "+h+","+a+" "+(h-6)),g.text(c);var i=g.node().getComputedTextLength()+10,j=e.node().height.baseVal.value+12;a+i/2>this.cellDim?a-=a+i/2-this.cellDim:0>a-i/2&&(a+=i/2-a),h+j>this.cellDim&&(h-=j),g.attr("x",a).attr("y",h+12),e.attr("x",a-i/2).attr("y",h).attr("width",i),d.attr("opacity",1)}});b.exports=l},{"../constants/ChartConstants":7,"../constants/PieChartConstants":14,"../constants/ScatterPlotConstants":15,"../helpers/DomUtil":34,"../visualizations/Chart":111,"../visualizations/VizUtil":126,d3:152,jquery:164}],123:[function(a,b,c){"use strict";var d=a("underscore"),e=a("d3"),f=a("react/addons"),g=f.createClass({displayName:"ReactTree",propTypes:{tabularData:f.PropTypes.array.isRequired},statics:{createD3:function(a,b,c){var d={top:25,right:5,bottom:5,left:5},f=b-d.right-d.left,g=c-d.top-d.bottom,h=e.select(a).append("svg").attr({width:b,height:c,"class":"chart ml-tree"}).append("g").attr("transform","translate("+d.left+","+d.top+")"),i=e.layout.tree().size([g,f]);return{d3Tree:i,svg:h}}},componentWillReceiveProps:function(a){this.updateData(a),this.updateD3()},componentDidMount:function(){this.updateData();var a=g.createD3(this.getDOMNode(),this.treeWidth,this.treeHeight);this.svg=a.svg,this.d3Tree=a.d3Tree,this.updateD3()},updateData:function(a){this.treeHeight||(this.treeHeight=1e3,this.treeWidth=1600),this.tree||(a=this.props),a&&(this.tree=this.reconstructTree(a.tabularData),this.nodeCount=0)},componentDidUpdate:function(){this.componentDidMount()},shouldComponentUpdate:function(){return!1},reconstructTree:function(a){var b=d.map(a,function(a){return JSON.parse(a[0])});return this.reconstructTreeHelper(b)},reconstructTreeHelper:function(a){if(0===a.length)return console.error("missing data when reconstructing the tree"),null;var b=a[0];if(1===a.length)return{name:e.format("g")(b.prediction)};var c=d.filter(a,function(a){return a.index<b.index}),f=d.filter(a,function(a){return a.index>b.index}),g=[];c.length>0&&g.push(this.reconstructTreeHelper(c)),f.length>0&&g.push(this.reconstructTreeHelper(f));var h="",i=!1;return void 0!==b.threshold&&null!==b.threshold&&(h=e.format(".2e")(b.threshold)),b.categories&&(i=!0,console.error("categories",b.categories),h=String(b.categories)),{name:"feature: "+b.feature,split:h,children:g,categorical:i}},updateD3:function(){this.tree&&(this.tree.x0=this.treeHeight/2,this.tree.y0=0,this.updateD3Tree(this.tree))},updateD3Tree:function(a){var b=this,c=0,f=e.svg.diagonal().projection(function(a){return[a.x,a.y]}),g=this.d3Tree.nodes(this.tree).reverse(),h=this.d3Tree.links(g);g.forEach(function(a){a.y=100*a.depth});var i=function(){var a=0;return g.forEach(function(b){a=Math.max(a,b.depth)}),a},j=function(){var a={};g.forEach(function(b){a[b.depth]?a[b.depth]+=1:a[b.depth]=1});var b=0;return d.each(a,function(a){b=Math.max(a,b)}),b},k=function(a){return a.attr("y",function(a){return a.children?-15:15}).text(function(a){return a.name})};e.select(this.getDOMNode()).selectAll("svg").attr("height",function(){var a=i();return Math.max(110*a+100,300)}).attr("width",function(){var a=j();return Math.max(50*a+200,1e3)});var l=this.svg.selectAll("g.node").data(g,function(a){return a.id||(a.id=++b.nodeCount)}),m=l.enter().append("g").attr("class","node").attr("transform",function(b){return"translate("+a.x0+","+a.y0+")"});m.append("circle").attr("class","ml-circle").attr("r",1e-6),k(m.append("text"));var n=l.transition().duration(c).attr("transform",function(a){return"translate("+a.x+","+a.y+")"});n.select("circle").attr("class",function(a){return a.children?"internal":"leaf"}).attr("r",7),k(n.select("text").style("fill-opacity",1));var o=l.exit().transition().duration(c).remove();o.select("circle").attr("r",1e-6),o.select("text");var p=this.svg.selectAll("path.link").data(h,function(a){return a.target.id}),q=this.svg.selectAll(".linklabel").data(h,function(a){return a.target.id});p.enter().insert("path","g").attr("class","link").attr("id",function(a,b){return"link-"+a.source.id+"-"+a.target.id}).attr("d",function(b){var c={x:a.x0,y:a.y0};return f({source:c,target:c})});var r=q.enter().append("text"),s=function(a){return a.attr("x",function(a){var b=2|a.source.split.length,c=-.5*b*5;return(a.source.x+a.target.x)/2+c}).attr("y",function(a){var b=a.source.x>a.target.x,c=b?8:-8;return(a.source.y+a.target.y)/2+c}).text(function(a){return a.source.children[0].name===a.source.children[1].name?"":a.source.children[0].name!==a.target.name||void 0!==a.target.split&&a.source.children[0].split!==a.target.split?a.source.categorical?"∉ ["+a.source.split+"]":">"+a.source.split:a.source.categorical?"∈ ["+a.source.split+"]":"<="+a.source.split})};s(r.attr("class","linklabel").attr("id",function(a,b){return"linklabel"+a.source.id+"-"+a.target.id})),p.transition().duration(c).attr("d",f),s(q.transition()),p.exit().transition().attr("d",function(b){var c={x:a.x,y:a.y};return f({source:c,target:c})}).remove(),q.exit().remove(),g.forEach(function(a){a.x0=a.x,a.y0=a.y})},render:function(){return f.createElement("div",null)}});b.exports=g},{d3:152,"react/addons":188,underscore:365}],124:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("science"),h=a("../constants/ScatterPlotConstants"),i=a("../constants/ChartConstants"),j=a("../constants/PieChartConstants"),k=a("../helpers/DomUtil"),l=a("../visualizations/Chart"),m=a("../visualizations/PlotLayout"),n=a("../visualizations/Legend"),o=a("../visualizations/VizUtil"),p=l.extend({constructor:function(a){l.call(this,a),this.setDefaultOptions([{inputType:"checkbox",label:"Show LOESS",key:"loess",value:!1},{inputType:"slider",label:"Bandwidth",key:"bandwidth",value:.3}])},inferColumns:function(a){return o.findColumns(5,0,a)},prepareData:function(a,b,c,d){return o.projectColumns(a,b,c,d)},removePlot:function(){l.prototype.removePlot.call(this),this.svg.selectAll(".cell").remove(),this.svg.selectAll(".legend").remove(),this.ctx&&this.ctx.clearRect(0,0,this.width,this.height);
},plot:function(a,b,c,g,o,p){function q(a){var b=5,c=1,d=10,e=4e4,f=Math.min(H.width,H.height),g=(b-c)/(d-e)*(a-e)+c;return g=g*f/800,Math.max(Math.floor(g),1)}function r(a){return function(b){return b[a]}}function s(a,b){ca.domain(Q[a.row+1]).range([$,a.width-$]),da.domain(Q[a.col+1]).range([a.height-$,$]);var c,f;if(b===!0){H.ctx.clearRect(a.x,a.y,a.width,a.height);var g,h,i=-1,j=H.selectedPoints.length;if(3>=V){for(g=0;U>g;g++)h=J[g],H.ctx.beginPath(),h[0]!==i&&(H.ctx.fillStyle=h[0]),c=ca(h[a.row+1])+a.x+$,f=da(h[a.col+1])+a.y+$,H.ctx.fillRect(c,f,V,V),h[0]!==i&&H.ctx.closePath(),i=h[0];if(j>0){for(H.ctx.fillStyle="rgba(0, 0, 0, 0.6)",H.ctx.beginPath(),g=0;j>g;g++)h=H.selectedPoints[g],c=ca(h[a.row+1])+a.x+$,f=da(h[a.col+1])+a.y+$,H.ctx.rect(c,f,V,V);H.ctx.fill()}}else{var k=Math.min(V,2.5);for(g=0;U>g;g++)h=J[g],c=ca(h[a.row+1])+a.x+$,f=da(h[a.col+1])+a.y+$,h[0]!==i&&(H.ctx.beginPath(),H.ctx.fillStyle=h[0]),H.ctx.moveTo(c,f),H.ctx.arc(c,f,k,0,2*Math.PI),h[0]!==i&&H.ctx.closePath(),H.ctx.fill(),i=h[0];if(H.ctx.closePath(),H.ctx.fill(),j>0){for(H.ctx.fillStyle="rgba(0, 0, 0, 0.6)",H.ctx.beginPath(),g=0;j>g;g++)h=H.selectedPoints[g],c=ca(h[a.row+1])+a.x+$,f=da(h[a.col+1])+a.y+$,H.ctx.moveTo(c,f),H.ctx.arc(c,f,k,0,2*Math.PI);H.ctx.fill()}}if(H.getOption("loess")){var l=e.sortBy(J.map(function(b){return[ca(b[a.row+1])+a.x+$,da(b[a.col+1])+a.y+$]}),function(a){return a[0]}),m=H.getOption("bandwidth")?H.loessFit(l,parseFloat(H.getOption("bandwidth"))):[];if(e.some(m,function(a){return isNaN(a[1])}))d(".plot-options#slider-value").text(": Error - too small!");else{for(H.ctx.beginPath(),H.ctx.moveTo(m[0][0],m[0][1]),g=1;g<m.length;g++)h=m[g],H.ctx.lineTo(h[0],h[1]);H.ctx.strokeStyle="red",H.ctx.lineWidth=1,H.ctx.stroke(),H.ctx.closePath()}}}}function t(a){var b=f.select(this);ca.domain(Q[a.row+1]),da.domain(Q[a.col+1]);var d=Math.floor(a.height/S[a.col]),e=Math.floor(a.width/(1.5*k.strSize(T(.9901),P).width)),g=f.svg.axis().scale(ca).ticks(e),h=f.svg.axis().scale(da).ticks(d);if((0===a.row&&a.col%2===0||H.singlePanel)&&b.append("g").attr("class","y axis").attr("transform","translate("+$+", 0)").attr("font-size",P+"px").call(h.orient("left").tickFormat(T)),a.row===B-1&&a.col%2!==0&&b.append("g").attr("class","y axis").attr("transform","translate("+(a.width-$)+", 0)").attr("font-size",P+"px").call(h.orient("right").tickFormat(T)),0===a.col&&a.row%2!==0&&b.append("g").attr("class","x axis").attr("transform","translate(0,"+$+")").attr("font-size",P+"px").call(g.orient("top").tickFormat(T)),(a.col===B-1&&a.row%2===0||H.singlePanel)&&b.append("g").attr("class","x axis").attr("transform","translate(0,"+(a.height-$)+")").attr("font-size",P+"px").call(g.orient("bottom").tickFormat(T)),b.append("g").attr("class","x axis").attr("transform","translate(0,"+(a.height-$)+")").attr("font-size",P+"px").call(g.orient("top").tickFormat("")),b.append("g").attr("class","x axis").attr("transform","translate(0,"+$+")").attr("font-size",P+"px").call(g.orient("bottom").tickFormat("")),b.append("g").attr("class","y axis").attr("transform","translate("+$+", 0)").attr("font-size",P+"px").call(h.orient("right").tickFormat("")),b.append("g").attr("class","y axis").attr("transform","translate("+(a.width-$)+", 0)").attr("font-size",P+"px").call(h.orient("left").tickFormat("")),H.singlePanel){var j=c[0],l=i.LABEL_FONT_SIZE,m=i.LABEL_FONT_WEIGHT;b.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(j).attr("text-anchor","middle").attr("x",$+a.width/2).attr("y",a.y+a.height+3*k.strSize(j,l).height).attr("font-size",l+"px").attr("fill","#333").style("font-weight",m);var n=c[1],o=k.strSize(n,l);b.selectAll(".ylabel").data([c]).enter().append("text").attr("class","ylabel").attr("transform","translate("+-1*(k.strSize(T("10000"),P).width+o.height)+", "+a.height/2+") rotate(-90)").text(n).text(n).attr("text-anchor","middle").attr("font-size",l+"px").attr("fill","#333").style("font-weight",i.LABEL_FONT_WEIGHT)}}function u(a){if(a.col===a.row){var b=f.select(this);ca.domain(Q[a.row+1]),da.domain(Q[a.col+1]);var d=c[a.col],e=ea*d.length>a.width?Math.ceil(a.width/d.length)+5:ea;b.append("text").attr("text-anchor","middle").attr("x",$+a.width/2).attr("y",a.height/4).attr("font-size",e+"px").attr("fill","gray").text(d);var g=J.map(function(b){return b[a.row+1]}),h=ca.ticks(100),i=H.kernelDensityEstimator(H.epanechnikovKernel(20),h),j=i(g),k=f.scale.linear().domain(f.extent(j,function(a){return a[1]})).range([a.height-$,$]),l=f.svg.line().x(function(a){return ca(a[0])}).y(function(a){return k(a[1])});b.append("path").datum(j).attr("class","line").attr("d",l)}}function v(a){var b=H.canvas.getBoundingClientRect();return{x:a.clientX-b.left,y:a.clientY-b.top}}function w(a){if(!H.singlePanel){var b=v(a),c={x0:Math.min(H.selectionStart.x,b.x),y0:Math.min(H.selectionStart.y,b.y),x1:Math.max(H.selectionStart.x,b.x),y1:Math.max(H.selectionStart.y,b.y)},d={x0:Math.max(H.curPanel.x,c.x0),y0:Math.max(H.curPanel.y,c.y0),x1:Math.min(H.curPanel.x+H.curPanel.width,c.x1),y1:Math.min(H.curPanel.y+H.curPanel.height,c.y1)};d.width=d.x1-d.x0,d.height=d.y1-d.y0,H.selectedPoints=A(H.curPanel,d),s(H.curPanel,!0),H.ctx.fillStyle="rgba(211, 211, 211, 0.1)",H.ctx.rect(d.x0,d.y0,d.width,d.height),H.ctx.fill()}}function x(a){H.selectionStart=v(a),H.curPanel=z(H.selectionStart)[0],H.selectedPoints=[],H.curPanel&&H.curPanel.col!==H.curPanel.row&&H.canvas.addEventListener("mousemove",w,!1)}function y(a){H.canvas.removeEventListener("mousemove",w,!1),H.ctx.clearRect(0,0,H.width,H.height),ba.map(function(a){return s(a,!0)})}function z(a){return e.filter(H.grid,function(b){return a.x>b.x&&a.y>b.y&&a.x<b.x+b.width&&a.y<b.y+b.height})}function A(a,b){return ca.domain(Q[a.row+1]),da.domain(Q[a.col+1]),e.filter(J,function(c){var d=ca(c[a.row+1])+a.x+$,e=da(c[a.col+1])+a.y+$;return d>=b.x0&&e>=b.y0&&d<=b.x1&&e<=b.y1})}l.prototype.plot.call(this,a,b,c,g,o),f.select(this.canvas).style({"z-index":0}),this.ctx=this.canvas.getContext("2d");var B=c.length,C=0===b.length?[]:b.split(", "),D=C.length>0,E=[],F={};if(D){E=e.uniq(a.map(function(a){return a[0]}));for(var G=0;G<E.length;G++)F[E[G]]=G}var H=this;if(C.length>1)return this.removePlot(),void this.showText("Cannot handle more than one key column");if(a.length<1)return this.removePlot(),void this.showText("No data to plot.");if(a[0].length<1)return this.removePlot(),void this.showText("Need at least two variables to create a scatter plot.");for(var I,J=[],K=0;K<a.length;K++){I=[],D===!0?I[0]=j.COLOR_SCALE(F[a[K][0]]):I[0]=j.COLOR_SCALE(0);for(var L=0+C.length;L<B+C.length;L++){var M=a[K][L],N=parseFloat(M);if(isNaN(N)){var O="Scatterplots are possible only for numerical columns";return this.removePlot(),this.showText(O),void console.error(O,"Column ",L," Row ",K+1," doesn't contain numerical values: ",M)}I.push(N)}J.push(I)}this.removePlot();for(var P=i.FONT_SIZE,Q=[],R=[],S=[],T=f.format(".3s"),U=J.length,V=q(U*B*(B-1)),W=1;B>=W;W++)Q[W]=f.extent(J,r(W)),R[W]=1.4*k.strSize(T(Q[W].head),P).width,S[W]=1.4*k.strSize(T(Q[W].head),P).height;var X=f.max(R),Y=h.BORDER_SIZE/2,Z=X+1,$=2,_=0;if(D){var aa=e.max(E,function(a){return a.length});_=k.strSize(aa,P).width+5*P}if(this.selectedPoints=[],this.singlePanel=!1,2===B)this.singlePanel=!0,this.grid=m.getSquareGridLayout(1,this.width-_,this.height,Y,Z),this.grid[0].row=0,this.grid[0].col=1,this.grid[0].x=this.grid[0].x+20,this.grid[0].y=this.grid[0].y-30;else{if(!(B>2))return this.removePlot(),void this.showText("Need at least two variables to create a scatter plot.");this.grid=m.getSquareGridLayout(B,this.width-_,this.height,Y,Z)}var ba=e.filter(this.grid,function(a){return a.row!==a.col}),ca=f.scale.linear().range([$,this.grid[0].width-$]),da=f.scale.linear().range([this.grid[0].height-$,$]),ea=this.grid[0].width>80?i.LABEL_FONT_SIZE+3:this.grid[0].width/5;if(D===!0){var fa=H.grid.filter(function(a){return 1===a.col}),ga=e.max(fa,function(a){return a.row});n.plotVerticalLegend(this.svg,E,0,ga.x+ga.width+4*P,30,P,j.COLOR_SCALE,!0,C)}this.svg.selectAll(".cell").data(this.grid).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+($+a.x)+","+($+a.y)+")"}).each(t).each(u),ba.map(function(a){return s(a,!0)}),this.canvas.addEventListener("mousedown",x,!1),this.canvas.addEventListener("mouseup",y,!1),this.singlePanel===!1?d(this.canvas).css("cursor","crosshair"):d(this.canvas).css("cursor","auto")},kernelDensityEstimator:function(a,b){return function(c){return b.map(function(b){return[b,f.mean(c,function(c){return a(b-c)})]})}},epanechnikovKernel:function(a){return function(b){return Math.abs(b/=a)<=1?.75*(1-b*b)/a:0}},loessFit:function(a,b){var c=g.stats.loess().bandwidth(b),d=a.map(function(a){return a[0]}),e=a.map(function(a){return a[1]});return f.zip(d,c(d,e))}});b.exports=p},{"../constants/ChartConstants":7,"../constants/PieChartConstants":14,"../constants/ScatterPlotConstants":15,"../helpers/DomUtil":34,"../visualizations/Chart":111,"../visualizations/Legend":113,"../visualizations/PlotLayout":119,"../visualizations/VizUtil":126,d3:152,jquery:164,science:363,underscore:365}],125:[function(a,b,c){"use strict";var d=a("jquery"),e=a("underscore"),f=a("d3"),g=a("../constants/ScatterPlotConstants"),h=a("../constants/ChartConstants"),i=a("../helpers/DomUtil"),j=a("../visualizations/Chart"),k=a("../visualizations/PlotLayout"),l=a("../visualizations/VizUtil"),m=j.extend({inferColumns:function(a){return l.findColumns(1,2,a)},prepareData:function(a,b,c,d){return l.projectColumns(a,b,c,d)},getXLabel:function(a,b,c){return"X Label"},getYLabel:function(a,b,c){return"Y Label"},plotPanel:function(a,b,c,d,e,f,g){},margin:g.BORDER_SIZE/4,gap:55,padding:2,maxUniqueKey:10,getXScale:function(a,b,c,d,e){return f.scale.linear()},getYScale:function(a,b,c,d,e){return f.scale.linear()},removePlot:function(){j.prototype.removePlot.call(this),this.svg.selectAll(".cell").remove(),this.svg.selectAll(".ylabel").remove(),this.svg.selectAll(".xlabel").remove()},plot:function(a,b,c,g,l,m){j.prototype.plot.call(this,a,b,c,g,l,m);var n=this,o=0===b.length?[]:b.split(", ");if(a.length<1)return this.showText("No data to plot."),void d(this.svg.node()).empty();if(a[0].length<1)return void this.showText("Need at least one column to create a Trellis plot.");var p,q,r,s=0,t=0,u=h.FONT_SIZE,v=h.LABEL_FONT_SIZE,w=h.LABEL_FONT_WEIGHT,x=f.format(".2s"),y=f.format(".2s"),z=1,A=1;if(o.length>2)return this.removePlot(),this.showText("Error inferring columns. There should not be more than two keys."),void console.error(a,b,c);2===o.length?(p=e.uniq(a.map(function(a){return a[0]})),z=p.length,q=e.uniq(a.map(function(a){return a[1]})),A=q.length,s=20,t=20):1===o.length&&(p=e.uniq(a.map(function(a){return a[0]})),z=p.length,s=20),z>this.maxUniqueKey&&(this.showText("Too many key values, limiting to first "+this.maxUniqueKey+" values"),z=this.maxUniqueKey),A>this.maxUniqueKey&&(this.showText("Too many key values, limiting to first "+this.maxUniqueKey+" values"),A=this.maxUniqueKey),r=k.getGridLayout(z,A,t,s,this.width,this.height,this.margin,this.gap);var B=function(b){var c,g,h,j=f.select(this),k=Math.floor(b.width/(1.5*i.strSize(y(.9901),u).width)),l=f.svg.axis().scale(C).ticks(k),r=Math.floor(b.height/(1.2*i.strSize("100",u).height)),w=r>15?15:r,B=f.svg.axis().scale(D).ticks(w);o.length>1&&(h=q[b.row]),o.length>0&&(g=p[b.col]);var E;E=e.filter(a,function(a){return void 0===g?!0:void 0===h?a[0]===g:a[0]===g&&a[1]===h}),n.plotPanel(j,b,o,E,C,D,m),0===b.col&&b.row%2===0&&j.append("g").attr("class","y axis").attr("transform","translate("+(n.padding-t)+", 0)").attr("font-size",u+"px").attr("fill","#333").call(B.orient("left").tickFormat(x)),b.col===z-1&&b.row%2!==0&&j.append("g").attr("class","y axis").attr("transform","translate("+(b.width-n.padding)+", 0)").attr("font-size",u+"px").attr("fill","#333").call(B.orient("right").tickFormat(x)),0===b.row&&b.col%2!==0&&j.append("g").attr("class","x axis").attr("transform","translate(0,"+(n.padding-s)+")").attr("font-size",u+"px").attr("fill","#333").call(l.orient("top").tickFormat(y)),b.row===A-1&&b.col%2===0&&j.append("g").attr("class","x axis").attr("transform","translate(0,"+(b.height-n.padding)+")").attr("font-size",u+"px").attr("fill","#333").call(l.orient("bottom").tickFormat(y)),j.append("g").attr("class","x axis").attr("transform","translate(0,"+(b.height-n.padding)+")").attr("font-size",u+"px").attr("fill","#333").call(l.orient("top").tickFormat("")),j.append("g").attr("class","x axis").attr("transform","translate(0,"+n.padding+")").attr("font-size",u+"px").attr("fill","#333").call(l.orient("bottom").tickFormat("")),0===b.row&&(j.append("rect").attr("class","extent").attr("width",b.width).attr("height",s).attr("transform","translate(0,"+(n.padding-s)+")").attr("font-size",u+"px").on("mousemove",function(a,b){var c=o[0]+": "+g,e=d("#tooltip").css("font-size");e=parseFloat(e.slice(0,e.length-2)),f.select("#tooltip").style("left",f.event.pageX-e*c.length/3+"px").style("top",f.event.pageY-2*e+"px").select("#value").text(c),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)}),c=i.findMaxFontSize(g,v,b.width-n.padding,s-n.padding),j.append("text").attr("class","axis").attr("transform","translate(0,"+n.padding+")").attr("x",b.width/2).attr("y",n.margin-s/2+2).attr("font-size",c+"px").attr("text-anchor","middle").text(g).on("mousemove",function(a,b){var c=o[0]+": "+g,e=d("#tooltip").css("font-size");e=parseFloat(e.slice(0,e.length-2)),f.select("#tooltip").style("left",f.event.pageX-e*c.length/3+"px").style("top",f.event.pageY-2*e+"px").select("#value").text(c),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)})),0===b.col&&void 0!==h&&(j.append("rect").attr("class","extent").attr("width",t).attr("height",b.height).attr("transform","translate("+-t+","+n.padding+")").attr("font-size",u+"px").on("mousemove",function(a,b){var c=o[1]+": "+h,e=d("#tooltip").css("font-size");e=parseFloat(e.slice(0,e.length-2)),f.select("#tooltip").style("left",f.event.pageX-e*c.length/3+"px").style("top",f.event.pageY-2*e+"px").select("#value").text(c),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)}),c=i.findMaxFontSize(h,v,b.height-n.padding,t-n.padding),j.append("text").attr("class","axis").attr("transform","rotate(90,0,0)translate("+t/2+","+(s+n.padding)+")").attr("text-anchor","left").attr("x",b.height/2-i.strSize(h,v).width).attr("y",n.margin-s/2).attr("font-size",c+"px").text(h).on("mousemove",function(a,b){var c=o[1]+": "+h,e=d("#tooltip").css("font-size");e=parseFloat(e.slice(0,e.length-2)),f.select("#tooltip").style("left",f.event.pageX-e*c.length/3+"px").style("top",f.event.pageY-2*e+"px").select("#value").text(c),f.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){f.select("#tooltip").classed("hidden",!0)})),j.append("g").attr("class","y axis").attr("transform","translate("+n.padding+", 0)").attr("font-size",u+"px").attr("fill","#333").call(B.orient("right").tickFormat("")),j.append("g").attr("class","y axis").attr("transform","translate("+(b.width-n.padding)+", 0)").attr("font-size",u+"px").attr("fill","#333").call(B.orient("left").tickFormat(""))};this.removePlot();var C=this.getXScale(r,a,o,c,m).range([this.padding,r[0].width-this.padding]),D=this.getYScale(r,a,o,c,m).range([r[0].height-this.padding,this.padding]);this.svg.selectAll(".cell").data(r).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+(n.padding+a.x)+","+(n.padding+a.y)+")"}).each(B);var E=n.getXLabel(a,b,c),F=n.getYLabel(a,b,c);this.svg.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(E).attr("text-anchor","middle").attr("x",this.width/2-i.strSize(E,v).width/2).attr("y",this.height-i.strSize(E,v).height).attr("font-size",v+"px").attr("fill","#333").style("font-weight",w),this.svg.selectAll(".ylabel").data(c).enter().append("text").attr("class","ylabel").attr("transform","translate("+(i.strSize(c,v).height-2)+", "+this.height/2+") rotate(-90)").text(F).attr("text-anchor","middle").attr("font-size",v+"px").attr("fill","#333").style("font-weight",w)}});b.exports=m},{"../constants/ChartConstants":7,"../constants/ScatterPlotConstants":15,"../helpers/DomUtil":34,"../visualizations/Chart":111,"../visualizations/PlotLayout":119,"../visualizations/VizUtil":126,d3:152,jquery:164,underscore:365}],126:[function(a,b,c){"use strict";var d=a("d3"),e=a("../helpers/Utility"),f={};f.plotType={BAR_PLOT:1,AREA_PLOT:2},f.getBarY=function(a,b,c){var d,e;d=this.getOption("stacked")||this.getOption("100_stacked")?1:b+1,e=c===f.plotType.AREA_PLOT||1===Math.sign(a[b+1])?b+1:b;for(var g=0,h=d;e>=h;h+=1)Math.sign(a[h])===Math.sign(a[b+1])&&(g+=a[h]);if(this.getOption("100_stacked")){for(var i=0,j=1;j<a.length;j+=1)i+=Math.abs(a[j]);i=0===i?1:i,g=100*g/i}return g},f.findColumns=function(a,b,c){if(0===c.length)return{xColumns:["<id>"],yColumns:[]};for(var d=[],f=[],g=c.length-1;g>=0;g--)e.isNumeric(c[g].type)?(d.length<a||0>a)&&d.push(c[g].name):(f.length<b||0>b)&&f.push(c[g].name);return{xColumns:f,yColumns:d}},f.projectColumns=function(a,b,c,d){for(var e={},f=0;f<b.length;f++)e[b[f].name]=f;var g=c.map(function(a){return e[a]}),h=d.map(function(a){return e[a]}),i=a.map(function(a){var b=g.map(function(b){return a[b]}),c=h.map(function(b){return a[b]});return b.concat(c)});return{data:i,columns:d,key:c.join(", ")}},f.boxBoundedLine=function(a,b,c,d,e,f){var g,h,i,j,k=function(c){return(c-b)/a},l=function(c){return c*a+b},m=function(a,b,c){return a>=b&&c>=a};return m(k(f),c,e)?(h=k(f),j=f,m(l(c),d,f)?(g=c,i=l(c)):(g=k(d),i=d)):(h=e,j=l(e),m(l(c),d,f)?(g=c,i=l(c)):(g=k(d),i=d)),{x1:g,y1:i,x2:h,y2:j}},f.tooltipNumFormat=d.format("000,.2f"),b.exports=f},{"../helpers/Utility":55,d3:152}],127:[function(a,b,c){if("function"!=typeof e||"undefined"==typeof d)if("function"==typeof e&&"undefined"!=typeof webkitURL)var d=webkitURL;else var e=function(a){"use strict";var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=!1,r=function(a){q=!a},s=a.ArrayBuffer,t=a.Uint8Array;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;try{t&&r.apply(0,new t(1))}catch(u){}return k.createObjectURL||(n=a.URL={}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(t&&(a instanceof s||a instanceof t))if(q)c.push(String.fromCharCode.apply(String,new t(a)));else for(var e="",f=new t(a),i=0,j=f.length;j>i;i++)e+=String.fromCharCode(f[i]);else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return 3>e&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},c}(a);return function(a,c){var d=c?c.type||"":"",e=new b;if(a)for(var f=0,g=a.length;g>f;f++)e.append(a[f]);return e.getBlob(d)}}(self)},{}],128:[function(a,b,c){a("jquery");!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",b,c.prototype.close)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),"object"==typeof c&&c);e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){"use strict";function b(){a(".dropdown-backdrop").remove(),a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(),f||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open")),g.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),
!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){"use strict";function b(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||c.typeahead(c.data())})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&h>=d?"top":!1,this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery)},{jquery:164}],129:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";function b(a){var b=a.search(d);return-1==b?0:b}var c={},d=/[^\s\u00a0]/,e=a.Pos;a.commands.toggleComment=function(a){for(var b=1/0,c=a.listSelections(),d=null,f=c.length-1;f>=0;f--){var g=c[f].from(),h=c[f].to();g.line>=b||(h.line>=b&&(h=e(b,0)),b=g.line,null==d?a.uncomment(g,h)?d="un":(a.lineComment(g,h),d="line"):"un"==d?a.uncomment(g,h):a.lineComment(g,h))}},a.defineExtension("lineComment",function(a,f,g){g||(g=c);var h=this,i=h.getModeAt(a),j=g.lineComment||i.lineComment;if(!j)return void((g.blockCommentStart||i.blockCommentStart)&&(g.fullLines=!0,h.blockComment(a,f,g)));var k=h.getLine(a.line);if(null!=k){var l=Math.min(0!=f.ch||f.line==a.line?f.line+1:f.line,h.lastLine()+1),m=null==g.padding?" ":g.padding,n=g.commentBlankLines||a.line==f.line;h.operation(function(){if(g.indent)for(var c=k.slice(0,b(k)),f=a.line;l>f;++f){var i=h.getLine(f),o=c.length;(n||d.test(i))&&(i.slice(0,o)!=c&&(o=b(i)),h.replaceRange(c+j+m,e(f,0),e(f,o)))}else for(var f=a.line;l>f;++f)(n||d.test(h.getLine(f)))&&h.replaceRange(j+m,e(f,0))})}}),a.defineExtension("blockComment",function(a,b,f){f||(f=c);var g=this,h=g.getModeAt(a),i=f.blockCommentStart||h.blockCommentStart,j=f.blockCommentEnd||h.blockCommentEnd;if(!i||!j)return void((f.lineComment||h.lineComment)&&0!=f.fullLines&&g.lineComment(a,b,f));var k=Math.min(b.line,g.lastLine());k!=a.line&&0==b.ch&&d.test(g.getLine(k))&&--k;var l=null==f.padding?" ":f.padding;a.line>k||g.operation(function(){if(0!=f.fullLines){var c=d.test(g.getLine(k));g.replaceRange(l+j,e(k)),g.replaceRange(i+l,e(a.line,0));var m=f.blockCommentLead||h.blockCommentLead;if(null!=m)for(var n=a.line+1;k>=n;++n)(n!=k||c)&&g.replaceRange(m+l,e(n,0))}else g.replaceRange(j,b),g.replaceRange(i,a)})}),a.defineExtension("uncomment",function(a,b,f){f||(f=c);var g,h=this,i=h.getModeAt(a),j=Math.min(0!=b.ch||b.line==a.line?b.line:b.line-1,h.lastLine()),k=Math.min(a.line,j),l=f.lineComment||i.lineComment,m=[],n=null==f.padding?" ":f.padding;a:if(l){for(var o=k;j>=o;++o){var p=h.getLine(o),q=p.indexOf(l);if(q>-1&&!/comment/.test(h.getTokenTypeAt(e(o,q+1)))&&(q=-1),-1==q&&(o!=j||o==k)&&d.test(p))break a;if(q>-1&&d.test(p.slice(0,q)))break a;m.push(p)}if(h.operation(function(){for(var a=k;j>=a;++a){var b=m[a-k],c=b.indexOf(l),d=c+l.length;0>c||(b.slice(d,d+n.length)==n&&(d+=n.length),g=!0,h.replaceRange("",e(a,c),e(a,d)))}}),g)return!0}var r=f.blockCommentStart||i.blockCommentStart,s=f.blockCommentEnd||i.blockCommentEnd;if(!r||!s)return!1;var t=f.blockCommentLead||i.blockCommentLead,u=h.getLine(k),v=j==k?u:h.getLine(j),w=u.indexOf(r),x=v.lastIndexOf(s);if(-1==x&&k!=j&&(v=h.getLine(--j),x=v.lastIndexOf(s)),-1==w||-1==x||!/comment/.test(h.getTokenTypeAt(e(k,w+1)))||!/comment/.test(h.getTokenTypeAt(e(j,x+1))))return!1;var y=u.lastIndexOf(r,a.ch),z=-1==y?-1:u.slice(0,a.ch).indexOf(s,y+r.length);if(-1!=y&&-1!=z&&z+s.length!=a.ch)return!1;z=v.indexOf(s,b.ch);var A=v.slice(b.ch).lastIndexOf(r,z-b.ch);return y=-1==z||-1==A?-1:b.ch+A,-1!=z&&-1!=y&&y!=b.ch?!1:(h.operation(function(){h.replaceRange("",e(j,x-(n&&v.slice(x-n.length,x)==n?n.length:0)),e(j,x+s.length));var a=w+r.length;if(n&&u.slice(a,a+n.length)==n&&(a+=n.length),h.replaceRange("",e(k,w),e(k,a)),t)for(var b=k+1;j>=b;++b){var c=h.getLine(b),f=c.indexOf(t);if(-1!=f&&!d.test(c.slice(0,f))){var g=f+t.length;n&&c.slice(g,g+n.length)==n&&(g+=n.length),h.replaceRange("",e(b,f),e(b,g))}}}),!0)})})},{"../../lib/codemirror":135}],130:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){function b(a,b){return"pairs"==b&&"string"==typeof a?a:"object"==typeof a&&null!=a[b]?a[b]:l[b]}function c(a){return function(b){return h(b,a)}}function d(a){var b=a.state.closeBrackets;if(!b)return null;var c=a.getModeAt(a.getCursor());return c.closeBrackets||b}function e(c){var e=d(c);if(!e||c.getOption("disableInput"))return a.Pass;for(var f=b(e,"pairs"),g=c.listSelections(),h=0;h<g.length;h++){if(!g[h].empty())return a.Pass;var i=j(c,g[h].head);if(!i||f.indexOf(i)%2!=0)return a.Pass}for(var h=g.length-1;h>=0;h--){var k=g[h].head;c.replaceRange("",m(k.line,k.ch-1),m(k.line,k.ch+1))}}function f(c){var e=d(c),f=e&&b(e,"explode");if(!f||c.getOption("disableInput"))return a.Pass;for(var g=c.listSelections(),h=0;h<g.length;h++){if(!g[h].empty())return a.Pass;var i=j(c,g[h].head);if(!i||f.indexOf(i)%2!=0)return a.Pass}c.operation(function(){c.replaceSelection("\n\n",null),c.execCommand("goCharLeft"),g=c.listSelections();for(var a=0;a<g.length;a++){var b=g[a].head.line;c.indentLine(b,null,!0),c.indentLine(b+1,null,!0)}})}function g(b){var c=a.cmpPos(b.anchor,b.head)>0;return{anchor:new m(b.anchor.line,b.anchor.ch+(c?-1:1)),head:new m(b.head.line,b.head.ch+(c?1:-1))}}function h(c,e){var f=d(c);if(!f||c.getOption("disableInput"))return a.Pass;var h=b(f,"pairs"),j=h.indexOf(e);if(-1==j)return a.Pass;for(var l,n,o=b(f,"triples"),p=h.charAt(j+1)==e,q=c.listSelections(),r=j%2==0,s=0;s<q.length;s++){var t,u=q[s],v=u.head,n=c.getRange(v,m(v.line,v.ch+1));if(r&&!u.empty())t="surround";else if(!p&&r||n!=e)if(p&&v.ch>1&&o.indexOf(e)>=0&&c.getRange(m(v.line,v.ch-2),v)==e+e&&(v.ch<=2||c.getRange(m(v.line,v.ch-3),m(v.line,v.ch-2))!=e))t="addFour";else if(p){if(a.isWordChar(n)||!k(c,v,e))return a.Pass;t="both"}else{if(!r||c.getLine(v.line).length!=v.ch&&!i(n,h)&&!/\s/.test(n))return a.Pass;t="both"}else t=o.indexOf(e)>=0&&c.getRange(v,m(v.line,v.ch+3))==e+e+e?"skipThree":"skip";if(l){if(l!=t)return a.Pass}else l=t}var w=j%2?h.charAt(j-1):e,x=j%2?e:h.charAt(j+1);c.operation(function(){if("skip"==l)c.execCommand("goCharRight");else if("skipThree"==l)for(var a=0;3>a;a++)c.execCommand("goCharRight");else if("surround"==l){for(var b=c.getSelections(),a=0;a<b.length;a++)b[a]=w+b[a]+x;c.replaceSelections(b,"around"),b=c.listSelections().slice();for(var a=0;a<b.length;a++)b[a]=g(b[a]);c.setSelections(b)}else"both"==l?(c.replaceSelection(w+x,null),c.triggerElectric(w+x),c.execCommand("goCharLeft")):"addFour"==l&&(c.replaceSelection(w+w+w+w,"before"),c.execCommand("goCharRight"))})}function i(a,b){var c=b.lastIndexOf(a);return c>-1&&c%2==1}function j(a,b){var c=a.getRange(m(b.line,b.ch-1),m(b.line,b.ch+1));return 2==c.length?c:null}function k(b,c,d){var e=b.getLine(c.line),f=b.getTokenAt(c);if(/\bstring2?\b/.test(f.type))return!1;var g=new a.StringStream(e.slice(0,c.ch)+d+e.slice(c.ch),4);for(g.pos=g.start=f.start;;){var h=b.getMode().token(g,f.state);if(g.pos>=c.ch+1)return/\bstring2?\b/.test(h);g.start=g.pos}}var l={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},m=a.Pos;a.defineOption("autoCloseBrackets",!1,function(b,c,d){d&&d!=a.Init&&(b.removeKeyMap(o),b.state.closeBrackets=null),c&&(b.state.closeBrackets=c,b.addKeyMap(o))});for(var n=l.pairs+"`",o={Backspace:e,Enter:f},p=0;p<n.length;p++)o["'"+n.charAt(p)+"'"]=c(n.charAt(p))})},{"../../lib/codemirror":135}],131:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){function b(a,b,d,e){var f=a.getLineHandle(b.line),i=b.ch-1,j=i>=0&&h[f.text.charAt(i)]||h[f.text.charAt(++i)];if(!j)return null;var k=">"==j.charAt(1)?1:-1;if(d&&k>0!=(i==b.ch))return null;var l=a.getTokenTypeAt(g(b.line,i+1)),m=c(a,g(b.line,i+(k>0?1:0)),k,l||null,e);return null==m?null:{from:g(b.line,i),to:m&&m.pos,match:m&&m.ch==j.charAt(0),forward:k>0}}function c(a,b,c,d,e){for(var f=e&&e.maxScanLineLength||1e4,i=e&&e.maxScanLines||1e3,j=[],k=e&&e.bracketRegex?e.bracketRegex:/[(){}[\]]/,l=c>0?Math.min(b.line+i,a.lastLine()+1):Math.max(a.firstLine()-1,b.line-i),m=b.line;m!=l;m+=c){var n=a.getLine(m);if(n){var o=c>0?0:n.length-1,p=c>0?n.length:-1;if(!(n.length>f))for(m==b.line&&(o=b.ch-(0>c?1:0));o!=p;o+=c){var q=n.charAt(o);if(k.test(q)&&(void 0===d||a.getTokenTypeAt(g(m,o+1))==d)){var r=h[q];if(">"==r.charAt(1)==c>0)j.push(q);else{if(!j.length)return{pos:g(m,o),ch:q};j.pop()}}}}}return m-c==(c>0?a.lastLine():a.firstLine())?!1:null}function d(a,c,d){for(var e=a.state.matchBrackets.maxHighlightLineLength||1e3,h=[],i=a.listSelections(),j=0;j<i.length;j++){var k=i[j].empty()&&b(a,i[j].head,!1,d);if(k&&a.getLine(k.from.line).length<=e){var l=k.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";h.push(a.markText(k.from,g(k.from.line,k.from.ch+1),{className:l})),k.to&&a.getLine(k.to.line).length<=e&&h.push(a.markText(k.to,g(k.to.line,k.to.ch+1),{className:l}))}}if(h.length){f&&a.state.focused&&a.focus();var m=function(){a.operation(function(){for(var a=0;a<h.length;a++)h[a].clear()})};if(!c)return m;setTimeout(m,800)}}function e(a){a.operation(function(){i&&(i(),i=null),i=d(a,!1,a.state.matchBrackets)})}var f=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),g=a.Pos,h={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},i=null;a.defineOption("matchBrackets",!1,function(b,c,d){d&&d!=a.Init&&b.off("cursorActivity",e),c&&(b.state.matchBrackets="object"==typeof c?c:{},b.on("cursorActivity",e))}),a.defineExtension("matchBrackets",function(){d(this,!0)}),a.defineExtension("findMatchingBracket",function(a,c,d){return b(this,a,c,d)}),a.defineExtension("scanForBracket",function(a,b,d,e){return c(this,a,b,d,e)})})},{"../../lib/codemirror":135}],132:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";function b(a,b){this.cm=a,this.options=b,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var c=this;a.on("cursorActivity",this.activityFunc=function(){c.cursorActivity()})}function c(a,b,c){var d=a.options.hintOptions,e={};for(var f in n)e[f]=n[f];if(d)for(var f in d)void 0!==d[f]&&(e[f]=d[f]);if(c)for(var f in c)void 0!==c[f]&&(e[f]=c[f]);return e.hint.resolve&&(e.hint=e.hint.resolve(a,b)),e}function d(a){return"string"==typeof a?a:a.text}function e(a,b){function c(a,c){var e;e="string"!=typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c,f[a]=e}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(-b.menuSize()+1,!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Tab:b.pick,Esc:b.close},e=a.options.customKeys,f=e?{}:d;if(e)for(var g in e)e.hasOwnProperty(g)&&c(g,e[g]);var h=a.options.extraKeys;if(h)for(var g in h)h.hasOwnProperty(g)&&c(g,h[g]);return f}function f(a,b){for(;b&&b!=a;){if("LI"===b.nodeName.toUpperCase()&&b.parentNode==a)return b;b=b.parentNode}}function g(b,c){this.completion=b,this.data=c,this.picked=!1;var g=this,h=b.cm,i=this.hints=document.createElement("ul");i.className="CodeMirror-hints",this.selectedHint=c.selectedHint||0;for(var l=c.list,m=0;m<l.length;++m){var n=i.appendChild(document.createElement("li")),o=l[m],p=j+(m!=this.selectedHint?"":" "+k);null!=o.className&&(p=o.className+" "+p),n.className=p,o.render?o.render(n,c,o):n.appendChild(document.createTextNode(o.displayText||d(o))),n.hintId=m}var q=h.cursorCoords(b.options.alignWithWord?c.from:null),r=q.left,s=q.bottom,t=!0;i.style.left=r+"px",i.style.top=s+"px";var u=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),v=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(b.options.container||document.body).appendChild(i);var w=i.getBoundingClientRect(),x=w.bottom-v;if(x>0){var y=w.bottom-w.top,z=q.top-(q.bottom-w.top);if(z-y>0)i.style.top=(s=q.top-y)+"px",t=!1;else if(y>v){i.style.height=v-5+"px",i.style.top=(s=q.bottom-w.top)+"px";var A=h.getCursor();c.from.ch!=A.ch&&(q=h.cursorCoords(A),i.style.left=(r=q.left)+"px",w=i.getBoundingClientRect())}}var B=w.right-u;if(B>0&&(w.right-w.left>u&&(i.style.width=u-5+"px",B-=w.right-w.left-u),i.style.left=(r=q.left-B)+"px"),h.addKeyMap(this.keyMap=e(b,{moveFocus:function(a,b){g.changeActive(g.selectedHint+a,b)},setFocus:function(a){g.changeActive(a)},menuSize:function(){return g.screenAmount()},length:l.length,close:function(){b.close()},pick:function(){g.pick()},data:c})),b.options.closeOnUnfocus){var C;h.on("blur",this.onBlur=function(){C=setTimeout(function(){b.close()},100)}),h.on("focus",this.onFocus=function(){clearTimeout(C)})}var D=h.getScrollInfo();return h.on("scroll",this.onScroll=function(){var a=h.getScrollInfo(),c=h.getWrapperElement().getBoundingClientRect(),d=s+D.top-a.top,e=d-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return t||(e+=i.offsetHeight),e<=c.top||e>=c.bottom?b.close():(i.style.top=d+"px",void(i.style.left=r+D.left-a.left+"px"))}),a.on(i,"dblclick",function(a){var b=f(i,a.target||a.srcElement);b&&null!=b.hintId&&(g.changeActive(b.hintId),g.pick())}),a.on(i,"click",function(a){var c=f(i,a.target||a.srcElement);c&&null!=c.hintId&&(g.changeActive(c.hintId),b.options.completeOnSingleClick&&g.pick())}),a.on(i,"mousedown",function(){setTimeout(function(){h.focus()},20)}),a.signal(c,"select",l[0],i.firstChild),!0}function h(a,b){if(!a.somethingSelected())return b;for(var c=[],d=0;d<b.length;d++)b[d].supportsSelection&&c.push(b[d]);return c}function i(b,c){var d,e=b.getHelpers(c,"hint");if(e.length){for(var f,g=!1,i=0;i<e.length;i++)e[i].async&&(g=!0);return g?(f=function(a,b,c){function d(e,g){if(e==f.length)return b(null);var h=f[e];if(h.async)h(a,function(a){a?b(a):d(e+1)},c);else{var g=h(a,c);g?b(g):d(e+1)}}var f=h(a,e);d(0)},f.async=!0):f=function(a,b){for(var c=h(a,e),d=0;d<c.length;d++){var f=c[d](a,b);if(f&&f.list.length)return f}},f.supportsSelection=!0,f}return(d=b.getHelper(b.getCursor(),"hintWords"))?function(b){return a.hint.fromList(b,{words:d})}:a.hint.anyword?function(b,c){return a.hint.anyword(b,c)}:function(){}}var j="CodeMirror-hint",k="CodeMirror-hint-active";a.showHint=function(a,b,c){if(!b)return a.showHint(c);c&&c.async&&(b.async=!0);var d={hint:b};if(c)for(var e in c)d[e]=c[e];return a.showHint(d)},a.defineExtension("showHint",function(d){d=c(this,this.getCursor("start"),d);var e=this.listSelections();if(!(e.length>1)){if(this.somethingSelected()){if(!d.hint.supportsSelection)return;for(var f=0;f<e.length;f++)if(e[f].head.line!=e[f].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var g=this.state.completionActive=new b(this,d);g.options.hint&&(a.signal(this,"startCompletion",this),g.update(!0))}});var l=window.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},m=window.cancelAnimationFrame||clearTimeout;b.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&a.signal(this.data,"close"),this.widget&&this.widget.close(),a.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(b,c){var e=b.list[c];e.hint?e.hint(this.cm,b,e):this.cm.replaceRange(d(e),e.from||b.from,e.to||b.to,"complete"),
a.signal(b,"pick",e),this.close()},cursorActivity:function(){this.debounce&&(m(this.debounce),this.debounce=0);var a=this.cm.getCursor(),b=this.cm.getLine(a.line);if(a.line!=this.startPos.line||b.length-a.ch!=this.startLen-this.startPos.ch||a.ch<this.startPos.ch||this.cm.somethingSelected()||a.ch&&this.options.closeCharacters.test(b.charAt(a.ch-1)))this.close();else{var c=this;this.debounce=l(function(){c.update()}),this.widget&&this.widget.disable()}},update:function(a){if(null!=this.tick)if(this.options.hint.async){var b=++this.tick,c=this;this.options.hint(this.cm,function(d){c.tick==b&&c.finishUpdate(d,a)},this.options)}else this.finishUpdate(this.options.hint(this.cm,this.options),a)},finishUpdate:function(b,c){this.data&&a.signal(this.data,"update"),b&&this.data&&a.cmpPos(b.from,this.data.from)&&(b=null),this.data=b;var d=this.widget&&this.widget.picked||c&&this.options.completeSingle;this.widget&&this.widget.close(),b&&b.list.length&&(d&&1==b.list.length?this.pick(b,0):(this.widget=new g(this,b),a.signal(b,"shown")))}},g.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus)),a.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var a=this;this.keyMap={Enter:function(){a.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(b,c){if(b>=this.data.list.length?b=c?this.data.list.length-1:0:0>b&&(b=c?0:this.data.list.length-1),this.selectedHint!=b){var d=this.hints.childNodes[this.selectedHint];d.className=d.className.replace(" "+k,""),d=this.hints.childNodes[this.selectedHint=b],d.className+=" "+k,d.offsetTop<this.hints.scrollTop?this.hints.scrollTop=d.offsetTop-3:d.offsetTop+d.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=d.offsetTop+d.offsetHeight-this.hints.clientHeight+3),a.signal(this.data,"select",this.data.list[this.selectedHint],d)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},a.registerHelper("hint","auto",{resolve:i}),a.registerHelper("hint","fromList",function(b,c){var d=b.getCursor(),e=b.getTokenAt(d),f=a.Pos(d.line,e.end);if(e.string&&/\w/.test(e.string[e.string.length-1]))var g=e.string,h=a.Pos(d.line,e.start);else var g="",h=f;for(var i=[],j=0;j<c.words.length;j++){var k=c.words[j];k.slice(0,g.length)==g&&i.push(k)}return i.length?{list:i,from:h,to:f}:void 0}),a.commands.autocomplete=a.showHint;var n={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};a.defineOption("hintOptions",null)})},{"../../lib/codemirror":135}],133:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror"),a("../../mode/sql/sql")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/sql/sql"],d):d(CodeMirror)}(function(a){"use strict";function b(b){var c=b.doc.modeOption;return"sql"===c&&(c="text/x-sql"),a.resolveMode(c).keywords}function c(a){return"string"==typeof a?a:a.text}function d(a,b){if(!a.slice)return a[b];for(var d=a.length-1;d>=0;d--)if(c(a[d])==b)return a[d]}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function f(a,b){var d=a.length,e=c(b).substr(0,d);return a.toUpperCase()===e.toUpperCase()}function g(a,b,c,d){for(var e in c)c.hasOwnProperty(e)&&(c.slice&&(e=c[e]),f(b,e)&&a.push(d(e)))}function h(a){return"."==a.charAt(0)&&(a=a.substr(1)),a.replace(/`/g,"")}function i(a){for(var b=c(a).split("."),d=0;d<b.length;d++)b[d]="`"+b[d]+"`";var f=b.join(".");return"string"==typeof a?f:(a=e(a),a.text=f,a)}function j(a,b,c,f){for(var j=!1,k=[],l=b.start,m=!0;m;)m="."==b.string.charAt(0),j=j||"`"==b.string.charAt(0),l=b.start,k.unshift(h(b.string)),b=f.getTokenAt(s(a.line,b.start)),"."==b.string&&(m=!0,b=f.getTokenAt(s(a.line,b.start)));var q=k.join(".");g(c,q,o,function(a){return j?i(a):a}),g(c,q,p,function(a){return j?i(a):a}),q=k.pop();var r=k.join("."),t=!1,u=r;if(!d(o,r)){var v=r;r=n(r,f),r!==v&&(t=!0)}var w=d(o,r);return w&&w.columns&&(w=w.columns),w&&g(c,q,w,function(a){var b=r;return 1==t&&(b=u),"string"==typeof a?a=b+"."+a:(a=e(a),a.text=b+"."+a.text),j?i(a):a}),l}function k(a,b){if(a)for(var c=/[,;]/g,d=a.split(" "),e=0;e<d.length;e++)b(d[e]?d[e].replace(c,""):"")}function l(a){return a.line+a.ch/Math.pow(10,6)}function m(a){return s(Math.floor(a),+a.toString().split(".").pop())}function n(a,b){for(var c=b.doc,e=c.getValue(),f=a.toUpperCase(),g="",h="",i=[],j={start:s(0,0),end:s(b.lastLine(),b.getLineHandle(b.lastLine()).length)},n=e.indexOf(r.QUERY_DIV);-1!=n;)i.push(c.posFromIndex(n)),n=e.indexOf(r.QUERY_DIV,n+1);i.unshift(s(0,0)),i.push(s(b.lastLine(),b.getLineHandle(b.lastLine()).text.length));for(var p=0,q=l(b.getCursor()),t=0;t<i.length;t++){var u=l(i[t]);if(q>p&&u>=q){j={start:m(p),end:m(u)};break}p=u}for(var v=c.getRange(j.start,j.end,!1),t=0;t<v.length;t++){var w=v[t];if(k(w,function(a){var b=a.toUpperCase();b===f&&d(o,g)&&(h=g),b!==r.ALIAS_KEYWORD&&(g=a)}),h)break}return h}var o,p,q,r={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},s=a.Pos;a.registerHelper("hint","sql",function(a,c){o=c&&c.tables||{};var e=c&&c.defaultTable,f=c&&c.disableKeywords;p=e&&d(o,e),q=q||b(a),e&&!p&&(p=n(e,a)),p=p||[],p.columns&&(p=p.columns);var h,i,k,l=a.getCursor(),m=[],r=a.getTokenAt(l);return r.end>l.ch&&(r.end=l.ch,r.string=r.string.slice(0,l.ch-r.start)),r.string.match(/^[.`\w@]\w*$/)?(k=r.string,h=r.start,i=r.end):(h=i=l.ch,k=""),"."==k.charAt(0)||"`"==k.charAt(0)?h=j(l,r,m,a):(g(m,k,o,function(a){return a}),g(m,k,p,function(a){return a}),f||g(m,k,q,function(a){return a.toUpperCase()})),{list:m,from:s(l.line,h),to:s(l.line,i)}})})},{"../../lib/codemirror":135,"../../mode/sql/sql":141}],134:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";a.runMode=function(b,c,d,e){var f=a.getMode(a.defaults,c),g=/MSIE \d/.test(navigator.userAgent),h=g&&(null==document.documentMode||document.documentMode<9);if(1==d.nodeType){var i=e&&e.tabSize||a.defaults.tabSize,j=d,k=0;j.innerHTML="",d=function(a,b){if("\n"==a)return j.appendChild(document.createTextNode(h?"\r":a)),void(k=0);for(var c="",d=0;;){var e=a.indexOf("	",d);if(-1==e){c+=a.slice(d),k+=a.length-d;break}k+=e-d,c+=a.slice(d,e);var f=i-k%i;k+=f;for(var g=0;f>g;++g)c+=" ";d=e+1}if(b){var l=j.appendChild(document.createElement("span"));l.className="cm-"+b.replace(/ +/g," cm-"),l.appendChild(document.createTextNode(c))}else j.appendChild(document.createTextNode(c))}}for(var l=a.splitLines(b),m=e&&e.state||a.startState(f),n=0,o=l.length;o>n;++n){n&&d("\n");var p=new a.StringStream(l[n]);for(!p.string&&f.blankLine&&f.blankLine(m);!p.eol();){var q=f.token(p,m);d(p.current(),q,n,p.start,m),p.start=p.pos}}}})},{"../../lib/codemirror":135}],135:[function(a,b,c){!function(a){if("object"==typeof c&&"object"==typeof b)b.exports=a();else{if("function"==typeof define&&define.amd)return define([],a);this.CodeMirror=a()}}(function(){"use strict";function a(c,d){if(!(this instanceof a))return new a(c,d);this.options=d=d?Je(d):{},Je(Zf,d,!1),n(d);var e=d.value;"string"==typeof e&&(e=new vg(e,d.mode,null,d.lineSeparator)),this.doc=e;var f=new a.inputStyles[d.inputStyle](this),g=this.display=new b(c,e,f);g.wrapper.CodeMirror=this,j(this),h(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),d.autofocus&&!Bf&&g.input.focus(),r(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ce,keySeq:null,specialChars:null};var i=this;rf&&11>sf&&setTimeout(function(){i.display.input.reset(!0)},20),Pb(this),Ve(),tb(this),this.curOp.forceUpdate=!0,Wd(this,e),d.autofocus&&!Bf||i.hasFocus()?setTimeout(Ke(pc,this),20):qc(this);for(var k in $f)$f.hasOwnProperty(k)&&$f[k](this,d[k],_f);w(this),d.finishInit&&d.finishInit(this);for(var l=0;l<dg.length;++l)dg[l](this);vb(this),tf&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(g.lineDiv).textRendering&&(g.lineDiv.style.textRendering="auto")}function b(a,b,c){var d=this;this.input=c,d.scrollbarFiller=Oe("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=Oe("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=Oe("div",null,"CodeMirror-code"),d.selectionDiv=Oe("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=Oe("div",null,"CodeMirror-cursors"),d.measure=Oe("div",null,"CodeMirror-measure"),d.lineMeasure=Oe("div",null,"CodeMirror-measure"),d.lineSpace=Oe("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none"),d.mover=Oe("div",[Oe("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative"),d.sizer=Oe("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=Oe("div",null,null,"position: absolute; height: "+Gg+"px; width: 1px;"),d.gutters=Oe("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=Oe("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=Oe("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),rf&&8>sf&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),tf||of&&Bf||(d.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(d.wrapper):a(d.wrapper)),d.viewFrom=d.viewTo=b.first,d.reportedViewFrom=d.reportedViewTo=b.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,c.init(d)}function c(b){b.doc.mode=a.getMode(b.options,b.doc.modeOption),d(b)}function d(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.frontier=a.doc.first,Ma(a,100),a.state.modeGen++,a.curOp&&Ib(a)}function e(a){a.options.lineWrapping?(Xg(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Wg(a.display.wrapper,"CodeMirror-wrap"),m(a)),g(a),Ib(a),gb(a),setTimeout(function(){s(a)},100)}function f(a){var b=rb(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/sb(a.display)-3);return function(e){if(ud(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function g(a){var b=a.doc,c=f(a);b.iter(function(a){var b=c(a);b!=a.height&&$d(a,b)})}function h(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),gb(a)}function i(a){j(a),Ib(a),setTimeout(function(){v(a)},20)}function j(a){var b=a.display.gutters,c=a.options.gutters;Pe(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(Oe("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none",k(a)}function k(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px"}function l(a){if(0==a.height)return 0;for(var b,c=a.text.length,d=a;b=nd(d);){var e=b.find(0,!0);d=e.from.line,c+=e.from.ch-e.to.ch}for(d=a;b=od(d);){var e=b.find(0,!0);c-=d.text.length-e.from.ch,d=e.to.line,c+=d.text.length-e.to.ch}return c}function m(a){var b=a.display,c=a.doc;b.maxLine=Xd(c,c.first),b.maxLineLength=l(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=l(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function n(a){var b=Fe(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):b>-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function o(a){var b=a.display,c=b.gutters.offsetWidth,d=Math.round(a.doc.height+Ra(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+Ta(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:c}}function p(a,b,c){this.cm=c;var d=this.vert=Oe("div",[Oe("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),e=this.horiz=Oe("div",[Oe("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(d),a(e),Bg(d,"scroll",function(){d.clientHeight&&b(d.scrollTop,"vertical")}),Bg(e,"scroll",function(){e.clientWidth&&b(e.scrollLeft,"horizontal")}),this.checkedOverlay=!1,rf&&8>sf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function q(){}function r(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Wg(b.display.wrapper,b.display.scrollbars.addClass)),b.display.scrollbars=new a.scrollbarModel[b.options.scrollbarStyle](function(a){b.display.wrapper.insertBefore(a,b.display.scrollbarFiller),Bg(a,"mousedown",function(){b.state.focused&&setTimeout(function(){b.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,c){"horizontal"==c?dc(b,a):cc(b,a)},b),b.display.scrollbars.addClass&&Xg(b.display.wrapper,b.display.scrollbars.addClass)}function s(a,b){b||(b=o(a));var c=a.display.barWidth,d=a.display.barHeight;t(a,b);for(var e=0;4>e&&c!=a.display.barWidth||d!=a.display.barHeight;e++)c!=a.display.barWidth&&a.options.lineWrapping&&F(a),t(a,o(a)),c=a.display.barWidth,d=a.display.barHeight}function t(a,b){var c=a.display,d=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=d.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+"px",d.right&&d.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=d.bottom+"px",c.scrollbarFiller.style.width=d.right+"px"):c.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d.bottom+"px",c.gutterFiller.style.width=b.gutterWidth+"px"):c.gutterFiller.style.display=""}function u(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-Qa(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=ae(b,d),g=ae(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;f>h?(f=h,g=ae(b,be(Xd(b,h))+a.wrapper.clientHeight)):Math.min(i,b.lastLine())>=g&&(f=ae(b,be(Xd(b,i))-a.wrapper.clientHeight),g=i)}return{from:f,to:Math.max(g,f+1)}}function v(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=y(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=f);var h=c[g].alignable;if(h)for(var i=0;i<h.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function w(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=x(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(Oe("div",[Oe("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g)+1,d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",k(a),!0}return!1}function x(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function y(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function z(a,b,c){var d=a.display;this.viewport=b,this.visible=u(d,a.doc,b),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Ua(a),this.force=c,this.dims=H(a),this.events=[]}function A(a){var b=a.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=Ta(a)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+"px",b.sizer.style.borderRightWidth=Ta(a)+"px",b.scrollbarsClipped=!0)}function B(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return Kb(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&0==Ob(a))return!1;w(a)&&(Kb(a),b.dims=H(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),g=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&f-c.viewFrom<20&&(f=Math.max(d.first,c.viewFrom)),c.viewTo>g&&c.viewTo-g<20&&(g=Math.min(e,c.viewTo)),If&&(f=sd(a.doc,f),g=td(a.doc,g));var h=f!=c.viewFrom||g!=c.viewTo||c.lastWrapHeight!=b.wrapperHeight||c.lastWrapWidth!=b.wrapperWidth;Nb(a,f,g),c.viewOffset=be(Xd(a.doc,c.viewFrom)),a.display.mover.style.top=c.viewOffset+"px";var i=Ob(a);if(!h&&0==i&&!b.force&&c.renderedView==c.view&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;var j=Re();return i>4&&(c.lineDiv.style.display="none"),I(a,c.updateLineNumbers,b.dims),i>4&&(c.lineDiv.style.display=""),c.renderedView=c.view,j&&Re()!=j&&j.offsetHeight&&j.focus(),Pe(c.cursorDiv),Pe(c.selectionDiv),c.gutters.style.height=c.sizer.style.minHeight=0,h&&(c.lastWrapHeight=b.wrapperHeight,c.lastWrapWidth=b.wrapperWidth,Ma(a,400)),c.updateLineNumbers=null,!0}function C(a,b){for(var c=b.viewport,d=!0;(d&&a.options.lineWrapping&&b.oldDisplayWidth!=Ua(a)||(c&&null!=c.top&&(c={top:Math.min(a.doc.height+Ra(a.display)-Va(a),c.top)}),b.visible=u(a.display,a.doc,c),!(b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)))&&B(a,b);d=!1){F(a);var e=o(a);Ha(a),E(a,e),s(a,e)}b.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(b.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function D(a,b){var c=new z(a,b);if(B(a,c)){F(a),C(a,c);var d=o(a);Ha(a),E(a,d),s(a,d),c.finish()}}function E(a,b){a.display.sizer.style.minHeight=b.docHeight+"px";var c=b.docHeight+a.display.barHeight;a.display.heightForcer.style.top=c+"px",a.display.gutters.style.height=Math.max(c+Ta(a),b.clientHeight)+"px"}function F(a){for(var b=a.display,c=b.lineDiv.offsetTop,d=0;d<b.view.length;d++){var e,f=b.view[d];if(!f.hidden){if(rf&&8>sf){var g=f.node.offsetTop+f.node.offsetHeight;e=g-c,c=g}else{var h=f.node.getBoundingClientRect();e=h.bottom-h.top}var i=f.line.height-e;if(2>e&&(e=rb(b)),(i>.001||-.001>i)&&($d(f.line,e),G(f.line),f.rest))for(var j=0;j<f.rest.length;j++)G(f.rest[j])}}}function G(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function H(a){for(var b=a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g)c[a.options.gutters[g]]=f.offsetLeft+f.clientLeft+e,d[a.options.gutters[g]]=f.clientWidth;return{fixedPos:y(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function I(a,b,c){function d(b){var c=b.nextSibling;return tf&&Cf&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b),c}for(var e=a.display,f=a.options.lineNumbers,g=e.lineDiv,h=g.firstChild,i=e.view,j=e.viewFrom,k=0;k<i.length;k++){var l=i[k];if(l.hidden);else if(l.node&&l.node.parentNode==g){for(;h!=l.node;)h=d(h);var m=f&&null!=b&&j>=b&&l.lineNumber;l.changes&&(Fe(l.changes,"gutter")>-1&&(m=!1),J(a,l,j,c)),m&&(Pe(l.lineNumber),l.lineNumber.appendChild(document.createTextNode(x(a.options,j)))),h=l.node.nextSibling}else{var n=R(a,l,j,c);g.insertBefore(n,h)}j+=l.size}for(;h;)h=d(h)}function J(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];"text"==f?N(a,b):"gutter"==f?P(a,b,c,d):"class"==f?O(b):"widget"==f&&Q(a,b,d)}b.changes=null}function K(a){return a.node==a.text&&(a.node=Oe("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),rf&&8>sf&&(a.node.style.zIndex=2)),a.node}function L(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=K(a);a.background=c.insertBefore(Oe("div",null,b),c.firstChild)}}function M(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):Kd(a,b)}function N(a,b){var c=b.text.className,d=M(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,O(b)):c&&(b.text.className=c)}function O(a){L(a),a.line.wrapClass?K(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var b=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=b||""}function P(a,b,c,d){if(b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null),b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null),b.line.gutterClass){var e=K(b);b.gutterBackground=Oe("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),e.insertBefore(b.gutterBackground,b.text)}var f=b.line.gutterMarkers;if(a.options.lineNumbers||f){var e=K(b),g=b.gutter=Oe("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(a.display.input.setUneditable(g),e.insertBefore(g,b.text),b.line.gutterClass&&(g.className+=" "+b.line.gutterClass),!a.options.lineNumbers||f&&f["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(Oe("div",x(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),f)for(var h=0;h<a.options.gutters.length;++h){var i=a.options.gutters[h],j=f.hasOwnProperty(i)&&f[i];j&&g.appendChild(Oe("div",[j],"CodeMirror-gutter-elt","left: "+d.gutterLeft[i]+"px; width: "+d.gutterWidth[i]+"px"))}}}function Q(a,b,c){b.alignable&&(b.alignable=null);for(var d,e=b.node.firstChild;e;e=d){var d=e.nextSibling;"CodeMirror-linewidget"==e.className&&b.node.removeChild(e)}S(a,b,c)}function R(a,b,c,d){var e=M(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),O(b),P(a,b,c,d),S(a,b,d),b.node}function S(a,b,c){if(T(a,b.line,b,c,!0),b.rest)for(var d=0;d<b.rest.length;d++)T(a,b.rest[d],b,c,!1)}function T(a,b,c,d,e){if(b.widgets)for(var f=K(c),g=0,h=b.widgets;g<h.length;++g){var i=h[g],j=Oe("div",[i.node],"CodeMirror-linewidget");i.handleMouseEvents||j.setAttribute("cm-ignore-events","true"),U(i,j,c,d),a.display.input.setUneditable(j),e&&i.above?f.insertBefore(j,c.gutter||c.text):f.appendChild(j),we(i,"redraw")}}function U(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function V(a){return Jf(a.line,a.ch)}function W(a,b){return Kf(a,b)<0?b:a}function X(a,b){return Kf(a,b)<0?a:b}function Y(a){a.state.focused||(a.display.input.focus(),pc(a))}function Z(a){return a.options.readOnly||a.doc.cantEdit}function $(a,b,c,d,e){var f=a.doc;a.display.shift=!1,d||(d=f.sel);var g=a.state.pasteIncoming||"paste"==e,h=f.splitLines(b),i=null;if(g&&d.ranges.length>1)if(Lf&&Lf.join("\n")==b){if(d.ranges.length%Lf.length==0){i=[];for(var j=0;j<Lf.length;j++)i.push(f.splitLines(Lf[j]))}}else h.length==d.ranges.length&&(i=Ge(h,function(a){return[a]}));for(var j=d.ranges.length-1;j>=0;j--){var k=d.ranges[j],l=k.from(),m=k.to();k.empty()&&(c&&c>0?l=Jf(l.line,l.ch-c):a.state.overwrite&&!g&&(m=Jf(m.line,Math.min(Xd(f,m.line).text.length,m.ch+Ee(h).length))));var n=a.curOp.updateInput,o={from:l,to:m,text:i?i[j%i.length]:h,origin:e||(g?"paste":a.state.cutIncoming?"cut":"+input")};yc(a.doc,o),we(a,"inputRead",a,o)}b&&!g&&aa(a,b),Kc(a),a.curOp.updateInput=n,a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=!1}function _(a,b){var c=a.clipboardData&&a.clipboardData.getData("text/plain");return c?(a.preventDefault(),Z(b)||b.options.disableInput||Cb(b,function(){$(b,c,0,null,"paste")}),!0):void 0}function aa(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,d=c.ranges.length-1;d>=0;d--){var e=c.ranges[d];if(!(e.head.ch>100||d&&c.ranges[d-1].head.line==e.head.line)){var f=a.getModeAt(e.head),g=!1;if(f.electricChars){for(var h=0;h<f.electricChars.length;h++)if(b.indexOf(f.electricChars.charAt(h))>-1){g=Mc(a,e.head.line,"subtract");break}}else f.electricInput&&f.electricInput.test(Xd(a.doc,e.head.line).text.slice(0,e.head.ch))&&(g=Mc(a,e.head.line,"smart"));g&&we(a,"electricInput",a,e.head.line)}}}function ba(a){for(var b=[],c=[],d=0;d<a.doc.sel.ranges.length;d++){var e=a.doc.sel.ranges[d].head.line,f={anchor:Jf(e,0),head:Jf(e+1,0)};c.push(f),b.push(a.getRange(f.anchor,f.head))}return{text:b,ranges:c}}function ca(a){a.setAttribute("autocorrect","off"),a.setAttribute("autocapitalize","off"),a.setAttribute("spellcheck","false")}function da(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Ce,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ea(){var a=Oe("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),b=Oe("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return tf?a.style.width="1000px":a.setAttribute("wrap","off"),Af&&(a.style.border="1px solid black"),ca(a),b}function fa(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ce,this.gracePeriod=!1}function ga(a,b){var c=$a(a,b.line);if(!c||c.hidden)return null;var d=Xd(a.doc,b.line),e=Xa(c,d,b.line),f=ce(d),g="left";if(f){var h=hf(f,b.ch);g=h%2?"right":"left"}var i=bb(e.map,b.ch,g);return i.offset="right"==i.collapse?i.end:i.start,i}function ha(a,b){return b&&(a.bad=!0),a}function ia(a,b,c){var d;if(b==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[c],!d)return ha(a.clipPos(Jf(a.display.viewTo-1)),!0);b=null,c=0}else for(d=b;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var e=0;e<a.display.view.length;e++){var f=a.display.view[e];if(f.node==d)return ja(f,b,c)}}function ja(a,b,c){function d(b,c,d){for(var e=-1;e<(k?k.length:0);e++)for(var f=0>e?j.map:k[e],g=0;g<f.length;g+=3){var h=f[g+2];if(h==b||h==c){var i=_d(0>e?a.line:a.rest[e]),l=f[g]+d;return(0>d||h!=b)&&(l=f[g+(d?1:0)]),Jf(i,l)}}}var e=a.text.firstChild,f=!1;if(!b||!Tg(e,b))return ha(Jf(_d(a.line),0),!0);if(b==e&&(f=!0,b=e.childNodes[c],c=0,!b)){var g=a.rest?Ee(a.rest):a.line;return ha(Jf(_d(g),g.text.length),f)}var h=3==b.nodeType?b:null,i=b;for(h||1!=b.childNodes.length||3!=b.firstChild.nodeType||(h=b.firstChild,c&&(c=h.nodeValue.length));i.parentNode!=e;)i=i.parentNode;var j=a.measure,k=j.maps,l=d(h,i,c);if(l)return ha(l,f);for(var m=i.nextSibling,n=h?h.nodeValue.length-c:0;m;m=m.nextSibling){if(l=d(m,m.firstChild,0))return ha(Jf(l.line,l.ch-n),f);n+=m.textContent.length}for(var o=i.previousSibling,n=c;o;o=o.previousSibling){if(l=d(o,o.firstChild,-1))return ha(Jf(l.line,l.ch+n),f);n+=m.textContent.length}}function ka(a,b,c,d,e){function f(a){return function(b){return b.id==a}}function g(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)return""==c&&(c=b.textContent.replace(/\u200b/g,"")),void(h+=c);var k,l=b.getAttribute("cm-marker");if(l){var m=a.findMarks(Jf(d,0),Jf(e+1,0),f(+l));return void(m.length&&(k=m[0].find())&&(h+=Yd(a.doc,k.from,k.to).join(j)))}if("false"==b.getAttribute("contenteditable"))return;for(var n=0;n<b.childNodes.length;n++)g(b.childNodes[n]);/^(pre|div|p)$/i.test(b.nodeName)&&(i=!0)}else if(3==b.nodeType){var o=b.nodeValue;if(!o)return;i&&(h+=j,i=!1),h+=o}}for(var h="",i=!1,j=a.doc.lineSeparator();g(b),b!=c;)b=b.nextSibling;return h}function la(a,b){this.ranges=a,this.primIndex=b}function ma(a,b){this.anchor=a,this.head=b}function na(a,b){var c=a[b];a.sort(function(a,b){return Kf(a.from(),b.from())}),b=Fe(a,c);for(var d=1;d<a.length;d++){var e=a[d],f=a[d-1];if(Kf(f.to(),e.from())>=0){var g=X(f.from(),e.from()),h=W(f.to(),e.to()),i=f.empty()?e.from()==e.head:f.from()==f.head;b>=d&&--b,a.splice(--d,2,new ma(i?h:g,i?g:h))}}return new la(a,b)}function oa(a,b){return new la([new ma(a,b||a)],0)}function pa(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function qa(a,b){if(b.line<a.first)return Jf(a.first,0);var c=a.first+a.size-1;return b.line>c?Jf(c,Xd(a,c).text.length):ra(b,Xd(a,b.line).text.length)}function ra(a,b){var c=a.ch;return null==c||c>b?Jf(a.line,b):0>c?Jf(a.line,0):a}function sa(a,b){return b>=a.first&&b<a.first+a.size}function ta(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=qa(a,b[d]);return c}function ua(a,b,c,d){if(a.cm&&a.cm.display.shift||a.extend){var e=b.anchor;if(d){var f=Kf(c,e)<0;f!=Kf(d,e)<0?(e=c,c=d):f!=Kf(c,d)<0&&(c=d)}return new ma(e,c)}return new ma(d||c,c)}function va(a,b,c,d){Ba(a,new la([ua(a,a.sel.primary(),b,c)],0),d)}function wa(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=ua(a,a.sel.ranges[e],b[e],null);var f=na(d,a.sel.primIndex);Ba(a,f,c)}function xa(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,Ba(a,na(e,a.sel.primIndex),d)}function ya(a,b,c,d){Ba(a,oa(b,c),d)}function za(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new ma(qa(a,b[c].anchor),qa(a,b[c].head))}};return Eg(a,"beforeSelectionChange",a,c),a.cm&&Eg(a.cm,"beforeSelectionChange",a.cm,c),c.ranges!=b.ranges?na(c.ranges,c.ranges.length-1):b}function Aa(a,b,c){var d=a.history.done,e=Ee(d);e&&e.ranges?(d[d.length-1]=b,Ca(a,b,c)):Ba(a,b,c)}function Ba(a,b,c){Ca(a,b,c),je(a,a.sel,a.cm?a.cm.curOp.id:NaN,c)}function Ca(a,b,c){(Ae(a,"beforeSelectionChange")||a.cm&&Ae(a.cm,"beforeSelectionChange"))&&(b=za(a,b));var d=c&&c.bias||(Kf(b.primary().head,a.sel.primary().head)<0?-1:1);Da(a,Fa(a,b,d,!0)),c&&c.scroll===!1||!a.cm||Kc(a.cm)}function Da(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,ze(a.cm)),we(a,"cursorActivity",a))}function Ea(a){Da(a,Fa(a,a.sel,null,!1),Ig)}function Fa(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=Ga(a,g.anchor,c,d),i=Ga(a,g.head,c,d);(e||h!=g.anchor||i!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new ma(h,i))}return e?na(e,b.primIndex):b}function Ga(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=Xd(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&(Eg(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find(0>g?-1:1);if(0==Kf(l,f)&&(l.ch+=g,
l.ch<0?l=l.line>a.first?qa(a,Jf(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?Jf(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,Jf(a.first,0)):Ga(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function Ha(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Ia(a,b){for(var c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++)if(b!==!1||g!=c.sel.primIndex){var h=c.sel.ranges[g],i=h.empty();(i||a.options.showCursorWhenSelecting)&&Ja(a,h.head,e),i||Ka(a,h,f)}return d}function Ja(a,b,c){var d=mb(a,b,"div",null,null,!a.options.singleCursorHeightPerLine),e=c.appendChild(Oe("div"," ","CodeMirror-cursor"));if(e.style.left=d.left+"px",e.style.top=d.top+"px",e.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",d.other){var f=c.appendChild(Oe("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=d.other.left+"px",f.style.top=d.other.top+"px",f.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function Ka(a,b,c){function d(a,b,c,d){0>b&&(b=0),b=Math.round(b),d=Math.round(d),h.appendChild(Oe("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?k-a:c)+"px; height: "+(d-b)+"px"))}function e(b,c,e){function f(c,d){return lb(a,Jf(b,c),"div",l,d)}var h,i,l=Xd(g,b),m=l.text.length;return $e(ce(l),c||0,null==e?m:e,function(a,b,g){var l,n,o,p=f(a,"left");if(a==b)l=p,n=o=p.left;else{if(l=f(b-1,"right"),"rtl"==g){var q=p;p=l,l=q}n=p.left,o=l.right}null==c&&0==a&&(n=j),l.top-p.top>3&&(d(n,p.top,null,p.bottom),n=j,p.bottom<l.top&&d(n,p.bottom,null,l.top)),null==e&&b==m&&(o=k),(!h||p.top<h.top||p.top==h.top&&p.left<h.left)&&(h=p),(!i||l.bottom>i.bottom||l.bottom==i.bottom&&l.right>i.right)&&(i=l),j+1>n&&(n=j),d(n,l.top,o-n,l.bottom)}),{start:h,end:i}}var f=a.display,g=a.doc,h=document.createDocumentFragment(),i=Sa(a.display),j=i.left,k=Math.max(f.sizerWidth,Ua(a)-f.sizer.offsetLeft)-i.right,l=b.from(),m=b.to();if(l.line==m.line)e(l.line,l.ch,m.ch);else{var n=Xd(g,l.line),o=Xd(g,m.line),p=qd(n)==qd(o),q=e(l.line,l.ch,p?n.text.length+1:null).end,r=e(m.line,p?0:null,m.ch).start;p&&(q.top<r.top-2?(d(q.right,q.top,null,q.bottom),d(j,r.top,r.left,r.bottom)):d(q.right,q.top,r.left-q.right,q.bottom)),q.bottom<r.top&&d(j,q.bottom,null,r.top)}c.appendChild(h)}function La(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function Ma(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,Ke(Na,a))}function Na(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=fg(b.mode,Pa(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var g=f.styles,h=f.text.length>a.options.maxHighlightLength,i=Gd(a,f,h?fg(b.mode,d):d,!0);f.styles=i.styles;var j=f.styleClasses,k=i.classes;k?f.styleClasses=k:j&&(f.styleClasses=null);for(var l=!g||g.length!=f.styles.length||j!=k&&(!j||!k||j.bgClass!=k.bgClass||j.textClass!=k.textClass),m=0;!l&&m<g.length;++m)l=g[m]!=f.styles[m];l&&e.push(b.frontier),f.stateAfter=h?d:fg(b.mode,d)}else f.text.length<=a.options.maxHighlightLength&&Id(a,f.text,d),f.stateAfter=b.frontier%5==0?fg(b.mode,d):null;return++b.frontier,+new Date>c?(Ma(a,a.options.workDelay),!0):void 0}),e.length&&Cb(a,function(){for(var b=0;b<e.length;b++)Jb(a,e[b],"text")})}}function Oa(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=Xd(f,h-1);if(i.stateAfter&&(!c||h<=f.frontier))return h;var j=Lg(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=h-1,d=j)}return e}function Pa(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=Oa(a,b,c),g=f>d.first&&Xd(d,f-1).stateAfter;return g=g?fg(d.mode,g):gg(d.mode),d.iter(f,b,function(c){Id(a,c.text,g);var h=f==b-1||f%5==0||f>=e.viewFrom&&f<e.viewTo;c.stateAfter=h?fg(d.mode,g):null,++f}),c&&(d.frontier=f),g}function Qa(a){return a.lineSpace.offsetTop}function Ra(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Sa(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=Qe(a.measure,Oe("pre","x")),c=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return isNaN(d.left)||isNaN(d.right)||(a.cachedPaddingH=d),d}function Ta(a){return Gg-a.display.nativeBarWidth}function Ua(a){return a.display.scroller.clientWidth-Ta(a)-a.display.barWidth}function Va(a){return a.display.scroller.clientHeight-Ta(a)-a.display.barHeight}function Wa(a,b,c){var d=a.options.lineWrapping,e=d&&Ua(a);if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)>2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function Xa(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var d=0;d<a.rest.length;d++)if(_d(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function Ya(a,b){b=qd(b);var c=_d(b),d=a.display.externalMeasured=new Gb(a.doc,b,c);d.lineN=c;var e=d.built=Kd(a,d);return d.text=e.pre,Qe(a.display.lineMeasure,e.pre),d}function Za(a,b,c,d){return ab(a,_a(a,b),c,d)}function $a(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[Lb(a,b)];var c=a.display.externalMeasured;return c&&b>=c.lineN&&b<c.lineN+c.size?c:void 0}function _a(a,b){var c=_d(b),d=$a(a,c);d&&!d.text?d=null:d&&d.changes&&(J(a,d,c,H(a)),a.curOp.forceUpdate=!0),d||(d=Ya(a,b));var e=Xa(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function ab(a,b,c,d,e){b.before&&(c=-1);var f,g=c+(d||"");return b.cache.hasOwnProperty(g)?f=b.cache[g]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(Wa(a,b.view,b.rect),b.hasHeights=!0),f=cb(a,b,c,d),f.bogus||(b.cache[g]=f)),{left:f.left,right:f.right,top:e?f.rtop:f.top,bottom:e?f.rbottom:f.bottom}}function bb(a,b,c){for(var d,e,f,g,h=0;h<a.length;h+=3){var i=a[h],j=a[h+1];if(i>b?(e=0,f=1,g="left"):j>b?(e=b-i,f=e+1):(h==a.length-3||b==j&&a[h+3]>b)&&(f=j-i,e=f-1,b>=j&&(g="right")),null!=e){if(d=a[h+2],i==j&&c==(d.insertLeft?"left":"right")&&(g=c),"left"==c&&0==e)for(;h&&a[h-2]==a[h-3]&&a[h-1].insertLeft;)d=a[(h-=3)+2],g="left";if("right"==c&&e==j-i)for(;h<a.length-3&&a[h+3]==a[h+4]&&!a[h+5].insertLeft;)d=a[(h+=3)+2],g="right";break}}return{node:d,start:e,end:f,collapse:g,coverStart:i,coverEnd:j}}function cb(a,b,c,d){var e,f=bb(b.map,c,d),g=f.node,h=f.start,i=f.end,j=f.collapse;if(3==g.nodeType){for(var k=0;4>k;k++){for(;h&&Ne(b.line.text.charAt(f.coverStart+h));)--h;for(;f.coverStart+i<f.coverEnd&&Ne(b.line.text.charAt(f.coverStart+i));)++i;if(rf&&9>sf&&0==h&&i==f.coverEnd-f.coverStart)e=g.parentNode.getBoundingClientRect();else if(rf&&a.options.lineWrapping){var l=Pg(g,h,i).getClientRects();e=l.length?l["right"==d?l.length-1:0]:Pf}else e=Pg(g,h,i).getBoundingClientRect()||Pf;if(e.left||e.right||0==h)break;i=h,h-=1,j="right"}rf&&11>sf&&(e=db(a.display.measure,e))}else{h>0&&(j=d="right");var l;e=a.options.lineWrapping&&(l=g.getClientRects()).length>1?l["right"==d?l.length-1:0]:g.getBoundingClientRect()}if(rf&&9>sf&&!h&&(!e||!e.left&&!e.right)){var m=g.parentNode.getClientRects()[0];e=m?{left:m.left,right:m.left+sb(a.display),top:m.top,bottom:m.bottom}:Pf}for(var n=e.top-b.rect.top,o=e.bottom-b.rect.top,p=(n+o)/2,q=b.view.measure.heights,k=0;k<q.length-1&&!(p<q[k]);k++);var r=k?q[k-1]:0,s=q[k],t={left:("right"==j?e.right:e.left)-b.rect.left,right:("left"==j?e.left:e.right)-b.rect.left,top:r,bottom:s};return e.left||e.right||(t.bogus=!0),a.options.singleCursorHeightPerLine||(t.rtop=n,t.rbottom=o),t}function db(a,b){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ze(a))return b;var c=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*c,right:b.right*c,top:b.top*d,bottom:b.bottom*d}}function eb(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function fb(a){a.display.externalMeasure=null,Pe(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)eb(a.display.view[b])}function gb(a){fb(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function hb(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ib(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function jb(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=xd(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=be(b);if("local"==d?g+=Qa(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=a.display.lineSpace.getBoundingClientRect();g+=h.top+("window"==d?0:ib());var i=h.left+("window"==d?0:hb());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function kb(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=hb(),e-=ib();else if("local"==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function lb(a,b,c,d,e){return d||(d=Xd(a.doc,b.line)),jb(a,d,Za(a,d,b.ch,e),c)}function mb(a,b,c,d,e,f){function g(b,g){var h=ab(a,e,b,g?"right":"left",f);return g?h.left=h.right:h.right=h.left,jb(a,d,h,c)}function h(a,b){var c=i[b],d=c.level%2;return a==_e(c)&&b&&c.level<i[b-1].level?(c=i[--b],a=af(c)-(c.level%2?0:1),d=!0):a==af(c)&&b<i.length-1&&c.level<i[b+1].level&&(c=i[++b],a=_e(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?g(a-1):g(a,d)}d=d||Xd(a.doc,b.line),e||(e=_a(a,d));var i=ce(d),j=b.ch;if(!i)return g(j);var k=hf(i,j),l=h(j,k);return null!=dh&&(l.other=h(j,dh)),l}function nb(a,b){var c=0,b=qa(a.doc,b);a.options.lineWrapping||(c=sb(a.display)*b.ch);var d=Xd(a.doc,b.line),e=be(d)+Qa(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function ob(a,b,c,d){var e=Jf(a,b);return e.xRel=d,c&&(e.outside=!0),e}function pb(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,0>c)return ob(d.first,0,!0,-1);var e=ae(d,c),f=d.first+d.size-1;if(e>f)return ob(d.first+d.size-1,Xd(d,f).text.length,!0,1);0>b&&(b=0);for(var g=Xd(d,e);;){var h=qb(a,g,e,b,c),i=od(g),j=i&&i.find(0,!0);if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=_d(g=j.to.line)}}function qb(a,b,c,d,e){function f(d){var e=mb(a,Jf(c,d),"line",b,j);return h=!0,g>e.bottom?e.left-i:g<e.top?e.left+i:(h=!1,e.left)}var g=e-be(b),h=!1,i=2*a.display.wrapper.clientWidth,j=_a(a,b),k=ce(b),l=b.text.length,m=bf(b),n=cf(b),o=f(m),p=h,q=f(n),r=h;if(d>q)return ob(c,n,r,1);for(;;){if(k?n==m||n==kf(b,m,1):1>=n-m){for(var s=o>d||q-d>=d-o?m:n,t=d-(s==m?o:q);Ne(b.text.charAt(s));)++s;var u=ob(c,s,s==m?p:r,-1>t?-1:t>1?1:0);return u}var v=Math.ceil(l/2),w=m+v;if(k){w=m;for(var x=0;v>x;++x)w=kf(b,w,1)}var y=f(w);y>d?(n=w,q=y,(r=h)&&(q+=1e3),l=v):(m=w,o=y,p=h,l-=v)}}function rb(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Mf){Mf=Oe("pre");for(var b=0;49>b;++b)Mf.appendChild(document.createTextNode("x")),Mf.appendChild(Oe("br"));Mf.appendChild(document.createTextNode("x"))}Qe(a.measure,Mf);var c=Mf.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),Pe(a.measure),c||1}function sb(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=Oe("span","xxxxxxxxxx"),c=Oe("pre",[b]);Qe(a.measure,c);var d=b.getBoundingClientRect(),e=(d.right-d.left)/10;return e>2&&(a.cachedCharWidth=e),e||10}function tb(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Rf},Qf?Qf.ops.push(a.curOp):a.curOp.ownsGroup=Qf={ops:[a.curOp],delayedCallbacks:[]}}function ub(a){var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c].call(null);for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++].call(null,e.cm)}}while(c<b.length)}function vb(a){var b=a.curOp,c=b.ownsGroup;if(c)try{ub(c)}finally{Qf=null;for(var d=0;d<c.ops.length;d++)c.ops[d].cm.curOp=null;wb(c)}}function wb(a){for(var b=a.ops,c=0;c<b.length;c++)xb(b[c]);for(var c=0;c<b.length;c++)yb(b[c]);for(var c=0;c<b.length;c++)zb(b[c]);for(var c=0;c<b.length;c++)Ab(b[c]);for(var c=0;c<b.length;c++)Bb(b[c])}function xb(a){var b=a.cm,c=b.display;A(b),a.updateMaxLine&&m(b),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<c.viewFrom||a.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping,a.update=a.mustUpdate&&new z(b,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function yb(a){a.updatedDisplay=a.mustUpdate&&B(a.cm,a.update)}function zb(a){var b=a.cm,c=b.display;a.updatedDisplay&&F(b),a.barMeasure=o(b),c.maxLineChanged&&!b.options.lineWrapping&&(a.adjustWidthTo=Za(b,c.maxLine,c.maxLine.text.length).left+3,b.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+a.adjustWidthTo+Ta(b)+b.display.barWidth),a.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+a.adjustWidthTo-Ua(b))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=c.input.prepareSelection())}function Ab(a){var b=a.cm;null!=a.adjustWidthTo&&(b.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<b.doc.scrollLeft&&dc(b,Math.min(b.display.scroller.scrollLeft,a.maxScrollLeft),!0),b.display.maxLineChanged=!1),a.preparedSelection&&b.display.input.showSelection(a.preparedSelection),a.updatedDisplay&&E(b,a.barMeasure),(a.updatedDisplay||a.startHeight!=b.doc.height)&&s(b,a.barMeasure),a.selectionChanged&&La(b),b.state.focused&&a.updateInput&&b.display.input.reset(a.typing),a.focus&&a.focus==Re()&&Y(a.cm)}function Bb(a){var b=a.cm,c=b.display,d=b.doc;if(a.updatedDisplay&&C(b,a.update),null==c.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(c.wheelStartX=c.wheelStartY=null),null==a.scrollTop||c.scroller.scrollTop==a.scrollTop&&!a.forceScroll||(d.scrollTop=Math.max(0,Math.min(c.scroller.scrollHeight-c.scroller.clientHeight,a.scrollTop)),c.scrollbars.setScrollTop(d.scrollTop),c.scroller.scrollTop=d.scrollTop),null==a.scrollLeft||c.scroller.scrollLeft==a.scrollLeft&&!a.forceScroll||(d.scrollLeft=Math.max(0,Math.min(c.scroller.scrollWidth-Ua(b),a.scrollLeft)),c.scrollbars.setScrollLeft(d.scrollLeft),c.scroller.scrollLeft=d.scrollLeft,v(b)),a.scrollToPos){var e=Gc(b,qa(d,a.scrollToPos.from),qa(d,a.scrollToPos.to),a.scrollToPos.margin);a.scrollToPos.isCursor&&b.state.focused&&Fc(b,e)}var f=a.maybeHiddenMarkers,g=a.maybeUnhiddenMarkers;if(f)for(var h=0;h<f.length;++h)f[h].lines.length||Eg(f[h],"hide");if(g)for(var h=0;h<g.length;++h)g[h].lines.length&&Eg(g[h],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=b.display.scroller.scrollTop),a.changeObjs&&Eg(b,"changes",b,a.changeObjs),a.update&&a.update.finish()}function Cb(a,b){if(a.curOp)return b();tb(a);try{return b()}finally{vb(a)}}function Db(a,b){return function(){if(a.curOp)return b.apply(a,arguments);tb(a);try{return b.apply(a,arguments)}finally{vb(a)}}}function Eb(a){return function(){if(this.curOp)return a.apply(this,arguments);tb(this);try{return a.apply(this,arguments)}finally{vb(this)}}}function Fb(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);tb(b);try{return a.apply(this,arguments)}finally{vb(b)}}}function Gb(a,b,c){this.line=b,this.rest=rd(b),this.size=this.rest?_d(Ee(this.rest))-c+1:1,this.node=this.text=null,this.hidden=ud(a,b)}function Hb(a,b,c){for(var d,e=[],f=b;c>f;f=d){var g=new Gb(a.doc,Xd(a.doc,f),f);d=f+g.size,e.push(g)}return e}function Ib(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b>=e.viewTo)If&&sd(a.doc,b)<e.viewTo&&Kb(a);else if(c<=e.viewFrom)If&&td(a.doc,c+d)>e.viewFrom?Kb(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)Kb(a);else if(b<=e.viewFrom){var f=Mb(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):Kb(a)}else if(c>=e.viewTo){var f=Mb(a,b,b,-1);f?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):Kb(a)}else{var g=Mb(a,b,b,-1),h=Mb(a,c,c+d,1);g&&h?(e.view=e.view.slice(0,g.index).concat(Hb(a,g.lineN,h.lineN)).concat(e.view.slice(h.index)),e.viewTo+=d):Kb(a)}var i=e.externalMeasured;i&&(c<i.lineN?i.lineN+=d:b<i.lineN+i.size&&(e.externalMeasured=null))}function Jb(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null),!(b<d.viewFrom||b>=d.viewTo)){var f=d.view[Lb(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);-1==Fe(g,c)&&g.push(c)}}}function Kb(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Lb(a,b){if(b>=a.display.viewTo)return null;if(b-=a.display.viewFrom,0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function Mb(a,b,c,d){var e,f=Lb(a,b),g=a.display.view;if(!If||c==a.doc.first+a.doc.size)return{index:f,lineN:c};for(var h=0,i=a.display.viewFrom;f>h;h++)i+=g[h].size;if(i!=b){if(d>0){if(f==g.length-1)return null;e=i+g[f].size-b,f++}else e=i-b;b+=e,c+=e}for(;sd(a.doc,c)!=c;){if(f==(0>d?0:g.length-1))return null;c+=d*g[f-(0>d?1:0)].size,f+=d}return{index:f,lineN:c}}function Nb(a,b,c){var d=a.display,e=d.view;0==e.length||b>=d.viewTo||c<=d.viewFrom?(d.view=Hb(a,b,c),d.viewFrom=b):(d.viewFrom>b?d.view=Hb(a,b,d.viewFrom).concat(d.view):d.viewFrom<b&&(d.view=d.view.slice(Lb(a,b))),d.viewFrom=b,d.viewTo<c?d.view=d.view.concat(Hb(a,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,Lb(a,c)))),d.viewTo=c}function Ob(a){for(var b=a.display.view,c=0,d=0;d<b.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function Pb(a){function b(){e.activeTouch&&(f=setTimeout(function(){e.activeTouch=null},1e3),g=e.activeTouch,g.end=+new Date)}function c(a){if(1!=a.touches.length)return!1;var b=a.touches[0];return b.radiusX<=1&&b.radiusY<=1}function d(a,b){if(null==b.left)return!0;var c=b.left-a.left,d=b.top-a.top;return c*c+d*d>400}var e=a.display;Bg(e.scroller,"mousedown",Db(a,Ub)),rf&&11>sf?Bg(e.scroller,"dblclick",Db(a,function(b){if(!ye(a,b)){var c=Tb(a,b);if(c&&!Zb(a,b)&&!Sb(a.display,b)){yg(b);var d=a.findWordAt(c);va(a.doc,d.anchor,d.head)}}})):Bg(e.scroller,"dblclick",function(b){ye(a,b)||yg(b)}),Gf||Bg(e.scroller,"contextmenu",function(b){rc(a,b)});var f,g={end:0};Bg(e.scroller,"touchstart",function(a){if(!c(a)){clearTimeout(f);var b=+new Date;e.activeTouch={start:b,moved:!1,prev:b-g.end<=300?g:null},1==a.touches.length&&(e.activeTouch.left=a.touches[0].pageX,e.activeTouch.top=a.touches[0].pageY)}}),Bg(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),Bg(e.scroller,"touchend",function(c){var f=e.activeTouch;if(f&&!Sb(e,c)&&null!=f.left&&!f.moved&&new Date-f.start<300){var g,h=a.coordsChar(e.activeTouch,"page");g=!f.prev||d(f,f.prev)?new ma(h,h):!f.prev.prev||d(f,f.prev.prev)?a.findWordAt(h):new ma(Jf(h.line,0),qa(a.doc,Jf(h.line+1,0))),a.setSelection(g.anchor,g.head),a.focus(),yg(c)}b()}),Bg(e.scroller,"touchcancel",b),Bg(e.scroller,"scroll",function(){e.scroller.clientHeight&&(cc(a,e.scroller.scrollTop),dc(a,e.scroller.scrollLeft,!0),Eg(a,"scroll",a))}),Bg(e.scroller,"mousewheel",function(b){ec(a,b)}),Bg(e.scroller,"DOMMouseScroll",function(b){ec(a,b)}),Bg(e.wrapper,"scroll",function(){e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(b){ye(a,b)||Ag(b)},over:function(b){ye(a,b)||(ac(a,b),Ag(b))},start:function(b){_b(a,b)},drop:Db(a,$b),leave:function(){bc(a)}};var h=e.input.getField();Bg(h,"keyup",function(b){mc.call(a,b)}),Bg(h,"keydown",Db(a,kc)),Bg(h,"keypress",Db(a,nc)),Bg(h,"focus",Ke(pc,a)),Bg(h,"blur",Ke(qc,a))}function Qb(b,c,d){var e=d&&d!=a.Init;if(!c!=!e){var f=b.display.dragFunctions,g=c?Bg:Dg;g(b.display.scroller,"dragstart",f.start),g(b.display.scroller,"dragenter",f.enter),g(b.display.scroller,"dragover",f.over),g(b.display.scroller,"dragleave",f.leave),g(b.display.scroller,"drop",f.drop)}}function Rb(a){var b=a.display;(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)&&(b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize())}function Sb(a,b){for(var c=te(b);c!=a.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&"true"==c.getAttribute("cm-ignore-events")||c.parentNode==a.sizer&&c!=a.mover)return!0}function Tb(a,b,c,d){var e=a.display;if(!c&&"true"==te(b).getAttribute("cm-not-content"))return null;var f,g,h=e.lineSpace.getBoundingClientRect();try{f=b.clientX-h.left,g=b.clientY-h.top}catch(b){return null}var i,j=pb(a,f,g);if(d&&1==j.xRel&&(i=Xd(a.doc,j.line).text).length==j.ch){var k=Lg(i,i.length,a.options.tabSize)-i.length;j=Jf(j.line,Math.max(0,Math.round((f-Sa(a.display).left)/sb(a.display))-k))}return j}function Ub(a){var b=this,c=b.display;if(!(c.activeTouch&&c.input.supportsTouch()||ye(b,a))){if(c.shift=a.shiftKey,Sb(c,a))return void(tf||(c.scroller.draggable=!1,setTimeout(function(){c.scroller.draggable=!0},100)));if(!Zb(b,a)){var d=Tb(b,a);switch(window.focus(),ue(a)){case 1:b.state.selectingText?b.state.selectingText(a):d?Vb(b,a,d):te(a)==c.scroller&&yg(a);break;case 2:tf&&(b.state.lastMiddleDown=+new Date),d&&va(b.doc,d),setTimeout(function(){c.input.focus()},20),yg(a);break;case 3:Gf?rc(b,a):oc(b)}}}}function Vb(a,b,c){rf?setTimeout(Ke(Y,a),0):a.curOp.focus=Re();var d,e=+new Date;Of&&Of.time>e-400&&0==Kf(Of.pos,c)?d="triple":Nf&&Nf.time>e-400&&0==Kf(Nf.pos,c)?(d="double",Of={time:e,pos:c}):(d="single",Nf={time:e,pos:c});var f,g=a.doc.sel,h=Cf?b.metaKey:b.ctrlKey;a.options.dragDrop&&Zg&&!Z(a)&&"single"==d&&(f=g.contains(c))>-1&&(Kf((f=g.ranges[f]).from(),c)<0||c.xRel>0)&&(Kf(f.to(),c)>0||c.xRel<0)?Wb(a,b,c,h):Xb(a,b,c,d,h)}function Wb(a,b,c,d){var e=a.display,f=+new Date,g=Db(a,function(h){tf&&(e.scroller.draggable=!1),a.state.draggingText=!1,Dg(document,"mouseup",g),Dg(e.scroller,"drop",g),Math.abs(b.clientX-h.clientX)+Math.abs(b.clientY-h.clientY)<10&&(yg(h),!d&&+new Date-200<f&&va(a.doc,c),tf||rf&&9==sf?setTimeout(function(){document.body.focus(),e.input.focus()},20):e.input.focus())});tf&&(e.scroller.draggable=!0),a.state.draggingText=g,e.scroller.dragDrop&&e.scroller.dragDrop(),Bg(document,"mouseup",g),Bg(e.scroller,"drop",g)}function Xb(a,b,c,d,e){function f(b){if(0!=Kf(q,b))if(q=b,"rect"==d){for(var e=[],f=a.options.tabSize,g=Lg(Xd(j,c.line).text,c.ch,f),h=Lg(Xd(j,b.line).text,b.ch,f),i=Math.min(g,h),n=Math.max(g,h),o=Math.min(c.line,b.line),p=Math.min(a.lastLine(),Math.max(c.line,b.line));p>=o;o++){var r=Xd(j,o).text,s=Mg(r,i,f);i==n?e.push(new ma(Jf(o,s),Jf(o,s))):r.length>s&&e.push(new ma(Jf(o,s),Jf(o,Mg(r,n,f))))}e.length||e.push(new ma(c,c)),Ba(j,na(m.ranges.slice(0,l).concat(e),l),{origin:"*mouse",scroll:!1}),a.scrollIntoView(b)}else{var t=k,u=t.anchor,v=b;if("single"!=d){if("double"==d)var w=a.findWordAt(b);else var w=new ma(Jf(b.line,0),qa(j,Jf(b.line+1,0)));Kf(w.anchor,u)>0?(v=w.head,u=X(t.from(),w.anchor)):(v=w.anchor,u=W(t.to(),w.head))}var e=m.ranges.slice(0);e[l]=new ma(qa(j,u),v),Ba(j,na(e,l),Jg)}}function g(b){var c=++s,e=Tb(a,b,!0,"rect"==d);if(e)if(0!=Kf(e,q)){a.curOp.focus=Re(),f(e);var h=u(i,j);(e.line>=h.to||e.line<h.from)&&setTimeout(Db(a,function(){s==c&&g(b)}),150)}else{var k=b.clientY<r.top?-20:b.clientY>r.bottom?20:0;k&&setTimeout(Db(a,function(){s==c&&(i.scroller.scrollTop+=k,g(b))}),50)}}function h(b){a.state.selectingText=!1,s=1/0,yg(b),i.input.focus(),Dg(document,"mousemove",t),Dg(document,"mouseup",v),j.history.lastSelOrigin=null}var i=a.display,j=a.doc;yg(b);var k,l,m=j.sel,n=m.ranges;if(e&&!b.shiftKey?(l=j.sel.contains(c),k=l>-1?n[l]:new ma(c,c)):(k=j.sel.primary(),l=j.sel.primIndex),b.altKey)d="rect",e||(k=new ma(c,c)),c=Tb(a,b,!0,!0),l=-1;else if("double"==d){var o=a.findWordAt(c);k=a.display.shift||j.extend?ua(j,k,o.anchor,o.head):o}else if("triple"==d){var p=new ma(Jf(c.line,0),qa(j,Jf(c.line+1,0)));k=a.display.shift||j.extend?ua(j,k,p.anchor,p.head):p}else k=ua(j,k,c);e?-1==l?(l=n.length,Ba(j,na(n.concat([k]),l),{scroll:!1,origin:"*mouse"})):n.length>1&&n[l].empty()&&"single"==d&&!b.shiftKey?(Ba(j,na(n.slice(0,l).concat(n.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),m=j.sel):xa(j,l,k,Jg):(l=0,Ba(j,new la([k],0),Jg),m=j.sel);var q=c,r=i.wrapper.getBoundingClientRect(),s=0,t=Db(a,function(a){ue(a)?g(a):h(a)}),v=Db(a,h);a.state.selectingText=v,Bg(document,"mousemove",t),Bg(document,"mouseup",v)}function Yb(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(b){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&yg(b);var h=a.display,i=h.lineDiv.getBoundingClientRect();if(g>i.bottom||!Ae(a,c))return se(b);g-=i.top-h.viewOffset;for(var j=0;j<a.options.gutters.length;++j){var k=h.gutters.childNodes[j];if(k&&k.getBoundingClientRect().right>=f){var l=ae(a.doc,g),m=a.options.gutters[j];return e(a,c,a,l,m,b),se(b)}}}function Zb(a,b){return Yb(a,b,"gutterClick",!0,we)}function $b(a){var b=this;if(bc(b),!ye(b,a)&&!Sb(b.display,a)){yg(a),rf&&(Sf=+new Date);var c=Tb(b,a,!0),d=a.dataTransfer.files;if(c&&!Z(b))if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){if(!b.options.allowDropFileTypes||-1!=Fe(b.options.allowDropFileTypes,a.type)){var h=new FileReader;h.onload=Db(b,function(){var a=h.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a=""),f[d]=a,++g==e){c=qa(b.doc,c);var i={from:c,to:c,text:b.doc.splitLines(f.join(b.doc.lineSeparator())),origin:"paste"};yc(b.doc,i),Aa(b.doc,oa(c,Yf(i)))}}),h.readAsText(a)}},i=0;e>i;++i)h(d[i],i);else{if(b.state.draggingText&&b.doc.sel.contains(c)>-1)return b.state.draggingText(a),void setTimeout(function(){b.display.input.focus()},20);try{var f=a.dataTransfer.getData("Text");if(f){if(b.state.draggingText&&!(Cf?a.altKey:a.ctrlKey))var j=b.listSelections();if(Ca(b.doc,oa(c,c)),j)for(var i=0;i<j.length;++i)Ec(b.doc,"",j[i].anchor,j[i].head,"drag");b.replaceSelection(f,"around","paste"),b.display.input.focus()}}catch(a){}}}}function _b(a,b){if(rf&&(!a.state.draggingText||+new Date-Sf<100))return void Ag(b);if(!ye(a,b)&&!Sb(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!xf)){var c=Oe("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",wf&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),wf&&c.parentNode.removeChild(c)}}function ac(a,b){var c=Tb(a,b);if(c){var d=document.createDocumentFragment();Ja(a,c,d),a.display.dragCursor||(a.display.dragCursor=Oe("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Qe(a.display.dragCursor,d)}}function bc(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function cc(a,b){Math.abs(a.doc.scrollTop-b)<2||(a.doc.scrollTop=b,of||D(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbars.setScrollTop(b),of&&D(a),Ma(a,100))}function dc(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,v(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}function ec(a,b){var c=Vf(b),d=c.x,e=c.y,f=a.display,g=f.scroller,h=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight;if(d&&h||e&&i){if(e&&Cf&&tf)a:for(var j=b.target,k=f.view;j!=g;j=j.parentNode)for(var l=0;l<k.length;l++)if(k[l].node==j){a.display.currentWheelTarget=j;break a}if(d&&!of&&!wf&&null!=Uf)return e&&i&&cc(a,Math.max(0,Math.min(g.scrollTop+e*Uf,g.scrollHeight-g.clientHeight))),dc(a,Math.max(0,Math.min(g.scrollLeft+d*Uf,g.scrollWidth-g.clientWidth))),(!e||e&&i)&&yg(b),void(f.wheelStartX=null);if(e&&null!=Uf){var m=e*Uf,n=a.doc.scrollTop,o=n+f.wrapper.clientHeight;0>m?n=Math.max(0,n+m-50):o=Math.min(a.doc.height,o+m+50),D(a,{top:n,bottom:o})}20>Tf&&(null==f.wheelStartX?(f.wheelStartX=g.scrollLeft,f.wheelStartY=g.scrollTop,f.wheelDX=d,f.wheelDY=e,setTimeout(function(){if(null!=f.wheelStartX){var a=g.scrollLeft-f.wheelStartX,b=g.scrollTop-f.wheelStartY,c=b&&f.wheelDY&&b/f.wheelDY||a&&f.wheelDX&&a/f.wheelDX;f.wheelStartX=f.wheelStartY=null,c&&(Uf=(Uf*Tf+c)/(Tf+1),++Tf)}},200)):(f.wheelDX+=d,f.wheelDY+=e))}}function fc(a,b,c){if("string"==typeof b&&(b=hg[b],!b))return!1;a.display.input.ensurePolled();var d=a.display.shift,e=!1;try{Z(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=Hg}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function gc(a,b,c){for(var d=0;d<a.state.keyMaps.length;d++){var e=jg(b,a.state.keyMaps[d],c,a);if(e)return e}return a.options.extraKeys&&jg(b,a.options.extraKeys,c,a)||jg(b,a.options.keyMap,c,a)}function hc(a,b,c,d){var e=a.state.keySeq;if(e){if(kg(b))return"handled";Wf.set(50,function(){a.state.keySeq==e&&(a.state.keySeq=null,a.display.input.reset())}),b=e+" "+b}var f=gc(a,b,d);return"multi"==f&&(a.state.keySeq=b),"handled"==f&&we(a,"keyHandled",a,b,c),("handled"==f||"multi"==f)&&(yg(c),La(a)),e&&!f&&/\'$/.test(b)?(yg(c),!0):!!f}function ic(a,b){var c=lg(b,!0);return c?b.shiftKey&&!a.state.keySeq?hc(a,"Shift-"+c,b,function(b){return fc(a,b,!0)})||hc(a,c,b,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?fc(a,b):void 0}):hc(a,c,b,function(b){return fc(a,b)}):!1}function jc(a,b,c){return hc(a,"'"+c+"'",b,function(b){return fc(a,b,!0)})}function kc(a){var b=this;if(b.curOp.focus=Re(),!ye(b,a)){rf&&11>sf&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var d=ic(b,a);wf&&(Xf=d?c:null,!d&&88==c&&!ah&&(Cf?a.metaKey:a.ctrlKey)&&b.replaceSelection("",null,"cut")),18!=c||/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)||lc(b)}}function lc(a){function b(a){18!=a.keyCode&&a.altKey||(Wg(c,"CodeMirror-crosshair"),Dg(document,"keyup",b),Dg(document,"mouseover",b))}var c=a.display.lineDiv;Xg(c,"CodeMirror-crosshair"),Bg(document,"keyup",b),Bg(document,"mouseover",b)}function mc(a){16==a.keyCode&&(this.doc.sel.shift=!1),ye(this,a)}function nc(a){var b=this;if(!(Sb(b.display,a)||ye(b,a)||a.ctrlKey&&!a.altKey||Cf&&a.metaKey)){var c=a.keyCode,d=a.charCode;if(wf&&c==Xf)return Xf=null,void yg(a);if(!wf||a.which&&!(a.which<10)||!ic(b,a)){var e=String.fromCharCode(null==d?c:d);jc(b,a,e)||b.display.input.onKeyPress(a)}}}function oc(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,qc(a))},100)}function pc(a){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(Eg(a,"focus",a),a.state.focused=!0,Xg(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),tf&&setTimeout(function(){a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),La(a))}function qc(a){a.state.delayingBlurEvent||(a.state.focused&&(Eg(a,"blur",a),a.state.focused=!1,Wg(a.display.wrapper,"CodeMirror-focused")),
clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function rc(a,b){Sb(a.display,b)||sc(a,b)||ye(a,b,"contextmenu")||a.display.input.onContextMenu(b)}function sc(a,b){return Ae(a,"gutterContextMenu")?Yb(a,b,"gutterContextMenu",!1,Eg):!1}function tc(a,b){if(Kf(a,b.from)<0)return a;if(Kf(a,b.to)<=0)return Yf(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=Yf(b).ch-b.to.ch),Jf(c,d)}function uc(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new ma(tc(e.anchor,b),tc(e.head,b)))}return na(c,a.sel.primIndex)}function vc(a,b,c){return a.line==b.line?Jf(c.line,a.ch-b.ch+c.ch):Jf(c.line+(a.line-b.line),a.ch)}function wc(a,b,c){for(var d=[],e=Jf(a.first,0),f=e,g=0;g<b.length;g++){var h=b[g],i=vc(h.from,e,f),j=vc(Yf(h),e,f);if(e=h.to,f=j,"around"==c){var k=a.sel.ranges[g],l=Kf(k.head,k.anchor)<0;d[g]=new ma(l?j:i,l?i:j)}else d[g]=new ma(i,i)}return new la(d,a.sel.primIndex)}function xc(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=qa(a,b)),c&&(this.to=qa(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),Eg(a,"beforeChange",a,d),a.cm&&Eg(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function yc(a,b,c){if(a.cm){if(!a.cm.curOp)return Db(a.cm,yc)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(Ae(a,"beforeChange")||a.cm&&Ae(a.cm,"beforeChange"))||(b=xc(a,b,!0))){var d=Hf&&!c&&gd(a,b.from,b.to);if(d)for(var e=d.length-1;e>=0;--e)zc(a,{from:d[e].from,to:d[e].to,text:e?[""]:b.text});else zc(a,b)}}function zc(a,b){if(1!=b.text.length||""!=b.text[0]||0!=Kf(b.from,b.to)){var c=uc(a,b);he(a,b,c,a.cm?a.cm.curOp.id:NaN),Cc(a,b,c,dd(a,b));var d=[];Vd(a,function(a,c){c||-1!=Fe(d,a.history)||(re(a.history,b),d.push(a.history)),Cc(a,b,null,dd(a,b))})}}function Ac(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d,e=a.history,f=a.sel,g="undo"==b?e.done:e.undone,h="undo"==b?e.undone:e.done,i=0;i<g.length&&(d=g[i],c?!d.ranges||d.equals(a.sel):d.ranges);i++);if(i!=g.length){for(e.lastOrigin=e.lastSelOrigin=null;d=g.pop(),d.ranges;){if(ke(d,h),c&&!d.equals(a.sel))return void Ba(a,d,{clearRedo:!1});f=d}var j=[];ke(f,h),h.push({changes:j,generation:e.generation}),e.generation=d.generation||++e.maxGeneration;for(var k=Ae(a,"beforeChange")||a.cm&&Ae(a.cm,"beforeChange"),i=d.changes.length-1;i>=0;--i){var l=d.changes[i];if(l.origin=b,k&&!xc(a,l,!1))return void(g.length=0);j.push(ee(a,l));var m=i?uc(a,l):Ee(g);Cc(a,l,m,fd(a,l)),!i&&a.cm&&a.cm.scrollIntoView({from:l.from,to:Yf(l)});var n=[];Vd(a,function(a,b){b||-1!=Fe(n,a.history)||(re(a.history,l),n.push(a.history)),Cc(a,l,null,fd(a,l))})}}}}function Bc(a,b){if(0!=b&&(a.first+=b,a.sel=new la(Ge(a.sel.ranges,function(a){return new ma(Jf(a.anchor.line+b,a.anchor.ch),Jf(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){Ib(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)Jb(a.cm,d,"gutter")}}function Cc(a,b,c,d){if(a.cm&&!a.cm.curOp)return Db(a.cm,Cc)(a,b,c,d);if(b.to.line<a.first)return void Bc(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Bc(a,e),b={from:Jf(a.first,0),to:Jf(b.to.line+e,b.to.ch),text:[Ee(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:Jf(f,Xd(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=Yd(a,b.from,b.to),c||(c=uc(a,b)),a.cm?Dc(a.cm,b,d):Sd(a,b,d),Ca(a,c,Ig)}}function Dc(a,b,c){var d=a.doc,e=a.display,g=b.from,h=b.to,i=!1,j=g.line;a.options.lineWrapping||(j=_d(qd(Xd(d,g.line))),d.iter(j,h.line+1,function(a){return a==e.maxLine?(i=!0,!0):void 0})),d.sel.contains(b.from,b.to)>-1&&ze(a),Sd(d,b,c,f(a)),a.options.lineWrapping||(d.iter(j,g.line+b.text.length,function(a){var b=l(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,i=!1)}),i&&(a.curOp.updateMaxLine=!0)),d.frontier=Math.min(d.frontier,g.line),Ma(a,400);var k=b.text.length-(h.line-g.line)-1;b.full?Ib(a):g.line!=h.line||1!=b.text.length||Rd(a.doc,b)?Ib(a,g.line,h.line+1,k):Jb(a,g.line,"text");var m=Ae(a,"changes"),n=Ae(a,"change");if(n||m){var o={from:g,to:h,text:b.text,removed:b.removed,origin:b.origin};n&&we(a,"change",a,o),m&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(o)}a.display.selForContextMenu=null}function Ec(a,b,c,d,e){if(d||(d=c),Kf(d,c)<0){var f=d;d=c,c=f}"string"==typeof b&&(b=a.splitLines(b)),yc(a,{from:c,to:d,text:b,origin:e})}function Fc(a,b){if(!ye(a,"scrollCursorIntoView")){var c=a.display,d=c.sizer.getBoundingClientRect(),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!zf){var f=Oe("div","​",null,"position: absolute; top: "+(b.top-c.viewOffset-Qa(a.display))+"px; height: "+(b.bottom-b.top+Ta(a)+c.barHeight)+"px; left: "+b.left+"px; width: 2px;");a.display.lineSpace.appendChild(f),f.scrollIntoView(e),a.display.lineSpace.removeChild(f)}}}function Gc(a,b,c,d){null==d&&(d=0);for(var e=0;5>e;e++){var f=!1,g=mb(a,b),h=c&&c!=b?mb(a,c):g,i=Ic(a,Math.min(g.left,h.left),Math.min(g.top,h.top)-d,Math.max(g.left,h.left),Math.max(g.bottom,h.bottom)+d),j=a.doc.scrollTop,k=a.doc.scrollLeft;if(null!=i.scrollTop&&(cc(a,i.scrollTop),Math.abs(a.doc.scrollTop-j)>1&&(f=!0)),null!=i.scrollLeft&&(dc(a,i.scrollLeft),Math.abs(a.doc.scrollLeft-k)>1&&(f=!0)),!f)break}return g}function Hc(a,b,c,d,e){var f=Ic(a,b,c,d,e);null!=f.scrollTop&&cc(a,f.scrollTop),null!=f.scrollLeft&&dc(a,f.scrollLeft)}function Ic(a,b,c,d,e){var f=a.display,g=rb(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,i=Va(a),j={};e-c>i&&(e=c+i);var k=a.doc.height+Ra(f),l=g>c,m=e>k-g;if(h>c)j.scrollTop=l?0:c;else if(e>h+i){var n=Math.min(c,(m?k:e)-i);n!=h&&(j.scrollTop=n)}var o=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft,p=Ua(a)-(a.options.fixedGutter?f.gutters.offsetWidth:0),q=d-b>p;return q&&(d=b+p),10>b?j.scrollLeft=0:o>b?j.scrollLeft=Math.max(0,b-(q?0:10)):d>p+o-3&&(j.scrollLeft=d+(q?0:10)-p),j}function Jc(a,b,c){(null!=b||null!=c)&&Lc(a),null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b),null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Kc(a){Lc(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?Jf(b.line,b.ch-1):b,d=Jf(b.line,b.ch+1)),a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function Lc(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=nb(a,b.from),d=nb(a,b.to),e=Ic(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(e.scrollLeft,e.scrollTop)}}function Mc(a,b,c,d){var e,f=a.doc;null==c&&(c="add"),"smart"==c&&(f.mode.indent?e=Pa(a,b):c="prev");var g=a.options.tabSize,h=Xd(f,b),i=Lg(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var j,k=h.text.match(/^\s*/)[0];if(d||/\S/.test(h.text)){if("smart"==c&&(j=f.mode.indent(e,h.text.slice(k.length),h.text),j==Hg||j>150)){if(!d)return;c="prev"}}else j=0,c="not";"prev"==c?j=b>f.first?Lg(Xd(f,b-1).text,null,g):0:"add"==c?j=i+a.options.indentUnit:"subtract"==c?j=i-a.options.indentUnit:"number"==typeof c&&(j=i+c),j=Math.max(0,j);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(j/g);n;--n)m+=g,l+="	";if(j>m&&(l+=De(j-m)),l!=k)return Ec(f,l,Jf(b,0),Jf(b,k.length),"+input"),h.stateAfter=null,!0;for(var n=0;n<f.sel.ranges.length;n++){var o=f.sel.ranges[n];if(o.head.line==b&&o.head.ch<k.length){var m=Jf(b,k.length);xa(f,n,new ma(m,m));break}}}function Nc(a,b,c,d){var e=b,f=b;return"number"==typeof b?f=Xd(a,pa(a,b)):e=_d(b),null==e?null:(d(f,e)&&a.cm&&Jb(a.cm,e,c),f)}function Oc(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&Kf(f.from,Ee(d).to)<=0;){var g=d.pop();if(Kf(g.from,f.from)<0){f.from=g.from;break}}d.push(f)}Cb(a,function(){for(var b=d.length-1;b>=0;b--)Ec(a.doc,"",d[b].from,d[b].to,"+delete");Kc(a)})}function Pc(a,b,c,d,e){function f(){var b=h+c;return b<a.first||b>=a.first+a.size?l=!1:(h=b,k=Xd(a,b))}function g(a){var b=(e?kf:lf)(k,i,c,!0);if(null==b){if(a||!f())return l=!1;i=e?(0>c?cf:bf)(k):0>c?k.text.length:0}else i=b;return!0}var h=b.line,i=b.ch,j=c,k=Xd(a,h),l=!0;if("char"==d)g();else if("column"==d)g(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=a.cm&&a.cm.getHelper(b,"wordChars"),p=!0;!(0>c)||g(!p);p=!1){var q=k.text.charAt(i)||"\n",r=Le(q,o)?"w":n&&"\n"==q?"n":!n||/\s/.test(q)?null:"p";if(!n||p||r||(r="s"),m&&m!=r){0>c&&(c=1,g());break}if(r&&(m=r),c>0&&!g(!p))break}var s=Ga(a,Jf(h,i),j,!0);return l||(s.hitSide=!0),s}function Qc(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);e=b.top+c*(h-(0>c?1.5:.5)*rb(a.display))}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(;;){var i=pb(a,g,e);if(!i.outside)break;if(0>c?0>=e:e>=f.height){i.hitSide=!0;break}e+=5*c}return i}function Rc(b,c,d,e){a.defaults[b]=c,d&&($f[b]=e?function(a,b,c){c!=_f&&d(a,b,c)}:d)}function Sc(a){for(var b,c,d,e,f=a.split(/-(?!$)/),a=f[f.length-1],g=0;g<f.length-1;g++){var h=f[g];if(/^(cmd|meta|m)$/i.test(h))e=!0;else if(/^a(lt)?$/i.test(h))b=!0;else if(/^(c|ctrl|control)$/i.test(h))c=!0;else{if(!/^s(hift)$/i.test(h))throw new Error("Unrecognized modifier name: "+h);d=!0}}return b&&(a="Alt-"+a),c&&(a="Ctrl-"+a),e&&(a="Cmd-"+a),d&&(a="Shift-"+a),a}function Tc(a){return"string"==typeof a?ig[a]:a}function Uc(a,b,c,d,e){if(d&&d.shared)return Vc(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Db(a.cm,Uc)(a,b,c,d,e);var f=new og(a,e),g=Kf(b,c);if(d&&Je(d,f,!1),g>0||0==g&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=Oe("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if(pd(a,b.line,b,c,f)||b.line!=c.line&&pd(a,c.line,b,c,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");If=!0}f.addToHistory&&he(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var h,i=b.line,j=a.cm;if(a.iter(i,c.line+1,function(a){j&&f.collapsed&&!j.options.lineWrapping&&qd(a)==j.display.maxLine&&(h=!0),f.collapsed&&i!=b.line&&$d(a,0),ad(a,new Zc(f,i==b.line?b.ch:null,i==c.line?c.ch:null)),++i}),f.collapsed&&a.iter(b.line,c.line+1,function(b){ud(a,b)&&$d(b,0)}),f.clearOnEnter&&Bg(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(Hf=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed&&(f.id=++ng,f.atomic=!0),j){if(h&&(j.curOp.updateMaxLine=!0),f.collapsed)Ib(j,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle||f.css)for(var k=b.line;k<=c.line;k++)Jb(j,k,"text");f.atomic&&Ea(j.doc),we(j,"markerAdded",j,f)}return f}function Vc(a,b,c,d,e){d=Je(d),d.shared=!1;var f=[Uc(a,b,c,d,e)],g=f[0],h=d.widgetNode;return Vd(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(Uc(a,qa(a,b),qa(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=Ee(f)}),new pg(f,g)}function Wc(a){return a.findMarks(Jf(a.first,0),a.clipPos(Jf(a.lastLine())),function(a){return a.parent})}function Xc(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(Kf(f,g)){var h=Uc(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function Yc(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];Vd(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==Fe(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function Zc(a,b,c){this.marker=a,this.from=b,this.to=c}function $c(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function _c(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function ad(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function bd(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||f.from==b&&"bookmark"==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push(new Zc(g,f.from,i?null:f.to))}}return d}function cd(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||f.from==b&&"bookmark"==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push(new Zc(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return d}function dd(a,b){if(b.full)return null;var c=sa(a,b.from.line)&&Xd(a,b.from.line).markedSpans,d=sa(a,b.to.line)&&Xd(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==Kf(b.from,b.to),h=bd(c,e,g),i=cd(d,f,g),j=1==b.text.length,k=Ee(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=$c(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=$c(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}h&&(h=ed(h)),i&&i!=h&&(i=ed(i));var o=[h];if(!j){var p,q=b.text.length-2;if(q>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(p||(p=[])).push(new Zc(h[l].marker,null,null));for(var l=0;q>l;++l)o.push(p);o.push(i)}return o}function ed(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&a.splice(b--,1)}return a.length?a:null}function fd(a,b){var c=ne(a,b),d=dd(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function gd(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=Fe(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(0),i=0;i<e.length;++i){var j=e[i];if(!(Kf(j.to,h.from)<0||Kf(j.from,h.to)>0)){var k=[i,1],l=Kf(j.from,h.from),m=Kf(j.to,h.to);(0>l||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(m>0||!g.inclusiveRight&&!m)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function hd(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function id(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function jd(a){return a.inclusiveLeft?-1:0}function kd(a){return a.inclusiveRight?1:0}function ld(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=Kf(d.from,e.from)||jd(a)-jd(b);if(f)return-f;var g=Kf(d.to,e.to)||kd(a)-kd(b);return g?g:b.id-a.id}function md(a,b){var c,d=If&&a.markedSpans;if(d)for(var e,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!c||ld(c,e.marker)<0)&&(c=e.marker);return c}function nd(a){return md(a,!0)}function od(a){return md(a,!1)}function pd(a,b,c,d,e){var f=Xd(a,b),g=If&&f.markedSpans;if(g)for(var h=0;h<g.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=Kf(j.from,c)||jd(i.marker)-jd(e),l=Kf(j.to,d)||kd(i.marker)-kd(e);if(!(k>=0&&0>=l||0>=k&&l>=0)&&(0>=k&&(Kf(j.to,c)>0||i.marker.inclusiveRight&&e.inclusiveLeft)||k>=0&&(Kf(j.from,d)<0||i.marker.inclusiveLeft&&e.inclusiveRight)))return!0}}}function qd(a){for(var b;b=nd(a);)a=b.find(-1,!0).line;return a}function rd(a){for(var b,c;b=od(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function sd(a,b){var c=Xd(a,b),d=qd(c);return c==d?b:_d(d)}function td(a,b){if(b>a.lastLine())return b;var c,d=Xd(a,b);if(!ud(a,d))return b;for(;c=od(d);)d=c.find(1,!0).line;return _d(d)+1}function ud(a,b){var c=If&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&vd(a,b,d))return!0}}function vd(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return vd(a,d.line,$c(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e,f=0;f<b.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&vd(a,b,e))return!0}function wd(a,b,c){be(b)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Jc(a,null,c)}function xd(a){if(null!=a.height)return a.height;var b=a.doc.cm;if(!b)return 0;if(!Tg(document.body,a.node)){var c="position: relative;";a.coverGutter&&(c+="margin-left: -"+b.display.gutters.offsetWidth+"px;"),a.noHScroll&&(c+="width: "+b.display.wrapper.clientWidth+"px;"),Qe(b.display.measure,Oe("div",[a.node],null,c))}return a.height=a.node.offsetHeight}function yd(a,b,c,d){var e=new qg(a,c,d),f=a.cm;return f&&e.noHScroll&&(f.display.alignWidgets=!0),Nc(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,f&&!ud(a,b)){var d=be(b)<a.scrollTop;$d(b,b.height+xd(e)),d&&Jc(f,null,e.height),f.curOp.forceUpdate=!0}return!0}),e}function zd(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),hd(a),id(a,c);var e=d?d(a):1;e!=a.height&&$d(a,e)}function Ad(a){a.parent=null,hd(a)}function Bd(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function Cd(b,c){if(b.blankLine)return b.blankLine(c);if(b.innerMode){var d=a.innerMode(b,c);return d.mode.blankLine?d.mode.blankLine(d.state):void 0}}function Dd(b,c,d,e){for(var f=0;10>f;f++){e&&(e[0]=a.innerMode(b,d).mode);var g=b.token(c,d);if(c.pos>c.start)return g}throw new Error("Mode "+b.name+" failed to advance stream.")}function Ed(a,b,c,d){function e(a){return{start:l.start,end:l.pos,string:l.current(),type:f||null,state:a?fg(g.mode,k):k}}var f,g=a.doc,h=g.mode;b=qa(g,b);var i,j=Xd(g,b.line),k=Pa(a,b.line,c),l=new mg(j.text,a.options.tabSize);for(d&&(i=[]);(d||l.pos<b.ch)&&!l.eol();)l.start=l.pos,f=Dd(h,l,k),d&&i.push(e(!0));return d?i:e()}function Fd(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var i,j=0,k=null,l=new mg(b,a.options.tabSize),m=a.options.addModeClass&&[null];for(""==b&&Bd(Cd(c,d),f);!l.eol();){if(l.pos>a.options.maxHighlightLength?(h=!1,g&&Id(a,b,d,l.pos),l.pos=b.length,i=null):i=Bd(Dd(c,l,d,m),f),m){var n=m[0].name;n&&(i="m-"+(i?n+" "+i:n))}if(!h||k!=i){for(;j<l.start;)j=Math.min(l.start,j+5e4),e(j,k);k=i}l.start=l.pos}for(;j<l.pos;){var o=Math.min(l.pos,j+5e4);e(o,k),j=o}}function Gd(a,b,c,d){var e=[a.state.modeGen],f={};Fd(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(var g=0;g<a.state.overlays.length;++g){var h=a.state.overlays[g],i=1,j=0;Fd(a,b.text,h.mode,!0,function(a,b){for(var c=i;a>j;){var d=e[i];d>a&&e.splice(i,1,a,e[i+1],d),i+=2,j=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,i-c,a,"cm-overlay "+b),i=c+2;else for(;i>c;c+=2){var f=e[c+1];e[c+1]=(f?f+" ":"")+"cm-overlay "+b}},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function Hd(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var d=Pa(a,_d(b)),e=Gd(a,b,b.text.length>a.options.maxHighlightLength?fg(a.doc.mode,d):d);b.stateAfter=d,b.styles=e.styles,e.classes?b.styleClasses=e.classes:b.styleClasses&&(b.styleClasses=null),c===a.doc.frontier&&a.doc.frontier++}return b.styles}function Id(a,b,c,d){var e=a.doc.mode,f=new mg(b,a.options.tabSize);for(f.start=f.pos=d||0,""==b&&Cd(e,c);!f.eol();)Dd(e,f,c),f.start=f.pos}function Jd(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?tg:sg;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$&"))}function Kd(a,b){var c=Oe("span",null,null,tf?"padding-right: .1px":null),d={pre:Oe("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:a,splitSpaces:(rf||tf)&&a.getOption("lineWrapping")};b.measure={};for(var e=0;e<=(b.rest?b.rest.length:0);e++){var f,g=e?b.rest[e-1]:b.line;d.pos=0,d.addToken=Md,Ye(a.display.measure)&&(f=ce(g))&&(d.addToken=Od(d.addToken,f)),d.map=[];var h=b!=a.display.externalMeasured&&_d(g);Qd(g,d,Hd(a,g,h)),g.styleClasses&&(g.styleClasses.bgClass&&(d.bgClass=Te(g.styleClasses.bgClass,d.bgClass||"")),g.styleClasses.textClass&&(d.textClass=Te(g.styleClasses.textClass,d.textClass||""))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(Xe(a.display.measure))),0==e?(b.measure.map=d.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(d.map),(b.measure.caches||(b.measure.caches=[])).push({}))}return tf&&/\bcm-tab\b/.test(d.content.lastChild.className)&&(d.content.className="cm-tab-wrap-hack"),Eg(a,"renderLine",a,b.line,d.pre),d.pre.className&&(d.textClass=Te(d.pre.className,d.textClass||"")),d}function Ld(a){var b=Oe("span","•","cm-invalidchar");return b.title="\\u"+a.charCodeAt(0).toString(16),b.setAttribute("aria-label",b.title),b}function Md(a,b,c,d,e,f,g){if(b){var h=a.splitSpaces?b.replace(/ {3,}/g,Nd):b,i=a.cm.state.specialChars,j=!1;if(i.test(b))for(var k=document.createDocumentFragment(),l=0;;){i.lastIndex=l;var m=i.exec(b),n=m?m.index-l:b.length-l;if(n){var o=document.createTextNode(h.slice(l,l+n));rf&&9>sf?k.appendChild(Oe("span",[o])):k.appendChild(o),a.map.push(a.pos,a.pos+n,o),a.col+=n,a.pos+=n}if(!m)break;if(l+=n+1,"	"==m[0]){var p=a.cm.options.tabSize,q=p-a.col%p,o=k.appendChild(Oe("span",De(q),"cm-tab"));o.setAttribute("role","presentation"),o.setAttribute("cm-text","	"),a.col+=q}else if("\r"==m[0]||"\n"==m[0]){var o=k.appendChild(Oe("span","\r"==m[0]?"␍":"␤","cm-invalidchar"));o.setAttribute("cm-text",m[0]),a.col+=1}else{var o=a.cm.options.specialCharPlaceholder(m[0]);o.setAttribute("cm-text",m[0]),rf&&9>sf?k.appendChild(Oe("span",[o])):k.appendChild(o),a.col+=1}a.map.push(a.pos,a.pos+1,o),a.pos++}else{a.col+=b.length;var k=document.createTextNode(h);a.map.push(a.pos,a.pos+b.length,k),rf&&9>sf&&(j=!0),a.pos+=b.length}if(c||d||e||j||g){var r=c||"";d&&(r+=d),e&&(r+=e);var s=Oe("span",[k],r,g);return f&&(s.title=f),a.content.appendChild(s)}a.content.appendChild(k)}}function Nd(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":" ";return b+=" "}function Od(a,b){return function(c,d,e,f,g,h,i){e=e?e+" cm-force-border":"cm-force-border";for(var j=c.pos,k=j+d.length;;){for(var l=0;l<b.length;l++){var m=b[l];if(m.to>j&&m.from<=j)break}if(m.to>=k)return a(c,d,e,f,g,h,i);a(c,d.slice(0,m.to-j),e,f,null,h,i),f=null,d=d.slice(m.to-j),j=m.to}}}function Pd(a,b,c,d){var e=!d&&c.widgetNode;e&&a.map.push(a.pos,a.pos+b,e),!d&&a.cm.display.input.needsContentAttribute&&(e||(e=a.content.appendChild(document.createElement("span"))),e.setAttribute("cm-marker",c.id)),e&&(a.cm.display.input.setUneditable(e),a.content.appendChild(e)),a.pos+=b}function Qd(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m,n=e.length,o=0,p=1,q="",r=0;;){if(r==o){i=j=k=l=h="",m=null,r=1/0;for(var s=[],t=0;t<d.length;++t){var u=d[t],v=u.marker;"bookmark"==v.type&&u.from==o&&v.widgetNode?s.push(v):u.from<=o&&(null==u.to||u.to>o||v.collapsed&&u.to==o&&u.from==o)?(null!=u.to&&u.to!=o&&r>u.to&&(r=u.to,j=""),v.className&&(i+=" "+v.className),v.css&&(h=v.css),v.startStyle&&u.from==o&&(k+=" "+v.startStyle),v.endStyle&&u.to==r&&(j+=" "+v.endStyle),v.title&&!l&&(l=v.title),v.collapsed&&(!m||ld(m.marker,v)<0)&&(m=u)):u.from>o&&r>u.from&&(r=u.from)}if(m&&(m.from||0)==o){if(Pd(b,(null==m.to?n+1:m.to)-o,m.marker,null==m.from),null==m.to)return;m.to==o&&(m=!1)}if(!m&&s.length)for(var t=0;t<s.length;++t)Pd(b,0,s[t])}if(o>=n)break;for(var w=Math.min(n,r);;){if(q){var x=o+q.length;if(!m){var y=x>w?q.slice(0,w-o):q;b.addToken(b,y,g?g+i:i,k,o+y.length==r?j:"",l,h)}if(x>=w){q=q.slice(w-o),o=w;break}o=x,k=""}q=e.slice(f,f=c[p++]),g=Jd(c[p++],b.cm.options)}}else for(var p=1;p<c.length;p+=2)b.addToken(b,e.slice(f,f=c[p]),Jd(c[p+1],b.cm.options))}function Rd(a,b){return 0==b.from.ch&&0==b.to.ch&&""==Ee(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Sd(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){zd(a,c,e,d),we(a,"change",a,b)}function g(a,b){for(var c=a,f=[];b>c;++c)f.push(new rg(j[c],e(c),d));return f}var h=b.from,i=b.to,j=b.text,k=Xd(a,h.line),l=Xd(a,i.line),m=Ee(j),n=e(j.length-1),o=i.line-h.line;if(b.full)a.insert(0,g(0,j.length)),a.remove(j.length,a.size-j.length);else if(Rd(a,b)){var p=g(0,j.length-1);f(l,l.text,n),o&&a.remove(h.line,o),p.length&&a.insert(h.line,p)}else if(k==l)if(1==j.length)f(k,k.text.slice(0,h.ch)+m+k.text.slice(i.ch),n);else{var p=g(1,j.length-1);p.push(new rg(m+k.text.slice(i.ch),n,d)),f(k,k.text.slice(0,h.ch)+j[0],e(0)),a.insert(h.line+1,p)}else if(1==j.length)f(k,k.text.slice(0,h.ch)+j[0]+l.text.slice(i.ch),e(0)),a.remove(h.line+1,o);else{f(k,k.text.slice(0,h.ch)+j[0],e(0)),f(l,m+l.text.slice(i.ch),n);var p=g(1,j.length-1);o>1&&a.remove(h.line+1,o-1),a.insert(h.line+1,p)}we(a,"change",a,b)}function Td(a){this.lines=a,this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function Ud(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d];b+=e.chunkSize(),c+=e.height,e.parent=this}this.size=b,this.height=c,this.parent=null}function Vd(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;(!c||i)&&(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function Wd(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,g(a),c(a),a.options.lineWrapping||m(a),a.options.mode=b.modeOption,Ib(a)}function Xd(a,b){if(b-=a.first,0>b||b>=a.size)throw new Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(f>b){c=e;break}b-=f}return c.lines[b]}function Yd(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function Zd(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function $d(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function _d(a){if(null==a.parent)return null;for(var b=a.parent,c=Fe(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function ae(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(f>b){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var d=0;d<a.lines.length;++d){var g=a.lines[d],h=g.height;if(h>b)break;b-=h}return c+d}function be(a){a=qd(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var d=0;d<f.children.length;++d){var g=f.children[d];if(g==c)break;b+=g.height}return b}function ce(a){var b=a.order;return null==b&&(b=a.order=eh(a.text)),b}function de(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function ee(a,b){var c={from:V(b.from),to:Yf(b),text:Yd(a,b.from,b.to)};return le(a,c,b.from.line,b.to.line+1),Vd(a,function(a){le(a,c,b.from.line,b.to.line+1)},!0),c}function fe(a){for(;a.length;){var b=Ee(a);if(!b.ranges)break;a.pop()}}function ge(a,b){return b?(fe(a.done),Ee(a.done)):a.done.length&&!Ee(a.done).ranges?Ee(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),Ee(a.done)):void 0}function he(a,b,c,d){var e=a.history;e.undone.length=0;var f,g=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>g-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))&&(f=ge(e,e.lastOp==d))){var h=Ee(f.changes);0==Kf(b.from,b.to)&&0==Kf(b.from,h.to)?h.to=Yf(b):f.changes.push(ee(a,b))}else{var i=Ee(e.done);for(i&&i.ranges||ke(a.sel,e.done),f={changes:[ee(a,b)],generation:e.generation},e.done.push(f);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=g,e.lastOp=e.lastSelOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,h||Eg(a,"historyAdded")}function ie(a,b,c,d){var e=b.charAt(0);return"*"==e||"+"==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function je(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastSelOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||ie(a,f,Ee(e.done),b))?e.done[e.done.length-1]=b:ke(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastSelOp=c,d&&d.clearRedo!==!1&&fe(e.undone)}function ke(a,b){var c=Ee(b);c&&c.ranges&&c.equals(a)||b.push(a)}function le(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function me(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function ne(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(me(c[d]));return e}function oe(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?la.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];e.push({changes:h});for(var i=0;i<g.length;++i){var j,k=g[i];if(h.push({from:k.from,to:k.to,text:k.text}),b)for(var l in k)(j=l.match(/^spans_(\d+)$/))&&Fe(b,Number(j[1]))>-1&&(Ee(h)[l]=k[l],delete k[l])}}}return e}function pe(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function qe(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)pe(f.ranges[h].anchor,b,c,d),pe(f.ranges[h].head,b,c,d)}else{for(var h=0;h<f.changes.length;++h){var i=f.changes[h];if(c<i.from.line)i.from=Jf(i.from.line+d,i.from.ch),i.to=Jf(i.to.line+d,i.to.ch);else if(b<=i.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function re(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;qe(a.done,c,d,e),qe(a.undone,c,d,e)}function se(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function te(a){return a.target||a.srcElement}function ue(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),Cf&&a.ctrlKey&&1==b&&(b=3),b}function ve(a,b,c){var d=a._handlers&&a._handlers[b];return c?d&&d.length>0?d.slice():Cg:d||Cg}function we(a,b){function c(a){return function(){a.apply(null,f)}}var d=ve(a,b,!1);if(d.length){var e,f=Array.prototype.slice.call(arguments,2);Qf?e=Qf.delayedCallbacks:Fg?e=Fg:(e=Fg=[],setTimeout(xe,0));for(var g=0;g<d.length;++g)e.push(c(d[g]))}}function xe(){var a=Fg;Fg=null;for(var b=0;b<a.length;++b)a[b]()}function ye(a,b,c){return"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),Eg(a,c||b.type,a,b),se(b)||b.codemirrorIgnore}function ze(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<b.length;++d)-1==Fe(c,b[d])&&c.push(b[d])}function Ae(a,b){return ve(a,b).length>0}function Be(a){a.prototype.on=function(a,b){Bg(this,a,b)},a.prototype.off=function(a,b){Dg(this,a,b)}}function Ce(){this.id=null}function De(a){for(;Ng.length<=a;)Ng.push(Ee(Ng)+" ");return Ng[a]}function Ee(a){return a[a.length-1]}function Fe(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function Ge(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function He(){}function Ie(a,b){var c;return Object.create?c=Object.create(a):(He.prototype=a,
c=new He),b&&Je(b,c),c}function Je(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||c===!1&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function Ke(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function Le(a,b){return b?b.source.indexOf("\\w")>-1&&Rg(a)?!0:b.test(a):Rg(a)}function Me(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function Ne(a){return a.charCodeAt(0)>=768&&Sg.test(a)}function Oe(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function Pe(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function Qe(a,b){return Pe(a).appendChild(b)}function Re(){for(var a=document.activeElement;a&&a.root&&a.root.activeElement;)a=a.root.activeElement;return a}function Se(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function Te(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!Se(c[d]).test(b)&&(b+=" "+c[d]);return b}function Ue(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function Ve(){Yg||(We(),Yg=!0)}function We(){var a;Bg(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Ue(Rb)},100))}),Bg(window,"blur",function(){Ue(qc)})}function Xe(a){if(null==Ug){var b=Oe("span","​");Qe(a,Oe("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Ug=b.offsetWidth<=1&&b.offsetHeight>2&&!(rf&&8>sf))}var c=Ug?Oe("span","​"):Oe("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return c.setAttribute("cm-text",""),c}function Ye(a){if(null!=Vg)return Vg;var b=Qe(a,document.createTextNode("AخA")),c=Pg(b,0,1).getBoundingClientRect();if(!c||c.left==c.right)return!1;var d=Pg(b,1,2).getBoundingClientRect();return Vg=d.right-c.right<3}function Ze(a){if(null!=bh)return bh;var b=Qe(a,Oe("span","x")),c=b.getBoundingClientRect(),d=Pg(b,0,1).getBoundingClientRect();return bh=Math.abs(c.left-d.left)>1}function $e(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function _e(a){return a.level%2?a.to:a.from}function af(a){return a.level%2?a.from:a.to}function bf(a){var b=ce(a);return b?_e(b[0]):0}function cf(a){var b=ce(a);return b?af(Ee(b)):a.text.length}function df(a,b){var c=Xd(a.doc,b),d=qd(c);d!=c&&(b=_d(d));var e=ce(d),f=e?e[0].level%2?cf(d):bf(d):0;return Jf(b,f)}function ef(a,b){for(var c,d=Xd(a.doc,b);c=od(d);)d=c.find(1,!0).line,b=null;var e=ce(d),f=e?e[0].level%2?bf(d):cf(d):d.text.length;return Jf(null==b?_d(d):b,f)}function ff(a,b){var c=df(a,b.line),d=Xd(a.doc,c.line),e=ce(d);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;return Jf(c.line,g?0:f)}return c}function gf(a,b,c){var d=a[0].level;return b==d?!0:c==d?!1:c>b}function hf(a,b){dh=null;for(var c,d=0;d<a.length;++d){var e=a[d];if(e.from<b&&e.to>b)return d;if(e.from==b||e.to==b){if(null!=c)return gf(a,e.level,a[c].level)?(e.from!=e.to&&(dh=c),d):(e.from!=e.to&&(dh=d),c);c=d}}return c}function jf(a,b,c,d){if(!d)return b+c;do b+=c;while(b>0&&Ne(a.text.charAt(b)));return b}function kf(a,b,c,d){var e=ce(a);if(!e)return lf(a,b,c,d);for(var f=hf(e,b),g=e[f],h=jf(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return hf(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(g=e[f+=c],!g)return null;h=c>0==g.level%2?jf(a,g.to,-1,d):jf(a,g.from,1,d)}}function lf(a,b,c,d){var e=b+c;if(d)for(;e>0&&Ne(a.text.charAt(e));)e+=c;return 0>e||e>a.text.length?null:e}var mf=navigator.userAgent,nf=navigator.platform,of=/gecko\/\d/i.test(mf),pf=/MSIE \d/.test(mf),qf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mf),rf=pf||qf,sf=rf&&(pf?document.documentMode||6:qf[1]),tf=/WebKit\//.test(mf),uf=tf&&/Qt\/\d+\.\d+/.test(mf),vf=/Chrome\//.test(mf),wf=/Opera\//.test(mf),xf=/Apple Computer/.test(navigator.vendor),yf=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(mf),zf=/PhantomJS/.test(mf),Af=/AppleWebKit/.test(mf)&&/Mobile\/\w+/.test(mf),Bf=Af||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(mf),Cf=Af||/Mac/.test(nf),Df=/win/i.test(nf),Ef=wf&&mf.match(/Version\/(\d*\.\d*)/);Ef&&(Ef=Number(Ef[1])),Ef&&Ef>=15&&(wf=!1,tf=!0);var Ff=Cf&&(uf||wf&&(null==Ef||12.11>Ef)),Gf=of||rf&&sf>=9,Hf=!1,If=!1;p.prototype=Je({update:function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(c){this.vert.style.display="block",this.vert.style.bottom=b?d+"px":"0";var e=a.viewHeight-(b?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+e)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(b){this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var f=a.viewWidth-a.barLeft-(c?d:0);this.horiz.firstChild.style.width=a.scrollWidth-a.clientWidth+f+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&a.clientHeight>0&&(0==d&&this.overlayHack(),this.checkedOverlay=!0),{right:c?d:0,bottom:b?d:0}},setScrollLeft:function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a)},setScrollTop:function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a)},overlayHack:function(){var a=Cf&&!yf?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=a;var b=this,c=function(a){te(a)!=b.vert&&te(a)!=b.horiz&&Db(b.cm,Ub)(a)};Bg(this.vert,"mousedown",c),Bg(this.horiz,"mousedown",c)},clear:function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)}},p.prototype),q.prototype=Je({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},q.prototype),a.scrollbarModel={"native":p,"null":q},z.prototype.signal=function(a,b){Ae(a,b)&&this.events.push(arguments)},z.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Eg.apply(null,this.events[a])};var Jf=a.Pos=function(a,b){return this instanceof Jf?(this.line=a,void(this.ch=b)):new Jf(a,b)},Kf=a.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},Lf=null;da.prototype=Je({init:function(a){function b(a){if(d.somethingSelected())Lf=d.getSelections(),c.inaccurateSelection&&(c.prevInput="",c.inaccurateSelection=!1,f.value=Lf.join("\n"),Og(f));else{if(!d.options.lineWiseCopyCut)return;var b=ba(d);Lf=b.text,"cut"==a.type?d.setSelections(b.ranges,null,Ig):(c.prevInput="",f.value=b.text.join("\n"),Og(f))}"cut"==a.type&&(d.state.cutIncoming=!0)}var c=this,d=this.cm,e=this.wrapper=ea(),f=this.textarea=e.firstChild;a.wrapper.insertBefore(e,a.wrapper.firstChild),Af&&(f.style.width="0px"),Bg(f,"input",function(){rf&&sf>=9&&c.hasSelection&&(c.hasSelection=null),c.poll()}),Bg(f,"paste",function(a){return _(a,d)?!0:(d.state.pasteIncoming=!0,void c.fastPoll())}),Bg(f,"cut",b),Bg(f,"copy",b),Bg(a.scroller,"paste",function(b){Sb(a,b)||(d.state.pasteIncoming=!0,c.focus())}),Bg(a.lineSpace,"selectstart",function(b){Sb(a,b)||yg(b)}),Bg(f,"compositionstart",function(){var a=d.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:a,range:d.markText(a,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Bg(f,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},prepareSelection:function(){var a=this.cm,b=a.display,c=a.doc,d=Ia(a);if(a.options.moveInputWithCursor){var e=mb(a,c.sel.primary().head,"div"),f=b.wrapper.getBoundingClientRect(),g=b.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,e.top+g.top-f.top)),d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,e.left+g.left-f.left))}return d},showSelection:function(a){var b=this.cm,c=b.display;Qe(c.cursorDiv,a.cursors),Qe(c.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},reset:function(a){if(!this.contextMenuPending){var b,c,d=this.cm,e=d.doc;if(d.somethingSelected()){this.prevInput="";var f=e.sel.primary();b=ah&&(f.to().line-f.from().line>100||(c=d.getSelection()).length>1e3);var g=b?"-":c||d.getSelection();this.textarea.value=g,d.state.focused&&Og(this.textarea),rf&&sf>=9&&(this.hasSelection=g)}else a||(this.prevInput=this.textarea.value="",rf&&sf>=9&&(this.hasSelection=null));this.inaccurateSelection=b}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Bf||Re()!=this.textarea))try{this.textarea.focus()}catch(a){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var a=this;a.pollingFast||a.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},fastPoll:function(){function a(){var d=c.poll();d||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0,c.polling.set(20,a)},poll:function(){var a=this.cm,b=this.textarea,c=this.prevInput;if(this.contextMenuPending||!a.state.focused||_g(b)&&!c&&!this.composing||Z(a)||a.options.disableInput||a.state.keySeq)return!1;var d=b.value;if(d==c&&!a.somethingSelected())return!1;if(rf&&sf>=9&&this.hasSelection===d||Cf&&/[\uf700-\uf7ff]/.test(d))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var e=d.charCodeAt(0);if(8203!=e||c||(c="​"),8666==e)return this.reset(),this.cm.execCommand("undo")}for(var f=0,g=Math.min(c.length,d.length);g>f&&c.charCodeAt(f)==d.charCodeAt(f);)++f;var h=this;return Cb(a,function(){$(a,d.slice(f),c.length-f,null,h.composing?"*compose":null),d.length>1e3||d.indexOf("\n")>-1?b.value=h.prevInput="":h.prevInput=d,h.composing&&(h.composing.range.clear(),h.composing.range=a.markText(h.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){rf&&sf>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(a){function b(){if(null!=g.selectionStart){var a=e.somethingSelected(),b="​"+(a?g.value:"");g.value="⇚",g.value=b,d.prevInput=a?"":"​",g.selectionStart=1,g.selectionEnd=b.length,f.selForContextMenu=e.doc.sel}}function c(){if(d.contextMenuPending=!1,d.wrapper.style.position="relative",g.style.cssText=k,rf&&9>sf&&f.scrollbars.setScrollTop(f.scroller.scrollTop=i),null!=g.selectionStart){(!rf||rf&&9>sf)&&b();var a=0,c=function(){f.selForContextMenu==e.doc.sel&&0==g.selectionStart&&g.selectionEnd>0&&"​"==d.prevInput?Db(e,hg.selectAll)(e):a++<10?f.detectingSelectAll=setTimeout(c,500):f.input.reset()};f.detectingSelectAll=setTimeout(c,200)}}var d=this,e=d.cm,f=e.display,g=d.textarea,h=Tb(e,a),i=f.scroller.scrollTop;if(h&&!wf){var j=e.options.resetSelectionOnContextMenu;j&&-1==e.doc.sel.contains(h)&&Db(e,Ba)(e.doc,oa(h),Ig);var k=g.style.cssText;if(d.wrapper.style.position="absolute",g.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: "+(rf?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",tf)var l=window.scrollY;if(f.input.focus(),tf&&window.scrollTo(null,l),f.input.reset(),e.somethingSelected()||(g.value=d.prevInput=" "),d.contextMenuPending=!0,f.selForContextMenu=e.doc.sel,clearTimeout(f.detectingSelectAll),rf&&sf>=9&&b(),Gf){Ag(a);var m=function(){Dg(window,"mouseup",m),setTimeout(c,20)};Bg(window,"mouseup",m)}else setTimeout(c,50)}},readOnlyChanged:function(a){a||this.reset()},setUneditable:He,needsContentAttribute:!1},da.prototype),fa.prototype=Je({init:function(a){function b(a){if(d.somethingSelected())Lf=d.getSelections(),"cut"==a.type&&d.replaceSelection("",null,"cut");else{if(!d.options.lineWiseCopyCut)return;var b=ba(d);Lf=b.text,"cut"==a.type&&d.operation(function(){d.setSelections(b.ranges,0,Ig),d.replaceSelection("",null,"cut")})}if(a.clipboardData&&!Af)a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/plain",Lf.join("\n"));else{var c=ea(),e=c.firstChild;d.display.lineSpace.insertBefore(c,d.display.lineSpace.firstChild),e.value=Lf.join("\n");var f=document.activeElement;Og(e),setTimeout(function(){d.display.lineSpace.removeChild(c),f.focus()},50)}}var c=this,d=c.cm,e=c.div=a.lineDiv;ca(e),Bg(e,"paste",function(a){_(a,d)}),Bg(e,"compositionstart",function(a){var b=a.data;if(c.composing={sel:d.doc.sel,data:b,startData:b},b){var e=d.doc.sel.primary(),f=d.getLine(e.head.line),g=f.indexOf(b,Math.max(0,e.head.ch-b.length));g>-1&&g<=e.head.ch&&(c.composing.sel=oa(Jf(e.head.line,g),Jf(e.head.line,g+b.length)))}}),Bg(e,"compositionupdate",function(a){c.composing.data=a.data}),Bg(e,"compositionend",function(a){var b=c.composing;b&&(a.data==b.startData||/\u200b/.test(a.data)||(b.data=a.data),setTimeout(function(){b.handled||c.applyComposition(b),c.composing==b&&(c.composing=null)},50))}),Bg(e,"touchstart",function(){c.forceCompositionEnd()}),Bg(e,"input",function(){c.composing||(Z(d)||!c.pollContent())&&Cb(c.cm,function(){Ib(d)})}),Bg(e,"copy",b),Bg(e,"cut",b)},prepareSelection:function(){var a=Ia(this.cm,!1);return a.focus=this.cm.state.focused,a},showSelection:function(a){a&&this.cm.display.view.length&&(a.focus&&this.showPrimarySelection(),this.showMultipleSelections(a))},showPrimarySelection:function(){var a=window.getSelection(),b=this.cm.doc.sel.primary(),c=ia(this.cm,a.anchorNode,a.anchorOffset),d=ia(this.cm,a.focusNode,a.focusOffset);if(!c||c.bad||!d||d.bad||0!=Kf(X(c,d),b.from())||0!=Kf(W(c,d),b.to())){var e=ga(this.cm,b.from()),f=ga(this.cm,b.to());if(e||f){var g=this.cm.display.view,h=a.rangeCount&&a.getRangeAt(0);if(e){if(!f){var i=g[g.length-1].measure,j=i.maps?i.maps[i.maps.length-1]:i.map;f={node:j[j.length-1],offset:j[j.length-2]-j[j.length-3]}}}else e={node:g[0].measure.map[2],offset:0};try{var k=Pg(e.node,e.offset,f.offset,f.node)}catch(l){}k&&(a.removeAllRanges(),a.addRange(k),h&&null==a.anchorNode?a.addRange(h):of&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){a.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(a){Qe(this.cm.display.cursorDiv,a.cursors),Qe(this.cm.display.selectionDiv,a.selection)},rememberSelection:function(){var a=window.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},selectionInEditor:function(){var a=window.getSelection();if(!a.rangeCount)return!1;var b=a.getRangeAt(0).commonAncestorContainer;return Tg(this.div,b)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function a(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():Cb(this.cm,function(){b.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,a)},selectionChanged:function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var a=window.getSelection(),b=this.cm;this.rememberSelection();var c=ia(b,a.anchorNode,a.anchorOffset),d=ia(b,a.focusNode,a.focusOffset);c&&d&&Cb(b,function(){Ba(b.doc,oa(c,d),Ig),(c.bad||d.bad)&&(b.curOp.selectionChanged=!0)})}},pollContent:function(){var a=this.cm,b=a.display,c=a.doc.sel.primary(),d=c.from(),e=c.to();if(d.line<b.viewFrom||e.line>b.viewTo-1)return!1;var f;if(d.line==b.viewFrom||0==(f=Lb(a,d.line)))var g=_d(b.view[0].line),h=b.view[0].node;else var g=_d(b.view[f].line),h=b.view[f-1].node.nextSibling;var i=Lb(a,e.line);if(i==b.view.length-1)var j=b.viewTo-1,k=b.lineDiv.lastChild;else var j=_d(b.view[i+1].line)-1,k=b.view[i+1].node.previousSibling;for(var l=a.doc.splitLines(ka(a,h,k,g,j)),m=Yd(a.doc,Jf(g,0),Jf(j,Xd(a.doc,j).text.length));l.length>1&&m.length>1;)if(Ee(l)==Ee(m))l.pop(),m.pop(),j--;else{if(l[0]!=m[0])break;l.shift(),m.shift(),g++}for(var n=0,o=0,p=l[0],q=m[0],r=Math.min(p.length,q.length);r>n&&p.charCodeAt(n)==q.charCodeAt(n);)++n;for(var s=Ee(l),t=Ee(m),u=Math.min(s.length-(1==l.length?n:0),t.length-(1==m.length?n:0));u>o&&s.charCodeAt(s.length-o-1)==t.charCodeAt(t.length-o-1);)++o;l[l.length-1]=s.slice(0,s.length-o),l[0]=l[0].slice(n);var v=Jf(g,n),w=Jf(j,m.length?Ee(m).length-o:0);return l.length>1||l[0]||Kf(v,w)?(Ec(a.doc,l,v,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(a){Z(this.cm)?Db(this.cm,Ib)(this.cm):a.data&&a.data!=a.startData&&Db(this.cm,$)(this.cm,a.data,0,a.sel)},setUneditable:function(a){a.contentEditable="false"},onKeyPress:function(a){a.preventDefault(),Z(this.cm)||Db(this.cm,$)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0)},readOnlyChanged:function(a){this.div.contentEditable=String("nocursor"!=a)},onContextMenu:He,resetPosition:He,needsContentAttribute:!0},fa.prototype),a.inputStyles={textarea:da,contenteditable:fa},la.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=Kf(c.anchor,d.anchor)||0!=Kf(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new ma(V(this.ranges[b].anchor),V(this.ranges[b].head));return new la(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(Kf(b,d.from())>=0&&Kf(a,d.to())<=0)return c}return-1}},ma.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return W(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Mf,Nf,Of,Pf={left:0,right:0,top:0,bottom:0},Qf=null,Rf=0,Sf=0,Tf=0,Uf=null;rf?Uf=-.53:of?Uf=15:vf?Uf=-.7:xf&&(Uf=-1/3);var Vf=function(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;return null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail),null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta),{x:b,y:c}};a.wheelEventPixels=function(a){var b=Vf(a);return b.x*=Uf,b.y*=Uf,b};var Wf=new Ce,Xf=null,Yf=a.changeEnd=function(a){return a.text?Jf(a.from.line+a.text.length-1,Ee(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(a,b){var c=this.options,d=c[a];(c[a]!=b||"mode"==a)&&(c[a]=b,$f.hasOwnProperty(a)&&Db(this,$f[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](Tc(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:Eb(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:b,opaque:c&&c.opaque}),this.state.modeGen++,Ib(this)}),removeOverlay:Eb(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,void Ib(this)}}),indentLine:Eb(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),sa(this.doc,a)&&Mc(this,a,b,c)}),indentSelection:Eb(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(Mc(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&Kc(this));else{var f=e.from(),g=e.to(),h=Math.max(c,f.line);c=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var i=h;c>i;++i)Mc(this,i,a);var j=this.doc.sel.ranges;0==f.ch&&b.length==j.length&&j[d].from().ch>0&&xa(this.doc,d,new ma(f,j[d].to()),Ig)}}}),getTokenAt:function(a,b){return Ed(this,a,b)},getLineTokens:function(a,b){return Ed(this,Jf(a),b,!0)},getTokenTypeAt:function(a){a=qa(this.doc,a);var b,c=Hd(this,Xd(this.doc,a.line)),d=0,e=(c.length-1)/2,f=a.ch;if(0==f)b=c[2];else for(;;){var g=d+e>>1;if((g?c[2*g-1]:0)>=f)e=g;else{if(!(c[2*g+1]<f)){b=c[2*g+2];break}d=g+1}}var h=b?b.indexOf("cm-overlay "):-1;return 0>h?b:0==h?null:b.slice(0,h-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!eg.hasOwnProperty(b))return c;var d=eg[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(var f=0;f<d._global.length;f++){var h=d._global[f];h.pred(e,this)&&-1==Fe(c,h.val)&&c.push(h.val)}return c},getStateAfter:function(a,b){var c=this.doc;return a=pa(c,null==a?c.first+c.size-1:a),Pa(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:"object"==typeof a?qa(this.doc,a):a?d.from():d.to(),mb(this,c,b||"page")},charCoords:function(a,b){return lb(this,qa(this.doc,a),b||"page")},coordsChar:function(a,b){return a=kb(this,a,b||"page"),pb(this,a.left,a.top)},lineAtHeight:function(a,b){return a=kb(this,{top:a,left:0},b||"page").top,ae(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c,d=!1;if("number"==typeof a){var e=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>e&&(a=e,d=!0),c=Xd(this.doc,a)}else c=a;return jb(this,c,{top:0,left:0},b||"page").top+(d?this.doc.height-be(c):0)},defaultTextHeight:function(){return rb(this.display)},defaultCharWidth:function(){return sb(this.display)},setGutterMarker:Eb(function(a,b,c){return Nc(this.doc,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&Me(d)&&(a.gutterMarkers=null),!0})}),clearGutter:Eb(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,Jb(b,d,"gutter"),Me(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),lineInfo:function(a){if("number"==typeof a){if(!sa(this.doc,a))return null;var b=a;if(a=Xd(this.doc,a),!a)return null}else{var b=_d(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=mb(this,qa(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&Hc(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:Eb(kc),triggerOnKeyPress:Eb(nc),triggerOnKeyUp:mc,execCommand:function(a){return hg.hasOwnProperty(a)?hg[a].call(null,this):void 0},triggerElectric:Eb(function(a){aa(this,a)}),findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);for(var f=0,g=qa(this.doc,a);b>f&&(g=Pc(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:Eb(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?Pc(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Kg)}),deleteH:Eb(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection("",null,"+delete"):Oc(this,function(c){var e=Pc(d,c.head,a,b,!1);return 0>a?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=1,f=d;0>b&&(e=-1,b=-b);for(var g=0,h=qa(this.doc,a);b>g;++g){var i=mb(this,h,"div");if(null==f?f=i.left:i.left=f,h=Qc(this,i,e,c),h.hitSide)break}return h},moveV:Eb(function(a,b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=mb(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=Qc(c,h,a,b);return"page"==b&&g==d.sel.primary()&&Jc(c,null,lb(c,i,"div").top-h.top),i},Kg),e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=this.doc,c=Xd(b,a.line).text,d=a.ch,e=a.ch;if(c){var f=this.getHelper(a,"wordChars");(a.xRel<0||e==c.length)&&d?--d:++e;for(var g=c.charAt(d),h=Le(g,f)?function(a){return Le(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!Le(a)};d>0&&h(c.charAt(d-1));)--d;for(;e<c.length&&h(c.charAt(e));)++e}return new ma(Jf(a.line,d),Jf(a.line,e))},toggleOverwrite:function(a){(null==a||a!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Xg(this.display.cursorDiv,"CodeMirror-overwrite"):Wg(this.display.cursorDiv,"CodeMirror-overwrite"),Eg(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Re()},scrollTo:Eb(function(a,b){(null!=a||null!=b)&&Lc(this),null!=a&&(this.curOp.scrollLeft=a),null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-Ta(this)-this.display.barHeight,width:a.scrollWidth-Ta(this)-this.display.barWidth,clientHeight:Va(this),clientWidth:Ua(this)}},scrollIntoView:Eb(function(a,b){if(null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:Jf(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line)Lc(this),this.curOp.scrollToPos=a;else{var c=Ic(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:Eb(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}var d=this;null!=a&&(d.display.wrapper.style.width=c(a)),null!=b&&(d.display.wrapper.style.height=c(b)),d.options.lineWrapping&&fb(this);var e=d.display.viewFrom;d.doc.iter(e,d.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Jb(d,e,"widget");break}++e}),d.curOp.forceUpdate=!0,Eg(d,"refresh",this)}),operation:function(a){return Cb(this,a)},refresh:Eb(function(){var a=this.display.cachedTextHeight;Ib(this),this.curOp.forceUpdate=!0,gb(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),k(this),(null==a||Math.abs(a-rb(this.display))>.5)&&g(this),Eg(this,"refresh",this)}),swapDoc:Eb(function(a){var b=this.doc;return b.cm=null,Wd(this,a),gb(this),this.display.input.reset(),this.scrollTo(a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,we(this,"swapDoc",this,b),b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Be(a);var Zf=a.defaults={},$f=a.optionHandlers={},_f=a.Init={toString:function(){return"CodeMirror.Init"}};Rc("value","",function(a,b){a.setValue(b)},!0),Rc("mode",null,function(a,b){a.doc.modeOption=b,c(a)},!0),Rc("indentUnit",2,c,!0),Rc("indentWithTabs",!1),Rc("smartIndent",!0),Rc("tabSize",4,function(a){d(a),gb(a),Ib(a)},!0),Rc("lineSeparator",null,function(a,b){if(a.doc.lineSep=b,b){var c=[],d=a.doc.first;a.doc.iter(function(a){for(var e=0;;){var f=a.text.indexOf(b,e);if(-1==f)break;e=f+b.length,c.push(Jf(d,f))}d++});for(var e=c.length-1;e>=0;e--)Ec(a.doc,b,c[e],Jf(c[e].line,c[e].ch+b.length))}}),Rc("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(b,c,d){b.state.specialChars=new RegExp(c.source+(c.test("	")?"":"|	"),"g"),d!=a.Init&&b.refresh()}),Rc("specialCharPlaceholder",Ld,function(a){a.refresh()},!0),Rc("electricChars",!0),Rc("inputStyle",Bf?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Rc("rtlMoveVisually",!Df),Rc("wholeLineUpdateBefore",!0),Rc("theme","default",function(a){h(a),i(a)},!0),Rc("keyMap","default",function(b,c,d){var e=Tc(c),f=d!=a.Init&&Tc(d);f&&f.detach&&f.detach(b,e),e.attach&&e.attach(b,f||null)}),Rc("extraKeys",null),Rc("lineWrapping",!1,e,!0),Rc("gutters",[],function(a){n(a.options),i(a)},!0),Rc("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?y(a.display)+"px":"0",a.refresh()},!0),Rc("coverGutterNextToScrollbar",!1,function(a){s(a)},!0),Rc("scrollbarStyle","native",function(a){r(a),s(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),Rc("lineNumbers",!1,function(a){n(a.options),i(a)},!0),Rc("firstLineNumber",1,i,!0),Rc("lineNumberFormatter",function(a){return a},i,!0),Rc("showCursorWhenSelecting",!1,Ha,!0),Rc("resetSelectionOnContextMenu",!0),Rc("lineWiseCopyCut",!0),Rc("readOnly",!1,function(a,b){"nocursor"==b?(qc(a),a.display.input.blur(),a.display.disabled=!0):a.display.disabled=!1,a.display.input.readOnlyChanged(b)}),Rc("disableInput",!1,function(a,b){b||a.display.input.reset()},!0),Rc("dragDrop",!0,Qb),Rc("allowDropFileTypes",null),Rc("cursorBlinkRate",530),Rc("cursorScrollMargin",0),Rc("cursorHeight",1,Ha,!0),Rc("singleCursorHeightPerLine",!0,Ha,!0),Rc("workTime",100),Rc("workDelay",100),Rc("flattenSpans",!0,d,!0),Rc("addModeClass",!1,d,!0),Rc("pollInterval",100),Rc("undoDepth",200,function(a,b){a.doc.history.undoDepth=b}),Rc("historyEventDelay",1250),Rc("viewportMargin",10,function(a){a.refresh()},!0),Rc("maxHighlightLength",1e4,d,!0),Rc("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()}),Rc("tabindex",null,function(a,b){a.display.input.getField().tabIndex=b||""}),Rc("autofocus",null);var ag=a.modes={},bg=a.mimeModes={};a.defineMode=function(b,c){a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),ag[b]=c},a.defineMIME=function(a,b){bg[a]=b},a.resolveMode=function(b){if("string"==typeof b&&bg.hasOwnProperty(b))b=bg[b];else if(b&&"string"==typeof b.name&&bg.hasOwnProperty(b.name)){var c=bg[b.name];"string"==typeof c&&(c={name:c}),b=Ie(c,b),b.name=c.name}else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=ag[c.name];if(!d)return a.getMode(b,"text/plain");var e=d(b,c);if(cg.hasOwnProperty(c.name)){
var f=cg[c.name];for(var g in f)f.hasOwnProperty(g)&&(e.hasOwnProperty(g)&&(e["_"+g]=e[g]),e[g]=f[g])}if(e.name=c.name,c.helperType&&(e.helperType=c.helperType),c.modeProps)for(var g in c.modeProps)e[g]=c.modeProps[g];return e},a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var cg=a.modeExtensions={};a.extendMode=function(a,b){var c=cg.hasOwnProperty(a)?cg[a]:cg[a]={};Je(b,c)},a.defineExtension=function(b,c){a.prototype[b]=c},a.defineDocExtension=function(a,b){vg.prototype[a]=b},a.defineOption=Rc;var dg=[];a.defineInitHook=function(a){dg.push(a)};var eg=a.helpers={};a.registerHelper=function(b,c,d){eg.hasOwnProperty(b)||(eg[b]=a[b]={_global:[]}),eg[b][c]=d},a.registerGlobalHelper=function(b,c,d,e){a.registerHelper(b,c,e),eg[b]._global.push({pred:d,val:e})};var fg=a.copyState=function(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c},gg=a.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var hg=a.commands={selectAll:function(a){a.setSelection(Jf(a.firstLine(),0),Jf(a.lastLine()),Ig)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Ig)},killLine:function(a){Oc(a,function(b){if(b.empty()){var c=Xd(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:Jf(b.head.line+1,0)}:{from:b.head,to:Jf(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){Oc(a,function(b){return{from:Jf(b.from().line,0),to:qa(a.doc,Jf(b.to().line+1,0))}})},delLineLeft:function(a){Oc(a,function(a){return{from:Jf(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){Oc(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return{from:d,to:b.from()}})},delWrappedLineRight:function(a){Oc(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:d}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(Jf(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(Jf(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return df(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return ff(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){return ef(a,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},Kg)},goLineLeft:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},Kg)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return d.ch<a.getLine(d.line).search(/\S/)?ff(a,b.head):d},Kg)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),g=Lg(a.getLine(f.line),f.ch,d);b.push(new Array(d-g%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Cb(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=Xd(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new Jf(e.line,e.ch-1)),e.ch>0)e=new Jf(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),Jf(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=Xd(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+a.doc.lineSeparator()+g.charAt(g.length-1),Jf(e.line-1,g.length-1),Jf(e.line,1),"+transpose")}c.push(new ma(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){Cb(a,function(){for(var b=a.listSelections().length,c=0;b>c;c++){var d=a.listSelections()[c];a.replaceRange(a.doc.lineSeparator(),d.anchor,d.head,"+input"),a.indentLine(d.from().line+1,null,!0)}Kc(a)})},toggleOverwrite:function(a){a.toggleOverwrite()}},ig=a.keyMap={};ig.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ig.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ig.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ig.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ig["default"]=Cf?ig.macDefault:ig.pcDefault,a.normalizeKeyMap=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if("..."==d){delete a[c];continue}for(var e=Ge(c.split(" "),Sc),f=0;f<e.length;f++){var g,h;f==e.length-1?(h=e.join(" "),g=d):(h=e.slice(0,f+1).join(" "),g="...");var i=b[h];if(i){if(i!=g)throw new Error("Inconsistent bindings for "+h)}else b[h]=g}delete a[c]}for(var j in b)a[j]=b[j];return a};var jg=a.lookupKey=function(a,b,c,d){b=Tc(b);var e=b.call?b.call(a,d):b[a];if(e===!1)return"nothing";if("..."===e)return"multi";if(null!=e&&c(e))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return jg(a,b.fallthrough,c,d);for(var f=0;f<b.fallthrough.length;f++){var g=jg(a,b.fallthrough[f],c,d);if(g)return g}}},kg=a.isModifierKey=function(a){var b="string"==typeof a?a:ch[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b},lg=a.keyName=function(a,b){if(wf&&34==a.keyCode&&a["char"])return!1;var c=ch[a.keyCode],d=c;return null==d||a.altGraphKey?!1:(a.altKey&&"Alt"!=c&&(d="Alt-"+d),(Ff?a.metaKey:a.ctrlKey)&&"Ctrl"!=c&&(d="Ctrl-"+d),(Ff?a.ctrlKey:a.metaKey)&&"Cmd"!=c&&(d="Cmd-"+d),!b&&a.shiftKey&&"Shift"!=c&&(d="Shift-"+d),d)};a.fromTextArea=function(b,c){function d(){b.value=j.getValue()}if(c=c?Je(c):{},c.value=b.value,!c.tabindex&&b.tabIndex&&(c.tabindex=b.tabIndex),!c.placeholder&&b.placeholder&&(c.placeholder=b.placeholder),null==c.autofocus){var e=Re();c.autofocus=e==b||null!=b.getAttribute("autofocus")&&e==document.body}if(b.form&&(Bg(b.form,"submit",d),!c.leaveSubmitMethodAlone)){var f=b.form,g=f.submit;try{var h=f.submit=function(){d(),f.submit=g,f.submit(),f.submit=h}}catch(i){}}c.finishInit=function(a){a.save=d,a.getTextArea=function(){return b},a.toTextArea=function(){a.toTextArea=isNaN,d(),b.parentNode.removeChild(a.getWrapperElement()),b.style.display="",b.form&&(Dg(b.form,"submit",d),"function"==typeof b.form.submit&&(b.form.submit=g))}},b.style.display="none";var j=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return j};var mg=a.StringStream=function(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};mg.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Lg(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Lg(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Lg(this.string,null,this.tabSize)-(this.lineStart?Lg(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);return e(f)==e(a)?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var ng=0,og=a.TextMarker=function(a,b){this.lines=[],this.type=b,this.doc=a,this.id=++ng};Be(og),og.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&tb(a),Ae(this,"clear")){var c=this.find();c&&we(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=$c(g.markedSpans,this);a&&!this.collapsed?Jb(a,_d(g),"text"):a&&(null!=h.to&&(e=_d(g)),null!=h.from&&(d=_d(g))),g.markedSpans=_c(g.markedSpans,h),null==h.from&&this.collapsed&&!ud(this.doc,g)&&a&&$d(g,rb(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=qd(this.lines[f]),j=l(i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0)}null!=d&&a&&this.collapsed&&Ib(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ea(a.doc)),a&&we(a,"markerCleared",a,this),b&&vb(a),this.parent&&this.parent.clear()}},og.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=$c(f.markedSpans,this);if(null!=g.from&&(c=Jf(b?f:_d(f),g.from),-1==a))return c;if(null!=g.to&&(d=Jf(b?f:_d(f),g.to),1==a))return d}return c&&{from:c,to:d}},og.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&Cb(c,function(){var d=a.line,e=_d(a.line),f=$a(c,e);if(f&&(eb(f),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!ud(b.doc,d)&&null!=b.height){var g=b.height;b.height=null;var h=xd(b)-g;h&&$d(d,d.height+h)}})},og.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=Fe(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},og.prototype.detachLine=function(a){if(this.lines.splice(Fe(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}};var ng=0,pg=a.SharedTextMarker=function(a,b){this.markers=a,this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Be(pg),pg.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();we(this,"clear")}},pg.prototype.find=function(a,b){return this.primary.find(a,b)};var qg=a.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.doc=a,this.node=b};Be(qg),qg.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,d=_d(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=xd(this);$d(c,Math.max(0,c.height-f)),a&&Cb(a,function(){wd(a,c,-f),Jb(a,d,"widget")})}},qg.prototype.changed=function(){var a=this.height,b=this.doc.cm,c=this.line;this.height=null;var d=xd(this)-a;d&&($d(c,c.height+d),b&&Cb(b,function(){b.curOp.forceUpdate=!0,wd(b,c,d)}))};var rg=a.Line=function(a,b,c){this.text=a,id(this,b),this.height=c?c(this):1};Be(rg),rg.prototype.lineNo=function(){return _d(this)};var sg={},tg={};Td.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;d>c;++c){var e=this.lines[c];this.height-=e.height,Ad(e),we(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0;d<b.length;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}},Ud.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(e>a){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Td))){var h=[];this.collapse(h),this.children=[new Td(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>=a){if(e.insertInner(a,b,c),e.lines&&e.lines.length>50){for(;e.lines.length>50;){var g=e.lines.splice(e.lines.length-25,25),h=new Td(g);e.height-=h.height,this.children.splice(d+1,0,h),h.parent=this}this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new Ud(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=Fe(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new Ud(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a);if(e.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=f}}};var ug=0,vg=a.Doc=function(a,b,c,d){if(!(this instanceof vg))return new vg(a,b,c,d);null==c&&(c=0),Ud.call(this,[new Td([new rg("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=c;var e=Jf(c,0);this.sel=oa(e),this.history=new de(null),this.id=++ug,this.modeOption=b,this.lineSep=d,"string"==typeof a&&(a=this.splitLines(a)),Sd(this,{from:e,to:e,text:a}),Ba(this,oa(e),Ig)};vg.prototype=Ie(Ud.prototype,{constructor:vg,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=Zd(this,this.first,this.first+this.size);return a===!1?b:b.join(a||this.lineSeparator())},setValue:Fb(function(a){var b=Jf(this.first,0),c=this.first+this.size-1;yc(this,{from:b,to:Jf(c,Xd(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),Ba(this,oa(b))}),replaceRange:function(a,b,c,d){b=qa(this,b),c=c?qa(this,c):b,Ec(this,a,b,c,d)},getRange:function(a,b,c){var d=Yd(this,qa(this,a),qa(this,b));return c===!1?d:d.join(c||this.lineSeparator())},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){return sa(this,a)?Xd(this,a):void 0},getLineNumber:function(a){return _d(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Xd(this,a)),qd(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return qa(this,a)},getCursor:function(a){var b,c=this.sel.primary();return b=null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||a===!1?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fb(function(a,b,c){ya(this,qa(this,"number"==typeof a?Jf(a,b||0):a),null,c)}),setSelection:Fb(function(a,b,c){ya(this,qa(this,a),qa(this,b||a),c)}),extendSelection:Fb(function(a,b,c){va(this,qa(this,a),b&&qa(this,b),c)}),extendSelections:Fb(function(a,b){wa(this,ta(this,a,b))}),extendSelectionsBy:Fb(function(a,b){wa(this,Ge(this.sel.ranges,a),b)}),setSelections:Fb(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new ma(qa(this,a[d].anchor),qa(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),Ba(this,na(e,b),c)}}),addSelection:Fb(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new ma(qa(this,a),qa(this,b||a))),Ba(this,na(d,d.length-1),c)}),getSelection:function(a){for(var b,c=this.sel.ranges,d=0;d<c.length;d++){var e=Yd(this,c[d].from(),c[d].to());b=b?b.concat(e):e}return a===!1?b:b.join(a||this.lineSeparator())},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=Yd(this,c[d].from(),c[d].to());a!==!1&&(e=e.join(a||this.lineSeparator())),b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:Fb(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:this.splitLines(a[f]),origin:c}}for(var h=b&&"end"!=b&&wc(this,d,b),f=d.length-1;f>=0;f--)yc(this,d[f]);h?Aa(this,h):this.cm&&Kc(this.cm)}),undo:Fb(function(){Ac(this,"undo")}),redo:Fb(function(){Ac(this,"redo")}),undoSelection:Fb(function(){Ac(this,"undo",!0)}),redoSelection:Fb(function(){Ac(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(var d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new de(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:oe(this.history.done),undone:oe(this.history.undone)}},setHistory:function(a){var b=this.history=new de(this.history.maxGeneration);b.done=oe(a.done.slice(0),null,!0),b.undone=oe(a.undone.slice(0),null,!0)},addLineClass:Fb(function(a,b,c){return Nc(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[d]){if(Se(c).test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:Fb(function(a,b,c){return Nc(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(Se(c));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),addLineWidget:Fb(function(a,b,c){return yd(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return Uc(this,qa(this,a),qa(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return a=qa(this,a),Uc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=qa(this,a);var b=[],c=Xd(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=qa(this,a),b=qa(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h<g.length;h++){var i=g[h];e==a.line&&a.ch>i.to||null==i.from&&e!=a.line||e==b.line&&i.from>b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;return e>a?(b=a,!0):(a-=e,void++c)}),qa(this,Jf(c,b))},indexFromPos:function(a){a=qa(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new vg(Zd(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new vg(Zd(this,b,c),a.mode||this.modeOption,b,this.lineSep);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Xc(d,Wc(this)),d},unlinkDoc:function(b){if(b instanceof a&&(b=b.doc),this.linked)for(var c=0;c<this.linked.length;++c){var d=this.linked[c];if(d.doc==b){this.linked.splice(c,1),b.unlinkDoc(this),Yc(Wc(this));break}}if(b.history==this.history){var e=[b.id];Vd(b,function(a){e.push(a.id)},!0),b.history=new de(null),b.history.done=oe(this.history.done,e),b.history.undone=oe(this.history.undone,e)}},iterLinkedDocs:function(a){Vd(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):$g(a)},lineSeparator:function(){return this.lineSep||"\n"}}),vg.prototype.eachLine=vg.prototype.iter;var wg="iter insert remove copy getEditor constructor".split(" ");for(var xg in vg.prototype)vg.prototype.hasOwnProperty(xg)&&Fe(wg,xg)<0&&(a.prototype[xg]=function(a){return function(){return a.apply(this.doc,arguments)}}(vg.prototype[xg]));Be(vg);var yg=a.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},zg=a.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},Ag=a.e_stop=function(a){yg(a),zg(a)},Bg=a.on=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}},Cg=[],Dg=a.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else for(var d=ve(a,b,!1),e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}},Eg=a.signal=function(a,b){var c=ve(a,b,!0);if(c.length)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},Fg=null,Gg=30,Hg=a.Pass={toString:function(){return"CodeMirror.Pass"}},Ig={scroll:!1},Jg={origin:"*mouse"},Kg={origin:"+move"};Ce.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var Lg=a.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var f=d||0,g=e||0;;){var h=a.indexOf("	",f);if(0>h||h>=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}},Mg=a.findColumn=function(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("	",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e>=b)return d}},Ng=[""],Og=function(a){a.select()};Af?Og=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:rf&&(Og=function(a){try{a.select()}catch(b){}});var Pg,Qg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Rg=a.isWordChar=function(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||Qg.test(a))},Sg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Pg=document.createRange?function(a,b,c,d){var e=document.createRange();return e.setEnd(d||a,c),e.setStart(a,b),e}:function(a,b,c){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch(e){return d}return d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d};var Tg=a.contains=function(a,b){if(3==b.nodeType&&(b=b.parentNode),a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)};rf&&11>sf&&(Re=function(){try{return document.activeElement}catch(a){return document.body}});var Ug,Vg,Wg=a.rmClass=function(a,b){var c=a.className,d=Se(b).exec(c);if(d){var e=c.slice(d.index+d[0].length);a.className=c.slice(0,d.index)+(e?d[1]+e:"")}},Xg=a.addClass=function(a,b){var c=a.className;Se(b).test(c)||(a.className+=(c?" ":"")+b)},Yg=!1,Zg=function(){if(rf&&9>sf)return!1;var a=Oe("div");return"draggable"in a||"dragDrop"in a}(),$g=a.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},_g=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},ah=function(){var a=Oe("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),bh=null,ch=a.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var a=0;10>a;a++)ch[a+48]=ch[a+96]=String(a);for(var a=65;90>=a;a++)ch[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)ch[a+111]=ch[a+63235]="F"+a}();var dh,eh=function(){function a(a){return 247>=a?c.charAt(a):a>=1424&&1524>=a?"R":a>=1536&&1773>=a?d.charAt(a-1536):a>=1774&&2220>=a?"r":a>=8192&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a,this.from=b,this.to=c}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,g=/[LRr]/,h=/[Lb1n]/,i=/[1n]/,j="L";return function(c){if(!e.test(c))return!1;for(var d,k=c.length,l=[],m=0;k>m;++m)l.push(d=a(c.charCodeAt(m)));for(var m=0,n=j;k>m;++m){var d=l[m];"m"==d?l[m]=n:n=d}for(var m=0,o=j;k>m;++m){var d=l[m];"1"==d&&"r"==o?l[m]="n":g.test(d)&&(o=d,"r"==d&&(l[m]="R"))}for(var m=1,n=l[0];k-1>m;++m){var d=l[m];"+"==d&&"1"==n&&"1"==l[m+1]?l[m]="1":","!=d||n!=l[m+1]||"1"!=n&&"n"!=n||(l[m]=n),n=d}for(var m=0;k>m;++m){var d=l[m];if(","==d)l[m]="N";else if("%"==d){for(var p=m+1;k>p&&"%"==l[p];++p);
for(var q=m&&"!"==l[m-1]||k>p&&"1"==l[p]?"1":"N",r=m;p>r;++r)l[r]=q;m=p-1}}for(var m=0,o=j;k>m;++m){var d=l[m];"L"==o&&"1"==d?l[m]="L":g.test(d)&&(o=d)}for(var m=0;k>m;++m)if(f.test(l[m])){for(var p=m+1;k>p&&f.test(l[p]);++p);for(var s="L"==(m?l[m-1]:j),t="L"==(k>p?l[p]:j),q=s||t?"L":"R",r=m;p>r;++r)l[r]=q;m=p-1}for(var u,v=[],m=0;k>m;)if(h.test(l[m])){var w=m;for(++m;k>m&&h.test(l[m]);++m);v.push(new b(0,w,m))}else{var x=m,y=v.length;for(++m;k>m&&"L"!=l[m];++m);for(var r=x;m>r;)if(i.test(l[r])){r>x&&v.splice(y,0,new b(1,x,r));var z=r;for(++r;m>r&&i.test(l[r]);++r);v.splice(y,0,new b(2,z,r)),x=r}else++r;m>x&&v.splice(y,0,new b(1,x,m))}return 1==v[0].level&&(u=c.match(/^\s+/))&&(v[0].from=u[0].length,v.unshift(new b(0,0,u[0].length))),1==Ee(v).level&&(u=c.match(/\s+$/))&&(Ee(v).to-=u[0].length,v.push(new b(0,k-u[0].length,k))),2==v[0].level&&v.unshift(new b(1,v[0].to,v[0].to)),v[0].level!=Ee(v).level&&v.push(new b(v[0].level,k,k)),v}}();return a.version="5.7.1",a})},{}],136:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";function b(a){for(var b={},c=a.split(" "),d=0;d<c.length;++d)b[c[d]]=!0;return b}function c(a,b){return"function"==typeof a?a(b):a.propertyIsEnumerable(b)}function d(a,b){if(!b.startOfLine)return!1;for(;;){if(!a.skipTo("\\")){a.skipToEnd(),b.tokenize=null;break}if(a.next(),a.eol()){b.tokenize=d;break}}return"meta"}function e(a,b){return"variable-3"==b.prevToken?"variable-3":!1}function f(a){return a.eatWhile(/[\w\.']/),"number"}function g(a,b){if(a.backUp(1),a.match(/(R|u8R|uR|UR|LR)/)){var c=a.match(/"([^\s\\()]{0,16})\(/);return c?(b.cpp11RawStringDelim=c[1],b.tokenize=j,j(a,b)):!1}return a.match(/(u8|u|U|L)/)?a.match(/["']/,!1)?"string":!1:(a.next(),!1)}function h(a){var b=/(\w+)::(\w+)$/.exec(a);return b&&b[1]==b[2]}function i(a,b){for(var c;null!=(c=a.next());)if('"'==c&&!a.eat('"')){b.tokenize=null;break}return"string"}function j(a,b){var c=b.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),d=a.match(new RegExp(".*?\\)"+c+'"'));return d?b.tokenize=null:a.skipToEnd(),"string"}function k(b,c){function d(a){if(a)for(var b in a)a.hasOwnProperty(b)&&e.push(b)}"string"==typeof b&&(b=[b]);var e=[];d(c.keywords),d(c.types),d(c.builtin),d(c.atoms),e.length&&(c.helperType=b[0],a.registerHelper("hintWords",b[0],e));for(var f=0;f<b.length;++f)a.defineMIME(b[f],c)}function l(a,b){for(var c=!1;!a.eol();){if(!c&&a.match('"""')){b.tokenize=null;break}c="\\"==a.next()&&!c}return"string"}function m(a){return function(b,c){for(var d,e=!1,f=!1;!b.eol();){if(!e&&b.match('"')&&("single"==a||b.match('""'))){f=!0;break}if(!e&&b.match("``")){p=m(a),f=!0;break}d=b.next(),e="single"==a&&!e&&"\\"==d}return f&&(c.tokenize=null),"string"}}a.defineMode("clike",function(b,d){function e(a,b){var d=a.next();if(w[d]){var e=w[d](a,b);if(e!==!1)return e}if('"'==d||"'"==d)return b.tokenize=f(d),b.tokenize(a,b);if(B.test(d))return n=d,null;if(C.test(d))return a.eatWhile(/[\w\.]/),"number";if("/"==d){if(a.eat("*"))return b.tokenize=g,g(a,b);if(a.eat("/"))return a.skipToEnd(),"comment"}if(D.test(d))return a.eatWhile(D),"operator";if(a.eatWhile(/[\w\$_\xa1-\uffff]/),A)for(;a.match(A);)a.eatWhile(/[\w\$_\xa1-\uffff]/);var h=a.current();return c(q,h)?(c(t,h)&&(n="newstatement"),c(u,h)&&(o=!0),"keyword"):c(r,h)?"variable-3":c(s,h)?(c(t,h)&&(n="newstatement"),"builtin"):c(v,h)?"atom":"variable"}function f(a){return function(b,c){for(var d,e=!1,f=!1;null!=(d=b.next());){if(d==a&&!e){f=!0;break}e=!e&&"\\"==d}return(f||!e&&!x)&&(c.tokenize=null),"string"}}function g(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=null;break}d="*"==c}return"comment"}function h(a,b,c,d,e){this.indented=a,this.column=b,this.type=c,this.align=d,this.prev=e}function i(a){return"statement"==a||"switchstatement"==a||"namespace"==a}function j(a,b,c){var d=a.indented;return a.context&&i(a.context.type)&&!i(c)&&(d=a.context.indented),a.context=new h(d,b,c,null,a.context)}function k(a){var b=a.context.type;return(")"==b||"]"==b||"}"==b)&&(a.indented=a.context.indented),a.context=a.context.prev}function l(a,b){return"variable"==b.prevToken||"variable-3"==b.prevToken?!0:/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(a.string.slice(0,a.start))?!0:void 0}function m(a){for(;;){if(!a||"top"==a.type)return!0;if("}"==a.type&&"namespace"!=a.prev.type)return!1;a=a.prev}}var n,o,p=b.indentUnit,q=(d.statementIndentUnit||p,d.dontAlignCalls,d.keywords||{}),r=d.types||{},s=d.builtin||{},t=d.blockKeywords||{},u=d.defKeywords||{},v=d.atoms||{},w=d.hooks||{},x=d.multiLineStrings,y=d.indentStatements!==!1,z=d.indentSwitch!==!1,A=d.namespaceSeparator,B=d.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,C=d.isNumberChar||/\d/,D=d.isOperatorChar||/[+\-*&%=<>!?|\/]/,E=d.endStatement||/^[;:,]$/;return{startState:function(a){return{tokenize:null,context:new h((a||0)-p,0,"top",!1),indented:0,startOfLine:!0,prevToken:null}},token:function(a,b){var c=b.context;if(a.sol()&&(null==c.align&&(c.align=!1),b.indented=a.indentation(),b.startOfLine=!0,"statement"==c.type&&(c=k(b))),a.eatSpace())return null;n=o=null;var f=(b.tokenize||e)(a,b);if("comment"==f||"meta"==f)return f;if(null==c.align&&(c.align=!0),E.test(n))for(;i(b.context.type);)k(b);else if("{"==n)j(b,a.column(),"}");else if("["==n)j(b,a.column(),"]");else if("("==n)j(b,a.column(),")");else if("}"==n){for(;i(c.type);)c=k(b);for("}"==c.type&&(c=k(b));i(c.type);)c=k(b)}else if(n==c.type)k(b);else if(y&&(("}"==c.type||"top"==c.type)&&";"!=n||i(c.type)&&"newstatement"==n)){var g="statement";"newstatement"==n&&z&&"switch"==a.current()?g="switchstatement":"keyword"==f&&"namespace"==a.current()&&(g="namespace"),j(b,a.column(),g)}if("variable"==f&&("def"==b.prevToken||d.typeFirstDefinitions&&l(a,b)&&m(b.context)&&a.match(/^\s*\(/,!1))&&(f="def"),w.token){var h=w.token(a,b,f);void 0!==h&&(f=h)}return"def"==f&&d.styleDefs===!1&&(f="variable"),b.startOfLine=!1,b.prevToken=o?"def":f||n,f},indent:function(b,c){if(b.tokenize!=e&&null!=b.tokenize)return a.Pass;var d=b.context,f=c&&c.charAt(0);i(d.type)&&(d=d.prev);var g=f==d.type,h=d.prev&&"switchstatement"==d.prev.type;return d.indented+(g?0:p)+(g||!h||/^(?:case|default)\b/.test(c)?0:p)},electricInput:z?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var n="auto if break case register continue return default do sizeof static else struct switch extern typedef float union for goto while enum const volatile",o="int long char short double float unsigned signed void size_t ptrdiff_t";k(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:b(n),types:b(o+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:b("case do else for if switch while struct"),defKeywords:b("struct"),typeFirstDefinitions:!0,atoms:b("null true false"),hooks:{"#":d,"*":e},modeProps:{fold:["brace","include"]}}),k(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:b(n+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:b(o+" bool wchar_t"),blockKeywords:b("catch class do else finally for if struct switch try while"),defKeywords:b("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:b("true false null"),hooks:{"#":d,"*":e,u:g,U:g,L:g,R:g,0:f,1:f,2:f,3:f,4:f,5:f,6:f,7:f,8:f,9:f,token:function(a,b,c){return"variable"!=c||"("!=a.peek()||";"!=b.prevToken&&null!=b.prevToken&&"}"!=b.prevToken||!h(a.current())?void 0:"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),k("text/x-java",{name:"clike",keywords:b("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while"),types:b("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:b("catch class do else finally for if switch try while"),defKeywords:b("class interface package enum"),typeFirstDefinitions:!0,atoms:b("true false null"),endStatement:/^[;:]$/,hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),k("text/x-csharp",{name:"clike",keywords:b("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:b("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:b("catch class do else finally for foreach if struct switch try while"),defKeywords:b("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:b("true false null"),hooks:{"@":function(a,b){return a.eat('"')?(b.tokenize=i,i(a,b)):(a.eatWhile(/[\w\$_]/),"meta")}}}),k("text/x-scala",{name:"clike",keywords:b("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble :: #:: "),types:b("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,dontAlignCalls:!0,blockKeywords:b("catch class do else finally for forSome if match switch try while"),defKeywords:b("class def object package trait type val var"),atoms:b("true false null"),indentStatements:!1,indentSwitch:!1,hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"},'"':function(a,b){return a.match('""')?(b.tokenize=l,b.tokenize(a,b)):!1},"'":function(a){return a.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"}},modeProps:{closeBrackets:{triples:'"'}}}),k("text/x-kotlin",{name:"clike",keywords:b("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as?file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline"),types:b("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:b("catch class do else finally for if where try while enum"),defKeywords:b("class val var object package interface fun"),atoms:b("true false null this"),modeProps:{closeBrackets:{triples:'"'}}}),k(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:b("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:b("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:b("for while do if else struct"),builtin:b("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:b("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":d},modeProps:{fold:["brace","include"]}}),k("text/x-nesc",{name:"clike",keywords:b(n+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:b(o),blockKeywords:b("case do else for if switch while struct"),atoms:b("null true false"),hooks:{"#":d},modeProps:{fold:["brace","include"]}}),k("text/x-objectivec",{name:"clike",keywords:b(n+"inline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:b(o),atoms:b("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(a){return a.eatWhile(/[\w\$]/),"keyword"},"#":d},modeProps:{fold:"brace"}}),k("text/x-squirrel",{name:"clike",keywords:b("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:b(o),blockKeywords:b("case catch class else for foreach if switch try while"),defKeywords:b("function local class"),typeFirstDefinitions:!0,atoms:b("true false null"),hooks:{"#":d},modeProps:{fold:["brace","include"]}});var p=null;k("text/x-ceylon",{name:"clike",keywords:b("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(a){var b=a.charAt(0);return b===b.toUpperCase()&&b!==b.toLowerCase()},blockKeywords:b("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:b("class dynamic function interface module object package value"),builtin:b("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,isNumberChar:/[\d#$]/,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:b("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"},'"':function(a,b){return b.tokenize=m(a.match('""')?"triple":"single"),b.tokenize(a,b)},"`":function(a,b){return p&&a.match("`")?(b.tokenize=p,p=null,b.tokenize(a,b)):!1},"'":function(a){return a.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(a,b,c){return"variable"!=c&&"variable-3"!=c||"."!=b.prevToken?void 0:"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},{"../../lib/codemirror":135}],137:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror"),a("../xml/xml"),a("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],d):d(CodeMirror)}(function(a){"use strict";a.defineMode("markdown",function(b,c){function d(c){if(a.findModeByName){var d=a.findModeByName(c);d&&(c=d.mime||d.mimes[0])}var e=a.getMode(b,c);return"null"==e.name?null:e}function e(a,b,c){return b.f=b.inline=c,c(a,b)}function f(a,b,c){return b.f=b.block=c,c(a,b)}function g(a){return!a||!/\S/.test(a.string)}function h(a){return a.linkTitle=!1,a.em=!1,a.strong=!1,a.strikethrough=!1,a.quote=0,a.indentedCode=!1,w||a.f!=j||(a.f=o,a.block=i),a.trailingSpace=0,a.trailingSpaceNewLine=!1,a.prevLine=a.thisLine,a.thisLine=null,null}function i(a,b){var f=a.sol(),h=b.list!==!1,i=b.indentedCode;b.indentedCode=!1,h&&(b.indentationDiff>=0?(b.indentationDiff<4&&(b.indentation-=b.indentationDiff),b.list=null):b.indentation>0?(b.list=null,b.listDepth=Math.floor(b.indentation/4)):(b.list=!1,b.listDepth=0));var j=null;if(b.indentationDiff>=4)return a.skipToEnd(),i||g(b.prevLine)?(b.indentation-=4,b.indentedCode=!0,A):null;if(a.eatSpace())return null;if((j=a.match(T))&&j[1].length<=6)return b.header=j[1].length,c.highlightFormatting&&(b.formatting="header"),b.f=b.inline,m(b);if(!(g(b.prevLine)||b.quote||h||i)&&(j=a.match(U)))return b.header="="==j[0].charAt(0)?1:2,c.highlightFormatting&&(b.formatting="header"),b.f=b.inline,m(b);if(a.eat(">"))return b.quote=f?1:b.quote+1,c.highlightFormatting&&(b.formatting="quote"),a.eatSpace(),m(b);if("["===a.peek())return e(a,b,s);if(a.match(P,!0))return b.hr=!0,F;if((g(b.prevLine)||h)&&(a.match(Q,!1)||a.match(R,!1))){var l=null;return a.match(Q,!0)?l="ul":(a.match(R,!0),l="ol"),b.indentation=a.column()+a.current().length,b.list=!0,b.listDepth++,c.taskLists&&a.match(S,!1)&&(b.taskList=!0),b.f=b.inline,c.highlightFormatting&&(b.formatting=["list","list-"+l]),m(b)}return c.fencedCodeBlocks&&(j=a.match(W,!0))?(b.fencedChars=j[1],b.localMode=d(j[2]),b.localMode&&(b.localState=b.localMode.startState()),b.f=b.block=k,c.highlightFormatting&&(b.formatting="code-block"),b.code=!0,m(b)):e(a,b,b.inline)}function j(a,b){var c=x.token(a,b.htmlState);return(w&&null===b.htmlState.tagStart&&!b.htmlState.context&&b.htmlState.tokenize.isInText||b.md_inside&&a.current().indexOf(">")>-1)&&(b.f=o,b.block=i,b.htmlState=null),c}function k(a,b){return a.sol()&&b.fencedChars&&a.match(b.fencedChars,!1)?(b.localMode=b.localState=null,b.f=b.block=l,null):b.localMode?b.localMode.token(a,b.localState):(a.skipToEnd(),A)}function l(a,b){a.match(b.fencedChars),b.block=i,b.f=o,b.fencedChars=null,c.highlightFormatting&&(b.formatting="code-block"),b.code=!0;var d=m(b);return b.code=!1,d}function m(a){var b=[];if(a.formatting){b.push(H),"string"==typeof a.formatting&&(a.formatting=[a.formatting]);for(var d=0;d<a.formatting.length;d++)b.push(H+"-"+a.formatting[d]),"header"===a.formatting[d]&&b.push(H+"-"+a.formatting[d]+"-"+a.header),"quote"===a.formatting[d]&&(!c.maxBlockquoteDepth||c.maxBlockquoteDepth>=a.quote?b.push(H+"-"+a.formatting[d]+"-"+a.quote):b.push("error"))}if(a.taskOpen)return b.push("meta"),b.length?b.join(" "):null;if(a.taskClosed)return b.push("property"),b.length?b.join(" "):null;if(a.linkHref?b.push(L,"url"):(a.strong&&b.push(N),a.em&&b.push(M),a.strikethrough&&b.push(O),a.linkText&&b.push(K),a.code&&b.push(A)),a.header&&(b.push(z),b.push(z+"-"+a.header)),a.quote&&(b.push(B),!c.maxBlockquoteDepth||c.maxBlockquoteDepth>=a.quote?b.push(B+"-"+a.quote):b.push(B+"-"+c.maxBlockquoteDepth)),a.list!==!1){var e=(a.listDepth-1)%3;e?1===e?b.push(D):b.push(E):b.push(C)}return a.trailingSpaceNewLine?b.push("trailing-space-new-line"):a.trailingSpace&&b.push("trailing-space-"+(a.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function n(a,b){return a.match(V,!0)?m(b):void 0}function o(b,d){var e=d.text(b,d);if("undefined"!=typeof e)return e;if(d.list)return d.list=null,m(d);if(d.taskList){var g="x"!==b.match(S,!0)[1];return g?d.taskOpen=!0:d.taskClosed=!0,c.highlightFormatting&&(d.formatting="task"),d.taskList=!1,m(d)}if(d.taskOpen=!1,d.taskClosed=!1,d.header&&b.match(/^#+$/,!0))return c.highlightFormatting&&(d.formatting="header"),m(d);var h=b.sol(),i=b.next();if("\\"===i&&(b.next(),c.highlightFormatting)){var k=m(d);return k?k+" formatting-escape":"formatting-escape"}if(d.linkTitle){d.linkTitle=!1;var l=i;"("===i&&(l=")"),l=(l+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var n="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(b.match(new RegExp(n),!0))return L}if("`"===i){var o=d.formatting;c.highlightFormatting&&(d.formatting="code");var r=m(d),s=b.pos;b.eatWhile("`");var t=1+b.pos-s;return d.code?t===y?(d.code=!1,r):(d.formatting=o,m(d)):(y=t,d.code=!0,m(d))}if(d.code)return m(d);if("!"===i&&b.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return b.match(/\[[^\]]*\]/),d.inline=d.f=q,G;if("["===i&&b.match(/.*\](\(.*\)| ?\[.*\])/,!1))return d.linkText=!0,c.highlightFormatting&&(d.formatting="link"),m(d);if("]"===i&&d.linkText&&b.match(/\(.*\)| ?\[.*\]/,!1)){c.highlightFormatting&&(d.formatting="link");var k=m(d);return d.linkText=!1,d.inline=d.f=q,k}if("<"===i&&b.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){d.f=d.inline=p,c.highlightFormatting&&(d.formatting="link");var k=m(d);return k?k+=" ":k="",k+I}if("<"===i&&b.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){d.f=d.inline=p,c.highlightFormatting&&(d.formatting="link");var k=m(d);return k?k+=" ":k="",k+J}if("<"===i&&b.match(/^(!--|\w)/,!1)){var u=b.string.indexOf(">",b.pos);if(-1!=u){var v=b.string.substring(b.start,u);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(v)&&(d.md_inside=!0)}return b.backUp(1),d.htmlState=a.startState(x),f(b,d,j)}if("<"===i&&b.match(/^\/\w*?>/))return d.md_inside=!1,"tag";var w=!1;if(!c.underscoresBreakWords&&"_"===i&&"_"!==b.peek()&&b.match(/(\w)/,!1)){var z=b.pos-2;if(z>=0){var A=b.string.charAt(z);"_"!==A&&A.match(/(\w)/,!1)&&(w=!0)}}if("*"===i||"_"===i&&!w)if(h&&" "===b.peek());else{if(d.strong===i&&b.eat(i)){c.highlightFormatting&&(d.formatting="strong");var r=m(d);return d.strong=!1,r}if(!d.strong&&b.eat(i))return d.strong=i,c.highlightFormatting&&(d.formatting="strong"),m(d);if(d.em===i){c.highlightFormatting&&(d.formatting="em");var r=m(d);return d.em=!1,r}if(!d.em)return d.em=i,c.highlightFormatting&&(d.formatting="em"),m(d)}else if(" "===i&&(b.eat("*")||b.eat("_"))){if(" "===b.peek())return m(d);b.backUp(1)}if(c.strikethrough)if("~"===i&&b.eatWhile(i)){if(d.strikethrough){c.highlightFormatting&&(d.formatting="strikethrough");var r=m(d);return d.strikethrough=!1,r}if(b.match(/^[^\s]/,!1))return d.strikethrough=!0,c.highlightFormatting&&(d.formatting="strikethrough"),m(d)}else if(" "===i&&b.match(/^~~/,!0)){if(" "===b.peek())return m(d);b.backUp(2)}return" "===i&&(b.match(/ +$/,!1)?d.trailingSpace++:d.trailingSpace&&(d.trailingSpaceNewLine=!0)),m(d)}function p(a,b){var d=a.next();if(">"===d){b.f=b.inline=o,c.highlightFormatting&&(b.formatting="link");var e=m(b);return e?e+=" ":e="",e+I}return a.match(/^[^>]+/,!0),I}function q(a,b){if(a.eatSpace())return null;var d=a.next();return"("===d||"["===d?(b.f=b.inline=r("("===d?")":"]"),c.highlightFormatting&&(b.formatting="link-string"),b.linkHref=!0,m(b)):"error"}function r(a){return function(b,d){var e=b.next();if(e===a){d.f=d.inline=o,c.highlightFormatting&&(d.formatting="link-string");var f=m(d);return d.linkHref=!1,f}return b.match(v(a),!0)&&b.backUp(1),d.linkHref=!0,m(d)}}function s(a,b){return a.match(/^[^\]]*\]:/,!1)?(b.f=t,a.next(),c.highlightFormatting&&(b.formatting="link"),b.linkText=!0,m(b)):e(a,b,o)}function t(a,b){if(a.match(/^\]:/,!0)){b.f=b.inline=u,c.highlightFormatting&&(b.formatting="link");var d=m(b);return b.linkText=!1,d}return a.match(/^[^\]]+/,!0),K}function u(a,b){return a.eatSpace()?null:(a.match(/^[^\s]+/,!0),void 0===a.peek()?b.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),b.f=b.inline=o,L+" url")}function v(a){return X[a]||(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),X[a]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+a+")")),X[a]}var w=a.modes.hasOwnProperty("xml"),x=a.getMode(b,w?{name:"xml",htmlMode:!0}:"text/plain");void 0===c.highlightFormatting&&(c.highlightFormatting=!1),void 0===c.maxBlockquoteDepth&&(c.maxBlockquoteDepth=0),void 0===c.underscoresBreakWords&&(c.underscoresBreakWords=!0),void 0===c.taskLists&&(c.taskLists=!1),void 0===c.strikethrough&&(c.strikethrough=!1);var y=0,z="header",A="comment",B="quote",C="variable-2",D="variable-3",E="keyword",F="hr",G="tag",H="formatting",I="link",J="link",K="link",L="string",M="em",N="strong",O="strikethrough",P=/^([*\-_])(?:\s*\1){2,}\s*$/,Q=/^[*\-+]\s+/,R=/^[0-9]+([.)])\s+/,S=/^\[(x| )\](?=\s)/,T=c.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,U=/^ *(?:\={1,}|-{1,})\s*$/,V=/^[^#!\[\]*_\\<>` "'(~]+/,W=new RegExp("^("+(c.fencedCodeBlocks===!0?"~~~+|```+":c.fencedCodeBlocks)+")[ \\t]*([\\w+#]*)"),X=[],Y={startState:function(){return{f:i,prevLine:null,thisLine:null,block:i,htmlState:null,indentation:0,inline:o,text:n,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(b){return{f:b.f,prevLine:b.prevLine,thisLine:b["this"],block:b.block,htmlState:b.htmlState&&a.copyState(x,b.htmlState),indentation:b.indentation,localMode:b.localMode,localState:b.localMode?a.copyState(b.localMode,b.localState):null,inline:b.inline,text:b.text,formatting:!1,linkTitle:b.linkTitle,code:b.code,em:b.em,strong:b.strong,strikethrough:b.strikethrough,header:b.header,hr:b.hr,taskList:b.taskList,list:b.list,listDepth:b.listDepth,quote:b.quote,indentedCode:b.indentedCode,trailingSpace:b.trailingSpace,trailingSpaceNewLine:b.trailingSpaceNewLine,md_inside:b.md_inside,fencedChars:b.fencedChars}},token:function(a,b){if(b.formatting=!1,a!=b.thisLine){var c=b.header||b.hr;if(b.header=0,b.hr=!1,a.match(/^\s*$/,!0)||c){if(h(b),!c)return null;b.prevLine=null}b.prevLine=b.thisLine,b.thisLine=a,b.taskList=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,b.f=b.block;var d=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,e=4*Math.floor((d-b.indentation)/4);e>4&&(e=4);var f=b.indentation+e;if(b.indentationDiff=f-b.indentation,b.indentation=f,d>0)return null}return b.f(a,b)},innerMode:function(a){return a.block==j?{state:a.htmlState,mode:x}:a.localState?{state:a.localState,mode:a.localMode}:{state:a,mode:Y}},blankLine:h,getType:m,fold:"markdown"};return Y},"xml"),a.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":135,"../meta":138,"../xml/xml":142}],138:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";a.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],
alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps"},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["py","pyw"]},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"]},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"MariaDB",mime:"text/x-mariadb",mode:"sql"},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var b=0;b<a.modeInfo.length;b++){var c=a.modeInfo[b];c.mimes&&(c.mime=c.mimes[0])}a.findModeByMIME=function(b){b=b.toLowerCase();for(var c=0;c<a.modeInfo.length;c++){var d=a.modeInfo[c];if(d.mime==b)return d;if(d.mimes)for(var e=0;e<d.mimes.length;e++)if(d.mimes[e]==b)return d}},a.findModeByExtension=function(b){for(var c=0;c<a.modeInfo.length;c++){var d=a.modeInfo[c];if(d.ext)for(var e=0;e<d.ext.length;e++)if(d.ext[e]==b)return d}},a.findModeByFileName=function(b){for(var c=0;c<a.modeInfo.length;c++){var d=a.modeInfo[c];if(d.file&&d.file.test(b))return d}var e=b.lastIndexOf("."),f=e>-1&&b.substring(e+1,b.length);return f?a.findModeByExtension(f):void 0},a.findModeByName=function(b){b=b.toLowerCase();for(var c=0;c<a.modeInfo.length;c++){var d=a.modeInfo[c];if(d.name.toLowerCase()==b)return d;if(d.alias)for(var e=0;e<d.alias.length;e++)if(d.alias[e].toLowerCase()==b)return d}}})},{"../lib/codemirror":135}],139:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";function b(a){return new RegExp("^(("+a.join(")|(")+"))\\b")}function c(a){return a.scopes[a.scopes.length-1]}var d=b(["and","or","not","is"]),e=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],f=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],g={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},h={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None","async","await"]};a.registerHelper("hintWords","python",e.concat(f)),a.defineMode("python",function(i,j){function k(a,b){if(a.sol()&&"py"==c(b).type){var d=c(b).offset;if(a.eatSpace()){var e=a.indentation();return e>d?n(a,b,"py"):d>e&&o(a,b)&&(b.errorToken=!0),null}var f=l(a,b);return d>0&&o(a,b)&&(f+=" "+q),f}return l(a,b)}function l(a,b){if(a.eatSpace())return null;var c=a.peek();if("#"==c)return a.skipToEnd(),"comment";if(a.match(/^[0-9\.]/,!1)){var e=!1;if(a.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(e=!0),a.match(/^\d+\.\d*/)&&(e=!0),a.match(/^\.\d+/)&&(e=!0),e)return a.eat(/J/i),"number";var f=!1;if(a.match(/^0x[0-9a-f]+/i)&&(f=!0),a.match(/^0b[01]+/i)&&(f=!0),a.match(/^0o[0-7]+/i)&&(f=!0),a.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(a.eat(/J/i),f=!0),a.match(/^0(?![\dx])/i)&&(f=!0),f)return a.eat(/L/i),"number"}return a.match(A)?(b.tokenize=m(a.current()),b.tokenize(a,b)):a.match(u)||a.match(t)?null:a.match(s)||a.match(v)?"operator":a.match(r)?null:a.match(B)||a.match(d)?"keyword":a.match(C)?"builtin":a.match(/^(self|cls)\b/)?"variable-2":a.match(w)?"def"==b.lastToken||"class"==b.lastToken?"def":"variable":(a.next(),q)}function m(a){function b(b,e){for(;!b.eol();)if(b.eatWhile(/[^'"\\]/),b.eat("\\")){if(b.next(),c&&b.eol())return d}else{if(b.match(a))return e.tokenize=k,d;b.eat(/['"]/)}if(c){if(j.singleLineStringErrors)return q;e.tokenize=k}return d}for(;"rub".indexOf(a.charAt(0).toLowerCase())>=0;)a=a.substr(1);var c=1==a.length,d="string";return b.isString=!0,b}function n(a,b,d){var e=0,f=null;if("py"==d)for(;"py"!=c(b).type;)b.scopes.pop();e=c(b).offset+("py"==d?i.indentUnit:x),"py"==d||a.match(/^(\s|#.*)*$/,!1)||(f=a.column()+1),b.scopes.push({offset:e,type:d,align:f})}function o(a,b){for(var d=a.indentation();c(b).offset>d;){if("py"!=c(b).type)return!0;b.scopes.pop()}return c(b).offset!=d}function p(a,b){var d=b.tokenize(a,b),e=a.current();if("."==e)return d=a.match(w,!1)?null:q,null==d&&"meta"==b.lastStyle&&(d="meta"),d;if("@"==e)return j.version&&3==parseInt(j.version,10)?a.match(w,!1)?"meta":"operator":a.match(w,!1)?"meta":q;"variable"!=d&&"builtin"!=d||"meta"!=b.lastStyle||(d="meta"),("pass"==e||"return"==e)&&(b.dedent+=1),"lambda"==e&&(b.lambda=!0),":"!=e||b.lambda||"py"!=c(b).type||n(a,b,"py");var f=1==e.length?"[({".indexOf(e):-1;if(-1!=f&&n(a,b,"])}".slice(f,f+1)),f="])}".indexOf(e),-1!=f){if(c(b).type!=e)return q;b.scopes.pop()}return b.dedent>0&&a.eol()&&"py"==c(b).type&&(b.scopes.length>1&&b.scopes.pop(),b.dedent-=1),d}var q="error",r=j.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),s=j.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),t=j.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),u=j.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(j.version&&3==parseInt(j.version,10))var v=j.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),w=j.identifiers||new RegExp("^[_A-Za-z¡-￿][_A-Za-z0-9¡-￿]*");else var v=j.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),w=j.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var x=j.hangingIndent||i.indentUnit,y=e,z=f;if(void 0!=j.extra_keywords&&(y=y.concat(j.extra_keywords)),void 0!=j.extra_builtins&&(z=z.concat(j.extra_builtins)),j.version&&3==parseInt(j.version,10)){y=y.concat(h.keywords),z=z.concat(h.builtins);var A=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{y=y.concat(g.keywords),z=z.concat(g.builtins);var A=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var B=b(y),C=b(z),D={startState:function(a){return{tokenize:k,scopes:[{offset:a||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(a,b){var c=b.errorToken;c&&(b.errorToken=!1);var d=p(a,b);b.lastStyle=d;var e=a.current();return e&&d&&(b.lastToken=e),a.eol()&&b.lambda&&(b.lambda=!1),c?d+" "+q:d},indent:function(b,d){if(b.tokenize!=k)return b.tokenize.isString?a.Pass:0;var e=c(b),f=d&&d.charAt(0)==e.type;return null!=e.align?e.align-(f?1:0):f&&b.scopes.length>1?b.scopes[b.scopes.length-2].offset:e.offset},closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return D}),a.defineMIME("text/x-python","python");var i=function(a){return a.split(" ")};a.defineMIME("text/x-cython",{name:"python",extra_keywords:i("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})})},{"../../lib/codemirror":135}],140:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";a.defineMode("r",function(a){function b(a){for(var b=a.split(" "),c={},d=0;d<b.length;++d)c[b[d]]=!0;return c}function c(a,b){g=null;var c=a.next();if("#"==c)return a.skipToEnd(),"comment";if("0"==c&&a.eat("x"))return a.eatWhile(/[\da-f]/i),"number";if("."==c&&a.eat(/\d/))return a.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(c))return a.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==c||'"'==c)return b.tokenize=d(c),"string";if("."==c&&a.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(c)&&"_"!=c){a.eatWhile(/[\w\.]/);var e=a.current();return h.propertyIsEnumerable(e)?"atom":j.propertyIsEnumerable(e)?(k.propertyIsEnumerable(e)&&!a.match(/\s*if(\s+|$)/,!1)&&(g="block"),"keyword"):i.propertyIsEnumerable(e)?"builtin":"variable"}return"%"==c?(a.skipTo("%")&&a.next(),"variable-2"):"<"==c&&a.eat("-")?"arrow":"="==c&&b.ctx.argList?"arg-is":l.test(c)?"$"==c?"dollar":(a.eatWhile(l),"operator"):/[\(\){}\[\];]/.test(c)?(g=c,";"==c?"semi":null):null}function d(a){return function(b,d){if(b.eat("\\")){var e=b.next();return"x"==e?b.match(/^[a-f0-9]{2}/i):("u"==e||"U"==e)&&b.eat("{")&&b.skipTo("}")?b.next():"u"==e?b.match(/^[a-f0-9]{4}/i):"U"==e?b.match(/^[a-f0-9]{8}/i):/[0-7]/.test(e)&&b.match(/^[0-7]{1,2}/),"string-2"}for(var f;null!=(f=b.next());){if(f==a){d.tokenize=c;break}if("\\"==f){b.backUp(1);break}}return"string"}}function e(a,b,c){a.ctx={type:b,indent:a.indent,align:null,column:c.column(),prev:a.ctx}}function f(a){a.indent=a.ctx.indent,a.ctx=a.ctx.prev}var g,h=b("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),i=b("list quote bquote eval return call parse deparse"),j=b("if else repeat while function for in next break"),k=b("if else repeat while function for"),l=/[+\-*\/^<>=!&|~$:]/;return{startState:function(){return{tokenize:c,ctx:{type:"top",indent:-a.indentUnit,align:!1},indent:0,afterIdent:!1}},token:function(a,b){if(a.sol()&&(null==b.ctx.align&&(b.ctx.align=!1),b.indent=a.indentation()),a.eatSpace())return null;var c=b.tokenize(a,b);"comment"!=c&&null==b.ctx.align&&(b.ctx.align=!0);var d=b.ctx.type;return";"!=g&&"{"!=g&&"}"!=g||"block"!=d||f(b),"{"==g?e(b,"}",a):"("==g?(e(b,")",a),b.afterIdent&&(b.ctx.argList=!0)):"["==g?e(b,"]",a):"block"==g?e(b,"block",a):g==d&&f(b),b.afterIdent="variable"==c||"keyword"==c,c},indent:function(b,d){if(b.tokenize!=c)return 0;var e=d&&d.charAt(0),f=b.ctx,g=e==f.type;return"block"==f.type?f.indent+("{"==e?0:a.indentUnit):f.align?f.column+(g?0:1):f.indent+(g?0:a.indentUnit)},lineComment:"#"}}),a.defineMIME("text/x-rsrc","r")})},{"../../lib/codemirror":135}],141:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";a.defineMode("sql",function(b,c){function d(a,b){var c=a.next();if(o[c]){var d=o[c](a,b);if(d!==!1)return d}if(1==n.hexNumber&&("0"==c&&a.match(/^[xX][0-9a-fA-F]+/)||("x"==c||"X"==c)&&a.match(/^'[0-9a-fA-F]+'/)))return"number";if(1==n.binaryNumber&&(("b"==c||"B"==c)&&a.match(/^'[01]+'/)||"0"==c&&a.match(/^b[01]+/)))return"number";if(c.charCodeAt(0)>47&&c.charCodeAt(0)<58)return a.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),1==n.decimallessFloat&&a.eat("."),"number";if("?"==c&&(a.eatSpace()||a.eol()||a.eat(";")))return"variable-3";if("'"==c||'"'==c&&n.doubleQuote)return b.tokenize=e(c),b.tokenize(a,b);if((1==n.nCharCast&&("n"==c||"N"==c)||1==n.charsetCast&&"_"==c&&a.match(/[a-z][a-z0-9]*/i))&&("'"==a.peek()||'"'==a.peek()))return"keyword";if(/^[\(\),\;\[\]]/.test(c))return null;if(n.commentSlashSlash&&"/"==c&&a.eat("/"))return a.skipToEnd(),"comment";if(n.commentHash&&"#"==c||"-"==c&&a.eat("-")&&(!n.commentSpaceRequired||a.eat(" ")))return a.skipToEnd(),"comment";if("/"==c&&a.eat("*"))return b.tokenize=f,b.tokenize(a,b);if("."!=c){if(m.test(c))return a.eatWhile(m),null;if("{"==c&&(a.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||a.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";a.eatWhile(/^[_\w\d]/);var g=a.current().toLowerCase();return p.hasOwnProperty(g)&&(a.match(/^( )+'[^']*'/)||a.match(/^( )+"[^"]*"/))?"number":j.hasOwnProperty(g)?"atom":k.hasOwnProperty(g)?"builtin":l.hasOwnProperty(g)?"keyword":i.hasOwnProperty(g)?"string-2":q.hasOwnProperty(g)?"qualifier":null}return 1==n.zerolessFloat&&a.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":1==n.ODBCdotTable&&a.match(/^[a-zA-Z_]+/)?"variable-2":void 0}function e(a){return function(b,c){for(var e,f=!1;null!=(e=b.next());){if(e==a&&!f){c.tokenize=d;break}f=!f&&"\\"==e}return"string"}}function f(a,b){for(;;){if(!a.skipTo("*")){a.skipToEnd();break}if(a.next(),a.eat("/")){b.tokenize=d;break}}return"comment"}function g(a,b,c){b.context={prev:b.context,indent:a.indentation(),col:a.column(),type:c}}function h(a){a.indent=a.context.indent,a.context=a.context.prev}var i=c.client||{},j=c.atoms||{"false":!0,"true":!0,"null":!0},k=c.builtin||{},l=c.keywords||{},m=c.operatorChars||/^[*+\-%<>!=&|~^]/,n=c.support||{},o=c.hooks||{},p=c.dateSQL||{date:!0,time:!0,timestamp:!0},q=c.qualifiers||{};return{startState:function(){return{tokenize:d,context:null}},token:function(a,b){if(a.sol()&&b.context&&null==b.context.align&&(b.context.align=!1),a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==c)return c;b.context&&null==b.context.align&&(b.context.align=!0);var d=a.current();return"("==d?g(a,b,")"):"["==d?g(a,b,"]"):b.context&&b.context.type==d&&h(b),c},indent:function(c,d){var e=c.context;if(!e)return a.Pass;var f=d.charAt(0)==e.type;return e.align?e.col+(f?0:1):e.indent+(f?0:b.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:n.commentSlashSlash?"//":n.commentHash?"#":null}}),function(){function b(a){for(var b;null!=(b=a.next());)if("`"==b&&!a.eat("`"))return"variable-2";return a.backUp(a.current().length-1),a.eatWhile(/\w/)?"variable-2":null}function c(a){return a.eat("@")&&(a.match(/^session\./),a.match(/^local\./),a.match(/^global\./)),a.eat("'")?(a.match(/^.*'/),"variable-2"):a.eat('"')?(a.match(/^.*"/),"variable-2"):a.eat("`")?(a.match(/^.*`/),"variable-2"):a.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function d(a){return a.eat("N")?"atom":a.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function e(a){for(var b={},c=a.split(" "),d=0;d<c.length;++d)b[c[d]]=!0;return b}var f="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where ";a.defineMIME("text/x-sql",{name:"sql",keywords:e(f+"begin"),builtin:e("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:e("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:e("date time timestamp"),support:e("ODBCdotTable doubleQuote binaryNumber hexNumber")}),a.defineMIME("text/x-mssql",{name:"sql",client:e("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:e(f+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare"),builtin:e("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:e("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:e("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":c}}),a.defineMIME("text/x-mysql",{name:"sql",client:e("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:e(f+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:e("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:e("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:e("date time timestamp"),support:e("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":c,"`":b,"\\":d}}),a.defineMIME("text/x-mariadb",{name:"sql",client:e("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:e(f+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:e("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:e("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:e("date time timestamp"),support:e("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":c,"`":b,"\\":d}}),a.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:e("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:e("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:e("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:e("commentSlashSlash decimallessFloat"),hooks:{}}),a.defineMIME("text/x-plsql",{name:"sql",client:e("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:e("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:e("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),
operatorChars:/^[*+\-%<>!=~]/,dateSQL:e("date time timestamp"),support:e("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),a.defineMIME("text/x-hive",{name:"sql",keywords:e("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:e("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:e("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:e("date timestamp"),support:e("ODBCdotTable doubleQuote binaryNumber hexNumber")}),a.defineMIME("text/x-hiveql",{name:"sql",keywords:e("add after all alter and archive as asc between bucket buckets by cache cascade change cli cluster clustered coalesce collection column columns comment create cross data database databases dbproperties deferred delimited dependency desc describe directory disable distinct distribute dot drop enable escaped exists explain export extended external fields fileformat first format formatted from full function functions grant group having idxproperties if ignore import in index indexes inpath insert into is items join keys lateral left like limit lines load local location locks map mapjoin msck not of offline on option order out outer overwrite partition partitioned partitions percent privileges protection rebuild recordreader recover reduce regexp rename repair replace restrict revoke right rlike role row schema schemas select semi separated serde serdeproperties set show skewed sort sorted stored sum table tables tablesample tblproperties temporary terminated to touch transform truncate unarchive ucache union us user using view where with refresh invalidate metadata"),builtin:e("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),functions:e("round floor ceil ceiling rand exp ln log10 log2 log pow power sqrt bin hex unhex conv abs pmod sin asin cos acos tan atan degrees radians positive negative sign e pi size map_keys map_values array_contains sort_array binary cast from_unixtime unix_timestamp to_date year month day hour minute second weekofyear datediff date_add date_sub from_utc_timestamp to_utc_timestamp ascii concat context_ngrams concat_ws find_in_set format_number get_json_object in_file instr length locate lower lcase lpad ltrim ngrams parse_url printf regexp_extract regexp_replace repeat reverse rpad rtrim sentences space split str_to_map substr substring translate trim upper ucase java_method reflect xpath xpath_short xpath_int xpath_long xpath_float xpath_double xpath_number xpath_string count sum avg min max variance var_samp stdev_pop stdev_samp covar_pop covar_samp corr percentile percentile_approx histogram_numeric collect_set inline explode json_tuple parse_url_tuple get_json_object"),atoms:e("false true null"),qualifiers:e("%sql"),operatorChars:/^[*+\-<>!=~&|^]/,dateSQL:e("date time timestamp"),support:e("ODBCdotTable zerolessFloat doubleQuote")})}()})},{"../../lib/codemirror":135}],142:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";a.defineMode("xml",function(b,c){function d(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if("<"==d)return a.eat("!")?a.eat("[")?a.match("CDATA[")?c(g("atom","]]>")):null:a.match("--")?c(g("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(h(1))):null:a.eat("?")?(a.eatWhile(/[\w\._\-]/),b.tokenize=g("meta","?>"),"meta"):(x=a.eat("/")?"closeTag":"openTag",b.tokenize=e,"tag bracket");if("&"==d){var f;return f=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),f?"atom":"error"}return a.eatWhile(/[^&<]/),null}function e(a,b){var c=a.next();if(">"==c||"/"==c&&a.eat(">"))return b.tokenize=d,x=">"==c?"endTag":"selfcloseTag","tag bracket";if("="==c)return x="equals",null;if("<"==c){b.tokenize=d,b.state=l,b.tagName=b.tagStart=null;var e=b.tokenize(a,b);return e?e+" tag error":"tag error"}return/[\'\"]/.test(c)?(b.tokenize=f(c),b.stringStartCol=a.column(),b.tokenize(a,b)):(a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=e;break}return"string"};return b.isInAttribute=!0,b}function g(a,b){return function(c,e){for(;!c.eol();){if(c.match(b)){e.tokenize=d;break}c.next()}return a}}function h(a){return function(b,c){for(var e;null!=(e=b.next());){if("<"==e)return c.tokenize=h(a+1),c.tokenize(b,c);if(">"==e){if(1==a){c.tokenize=d;break}return c.tokenize=h(a-1),c.tokenize(b,c)}}return"meta"}}function i(a,b,c){this.prev=a.context,this.tagName=b,this.indent=a.indented,this.startOfLine=c,(z.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)&&(this.noIndent=!0)}function j(a){a.context&&(a.context=a.context.prev)}function k(a,b){for(var c;;){if(!a.context)return;if(c=a.context.tagName,!z.contextGrabbers.hasOwnProperty(c)||!z.contextGrabbers[c].hasOwnProperty(b))return;j(a)}}function l(a,b,c){return"openTag"==a?(c.tagStart=b.column(),m):"closeTag"==a?n:l}function m(a,b,c){return"word"==a?(c.tagName=b.current(),y="tag",q):(y="error",m)}function n(a,b,c){if("word"==a){var d=b.current();return c.context&&c.context.tagName!=d&&z.implicitlyClosed.hasOwnProperty(c.context.tagName)&&j(c),c.context&&c.context.tagName==d?(y="tag",o):(y="tag error",p)}return y="error",p}function o(a,b,c){return"endTag"!=a?(y="error",o):(j(c),l)}function p(a,b,c){return y="error",o(a,b,c)}function q(a,b,c){if("word"==a)return y="attribute",r;if("endTag"==a||"selfcloseTag"==a){var d=c.tagName,e=c.tagStart;return c.tagName=c.tagStart=null,"selfcloseTag"==a||z.autoSelfClosers.hasOwnProperty(d)?k(c,d):(k(c,d),c.context=new i(c,d,e==c.indented)),l}return y="error",q}function r(a,b,c){return"equals"==a?s:(z.allowMissing||(y="error"),q(a,b,c))}function s(a,b,c){return"string"==a?t:"word"==a&&z.allowUnquoted?(y="string",q):(y="error",q(a,b,c))}function t(a,b,c){return"string"==a?t:q(a,b,c)}var u=b.indentUnit,v=c.multilineTagIndentFactor||1,w=c.multilineTagIndentPastTag;null==w&&(w=!0);var x,y,z=c.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},A=c.alignCDATA;return d.isInText=!0,{startState:function(){return{tokenize:d,state:l,indented:0,tagName:null,tagStart:null,context:null}},token:function(a,b){if(!b.tagName&&a.sol()&&(b.indented=a.indentation()),a.eatSpace())return null;x=null;var c=b.tokenize(a,b);return(c||x)&&"comment"!=c&&(y=null,b.state=b.state(x||c,a,b),y&&(c="error"==y?c+" error":y)),c},indent:function(b,c,f){var g=b.context;if(b.tokenize.isInAttribute)return b.tagStart==b.indented?b.stringStartCol+1:b.indented+u;if(g&&g.noIndent)return a.Pass;if(b.tokenize!=e&&b.tokenize!=d)return f?f.match(/^(\s*)/)[0].length:0;if(b.tagName)return w?b.tagStart+b.tagName.length+2:b.tagStart+u*v;if(A&&/<!\[CDATA\[/.test(c))return 0;var h=c&&/^<(\/)?([\w_:\.-]*)/.exec(c);if(h&&h[1])for(;g;){if(g.tagName==h[2]){g=g.prev;break}if(!z.implicitlyClosed.hasOwnProperty(g.tagName))break;g=g.prev}else if(h)for(;g;){var i=z.contextGrabbers[g.tagName];if(!i||!i.hasOwnProperty(h[2]))break;g=g.prev}for(;g&&!g.startOfLine;)g=g.prev;return g?g.indent+u:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml"}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":135}],143:[function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(b){function c(a){return a?d(a):void 0}function d(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}var e={exports:{}};return e.exports=c,c.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},c.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},b._off=c,this.on(a,c),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=function(a,b){this._callbacks=this._callbacks||{};var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;var d=c.indexOf(b._off||b);return~d&&c.splice(d,1),this},c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},c.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},c.prototype.hasListeners=function(a){return!!this.listeners(a).length},function(){var d,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},m=[].slice;f="undefined"!=typeof c&&null!==c?c:a("emitter"),i=function(){},d=function(a){function b(a,d){var e,f,g;if(this.element=a,this.version=b.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(b.instances.push(this),a.dropzone=this,e=null!=(g=b.optionsForElement(this.element))?g:{},this.options=c({},this.defaultOptions,e,null!=d?d:{}),this.options.forceFallback||!b.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(f=this.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f),this.options.previewsContainer?this.previewsContainer=b.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element,this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=b.getElements(this.options.clickable,"clickable")),this.init()}var c;return l(b,a),b.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"],b.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(a,b){return b()},init:function(){return i},forceFallback:!1,fallback:function(){var a,c,d,e,f,g;for(this.element.className=""+this.element.className+" dz-browser-not-supported",g=this.element.getElementsByTagName("div"),e=0,f=g.length;f>e;e++)a=g[e],/(^| )dz-message($| )/.test(a.className)&&(c=a,a.className="dz-message");return c||(c=b.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c)),d=c.getElementsByTagName("span")[0],d&&(d.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(a){var b,c,d;return b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},c=a.width/a.height,d=this.options.thumbnailWidth/this.options.thumbnailHeight,a.height<this.options.thumbnailHeight||a.width<this.options.thumbnailWidth?(b.trgHeight=b.srcHeight,b.trgWidth=b.srcWidth):c>d?(b.srcHeight=a.height,b.srcWidth=b.srcHeight*d):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/d),b.srcX=(a.width-b.srcWidth)/2,b.srcY=(a.height-b.srcHeight)/2,b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:i,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(a){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var c=this;return a.previewElement=b.createElement(this.options.previewTemplate),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement),a.previewElement.querySelector("[data-dz-name]").textContent=a.name,a.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(a.size),this.options.addRemoveLinks&&(a._removeLink=b.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>"),a._removeLink.addEventListener("click",function(d){return d.preventDefault(),d.stopPropagation(),a.status===b.UPLOADING?b.confirm(c.options.dictCancelUploadConfirmation,function(){return c.removeFile(a)}):c.options.dictRemoveFileConfirmation?b.confirm(c.options.dictRemoveFileConfirmation,function(){return c.removeFile(a)}):c.removeFile(a)}),a.previewElement.appendChild(a._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(a){var b;return null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var c;return a.previewElement.classList.remove("dz-file-preview"),a.previewElement.classList.add("dz-image-preview"),c=a.previewElement.querySelector("[data-dz-thumbnail]"),c.alt=a.name,c.src=b},error:function(a,b){return a.previewElement.classList.add("dz-error"),a.previewElement.querySelector("[data-dz-errormessage]").textContent=b},errormultiple:i,processing:function(a){return a.previewElement.classList.add("dz-processing"),a._removeLink?a._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:i,uploadprogress:function(a,b,c){return a.previewElement.querySelector("[data-dz-uploadprogress]").style.width=""+b+"%"},totaluploadprogress:i,sending:i,sendingmultiple:i,success:function(a){return a.previewElement.classList.add("dz-success")},successmultiple:i,canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:i,complete:function(a){return a._removeLink?a._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:i,maxfilesexceeded:i,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},c=function(){var a,b,c,d,e,f,g;for(d=arguments[0],c=2<=arguments.length?m.call(arguments,1):[],f=0,g=c.length;g>f;f++){b=c[f];for(a in b)e=b[a],d[a]=e}return d},b.prototype.getAcceptedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.accepted&&e.push(a);return e},b.prototype.getRejectedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.accepted||e.push(a);return e},b.prototype.getQueuedFiles=function(){var a,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;d>c;c++)a=e[c],a.status===b.QUEUED&&f.push(a);return f},b.prototype.getUploadingFiles=function(){var a,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;d>c;c++)a=e[c],a.status===b.UPLOADING&&f.push(a);return f},b.prototype.init=function(){var a,c,d,e,f,g,h,i=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(b.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(d=function(){return i.hiddenFileInput&&document.body.removeChild(i.hiddenFileInput),i.hiddenFileInput=document.createElement("input"),i.hiddenFileInput.setAttribute("type","file"),i.hiddenFileInput.setAttribute("multiple","multiple"),null!=i.options.acceptedFiles&&i.hiddenFileInput.setAttribute("accept",i.options.acceptedFiles),i.hiddenFileInput.style.visibility="hidden",i.hiddenFileInput.style.position="absolute",i.hiddenFileInput.style.top="0",i.hiddenFileInput.style.left="0",i.hiddenFileInput.style.height="0",i.hiddenFileInput.style.width="0",document.body.appendChild(i.hiddenFileInput),i.hiddenFileInput.addEventListener("change",function(){var a;return a=i.hiddenFileInput.files,a.length&&(i.emit("selectedfiles",a),i.handleFiles(a)),d()})})(),this.URL=null!=(g=window.URL)?g:window.webkitURL,h=this.events,e=0,f=h.length;f>e;e++)a=h[e],this.on(a,this.options[a]);return this.on("uploadprogress",function(){return i.updateTotalUploadProgress()}),this.on("removedfile",function(){return i.updateTotalUploadProgress()}),this.on("canceled",function(a){return i.emit("complete",a)}),c=function(a){return a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(a){return i.emit("dragstart",a)},dragenter:function(a){return c(a),i.emit("dragenter",a)},dragover:function(a){return c(a),i.emit("dragover",a)},dragleave:function(a){return i.emit("dragleave",a)},drop:function(a){return c(a),i.drop(a)},dragend:function(a){return i.emit("dragend",a)}}}],this.clickableElements.forEach(function(a){return i.listeners.push({element:a,events:{click:function(c){return a!==i.element||c.target===i.element||b.elementInside(c.target,i.element.querySelector(".dz-message"))?i.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},b.prototype.destroy=function(){var a;return this.disable(),this.removeAllFiles(!0),(null!=(a=this.hiddenFileInput)?a.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},b.prototype.updateTotalUploadProgress=function(){var a,b,c,d,e,f,g,h;if(d=0,c=0,a=this.getAcceptedFiles(),a.length){for(h=this.getAcceptedFiles(),f=0,g=h.length;g>f;f++)b=h[f],d+=b.upload.bytesSent,c+=b.upload.total;e=100*d/c}else e=100;return this.emit("totaluploadprogress",e,c,d)},b.prototype.getFallbackForm=function(){var a,c,d,e;return(a=this.getExistingFallback())?a:(d='<div class="dz-fallback">',this.options.dictFallbackText&&(d+="<p>"+this.options.dictFallbackText+"</p>"),d+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>',c=b.createElement(d),"FORM"!==this.element.tagName?(e=b.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),e.appendChild(c)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:c)},b.prototype.getExistingFallback=function(){var a,b,c,d,e,f;for(b=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)if(b=a[c],/(^| )fallback($| )/.test(b.className))return b},f=["div","form"],d=0,e=f.length;e>d;d++)if(c=f[d],a=b(this.element.getElementsByTagName(c)))return a},b.prototype.setupEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;e>d;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.addEventListener(b,c,!1));return e}());return g},b.prototype.removeEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;e>d;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.removeEventListener(b,c,!1));return e}());return g},b.prototype.disable=function(){var a,b,c,d,e;for(this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")}),this.removeEventListeners(),d=this.files,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.cancelUpload(a));return e},b.prototype.enable=function(){return this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")}),this.setupEventListeners()},b.prototype.filesize=function(a){var b;return a>=1e11?(a/=1e11,b="TB"):a>=1e8?(a/=1e8,b="GB"):a>=1e5?(a/=1e5,b="MB"):a>=100?(a/=100,b="KB"):(a=10*a,b="b"),"<strong>"+Math.round(a)/10+"</strong> "+b},b.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},b.prototype.drop=function(a){var b,c;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,this.emit("selectedfiles",b),b.length&&(c=a.dataTransfer.items,c&&c.length&&(null!=c[0].webkitGetAsEntry||null!=c[0].getAsEntry)?this.handleItems(c):this.handleFiles(b)))},b.prototype.handleFiles=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.addFile(b));return e},b.prototype.handleItems=function(a){var b,c,d,e;for(d=0,e=a.length;e>d;d++)c=a[d],null!=c.webkitGetAsEntry?(b=c.webkitGetAsEntry(),b.isFile?this.addFile(c.getAsFile()):b.isDirectory&&this.addDirectory(b,b.name)):this.addFile(c.getAsFile())},b.prototype.accept=function(a,c){return a.size>1024*this.options.maxFilesize*1024?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):b.isValidFile(a,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,c):c(this.options.dictInvalidFileType)},b.prototype.addFile=function(a){var c=this;return a.upload={progress:0,total:a.size,bytesSent:0},this.files.push(a),a.status=b.ADDED,this.emit("addedfile",a),this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1024*this.options.maxThumbnailFilesize*1024&&this.createThumbnail(a),this.accept(a,function(b){return b?(a.accepted=!1,c._errorProcessing([a],b)):c.enqueueFile(a)})},b.prototype.enqueueFiles=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],this.enqueueFile(b);return null},b.prototype.enqueueFile=function(a){var c=this;if(a.accepted=!0,a.status!==b.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return a.status=b.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return c.processQueue()},1):void 0},b.prototype.addDirectory=function(a,b){var c,d,e=this;return c=a.createReader(),d=function(c){var d,f;for(d=0,f=c.length;f>d;d++)a=c[d],a.isFile?a.file(function(a){return e.options.ignoreHiddenFiles&&"."===a.name.substring(0,1)?void 0:(a.fullPath=""+b+"/"+a.name,e.addFile(a))}):a.isDirectory&&e.addDirectory(a,""+b+"/"+a.name)},c.readEntries(d,function(a){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(a):void 0})},b.prototype.removeFile=function(a){return a.status===b.UPLOADING&&this.cancelUpload(a),this.files=j(this.files,a),this.emit("removedfile",a),0===this.files.length?this.emit("reset"):void 0},b.prototype.removeAllFiles=function(a){var c,d,e,f;for(null==a&&(a=!1),f=this.files.slice(),d=0,e=f.length;e>d;d++)c=f[d],(c.status!==b.UPLOADING||a)&&this.removeFile(c);return null},b.prototype.createThumbnail=function(a){var b,c=this;return b=new FileReader,b.onload=function(){var d;return d=new Image,d.onload=function(){var b,e,f,g,h,i,j,k;return a.width=d.width,a.height=d.height,f=c.options.resize.call(c,a),null==f.trgWidth&&(f.trgWidth=c.options.thumbnailWidth),null==f.trgHeight&&(f.trgHeight=c.options.thumbnailHeight),b=document.createElement("canvas"),e=b.getContext("2d"),b.width=f.trgWidth,b.height=f.trgHeight,e.drawImage(d,null!=(h=f.srcX)?h:0,null!=(i=f.srcY)?i:0,f.srcWidth,f.srcHeight,null!=(j=f.trgX)?j:0,null!=(k=f.trgY)?k:0,f.trgWidth,f.trgHeight),g=b.toDataURL("image/png"),c.emit("thumbnail",a,g)},d.src=b.result},b.readAsDataURL(a)},b.prototype.processQueue=function(){var a,b,c,d;if(b=this.options.parallelUploads,c=this.getUploadingFiles().length,a=c,!(c>=b)&&(d=this.getQueuedFiles(),d.length>0)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,b-c));for(;b>a;){if(!d.length)return;this.processFile(d.shift()),a++}}},b.prototype.processFile=function(a){return this.processFiles([a])},b.prototype.processFiles=function(a){var c,d,e;for(d=0,e=a.length;e>d;d++)c=a[d],c.processing=!0,c.status=b.UPLOADING,this.emit("processing",c);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)},b.prototype._getFilesWithXhr=function(a){var b,c;return c=function(){var c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.xhr===a&&f.push(b);return f}.call(this)},b.prototype.cancelUpload=function(a){var c,d,e,f,g,h,i;if(a.status===b.UPLOADING){for(d=this._getFilesWithXhr(a.xhr),e=0,g=d.length;g>e;e++)c=d[e],c.status=b.CANCELED;for(a.xhr.abort(),f=0,h=d.length;h>f;f++)c=d[f],this.emit("canceled",c);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else((i=a.status)===b.ADDED||i===b.QUEUED)&&(a.status=b.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));return this.options.autoProcessQueue?this.processQueue():void 0},b.prototype.uploadFile=function(a){return this.uploadFiles([a])},b.prototype.uploadFiles=function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=this;for(r=new XMLHttpRequest,s=0,w=a.length;w>s;s++)d=a[s],d.xhr=r;r.open(this.options.method,this.options.url,!0),r.withCredentials=!!this.options.withCredentials,o=null,f=function(){var b,c,e;for(e=[],b=0,c=a.length;c>b;b++)d=a[b],e.push(E._errorProcessing(a,o||E.options.dictResponseError.replace("{{statusCode}}",r.status),r));return e},p=function(b){var c,e,f,g,h,i,j,k,l;if(null!=b)for(e=100*b.loaded/b.total,f=0,i=a.length;i>f;f++)d=a[f],d.upload={progress:e,total:b.total,bytesSent:b.loaded};else{for(c=!0,e=100,g=0,j=a.length;j>g;g++)d=a[g],(100!==d.upload.progress||d.upload.bytesSent!==d.upload.total)&&(c=!1),d.upload.progress=e,d.upload.bytesSent=d.upload.total;if(c)return}for(l=[],h=0,k=a.length;k>h;h++)d=a[h],l.push(E.emit("uploadprogress",d,e,d.upload.bytesSent));return l},r.onload=function(c){var d;if(a[0].status!==b.CANCELED&&4===r.readyState){if(o=r.responseText,r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json"))try{o=JSON.parse(o)}catch(e){c=e,o="Invalid JSON response from server."}return p(),200<=(d=r.status)&&300>d?E._finished(a,o,c):f()}},r.onerror=function(){return a[0].status!==b.CANCELED?f():void 0},n=null!=(A=r.upload)?A:r,n.onprogress=p,i={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&c(i,this.options.headers);for(g in i)h=i[g],r.setRequestHeader(g,h);if(e=new FormData,this.options.params){B=this.options.params;for(m in B)q=B[m],e.append(m,q)}for(t=0,x=a.length;x>t;t++)d=a[t],this.emit("sending",d,r,e);if(this.options.uploadMultiple&&this.emit("sendingmultiple",a,r,e),"FORM"===this.element.tagName)for(C=this.element.querySelectorAll("input, textarea, select, button"),u=0,y=C.length;y>u;u++)j=C[u],k=j.getAttribute("name"),l=j.getAttribute("type"),(!l||"checkbox"!==(D=l.toLowerCase())&&"radio"!==D||j.checked)&&e.append(k,j.value);for(v=0,z=a.length;z>v;v++)d=a[v],e.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),d,d.name);return r.send(e)},b.prototype._finished=function(a,c,d){var e,f,g;for(f=0,g=a.length;g>f;f++)e=a[f],e.status=b.SUCCESS,this.emit("success",e,c,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("successmultiple",a,c,d),this.emit("completemultiple",a)),this.options.autoProcessQueue?this.processQueue():void 0},b.prototype._errorProcessing=function(a,c,d){var e,f,g;for(f=0,g=a.length;g>f;f++)e=a[f],e.status=b.ERROR,this.emit("error",e,c,d),
this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("errormultiple",a,c,d),this.emit("completemultiple",a)),this.options.autoProcessQueue?this.processQueue():void 0},b}(f),d.version="3.7.1",d.options={},d.optionsForElement=function(a){return a.id?d.options[g(a.id)]:void 0},d.instances=[],d.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone},d.autoDiscover=!1,d.discover=function(){var a,b,c,e,f,g;for(document.querySelectorAll?c=document.querySelectorAll(".dropzone"):(c=[],a=function(a){var b,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],/(^| )dropzone($| )/.test(b.className)?f.push(c.push(b)):f.push(void 0);return f},a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form"))),g=[],e=0,f=c.length;f>e;e++)b=c[e],d.optionsForElement(b)!==!1?g.push(new d(b)):g.push(void 0);return g},d.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],d.isBrowserSupported=function(){var a,b,c,e,f;if(a=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(f=d.blacklistedBrowsers,c=0,e=f.length;e>c;c++)b=f[c],b.test(navigator.userAgent)&&(a=!1);else a=!1;else a=!1;return a},j=function(a,b){var c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],c!==b&&f.push(c);return f},g=function(a){return a.replace(/[\-_](\w)/g,function(a){return a[1].toUpperCase()})},d.createElement=function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.childNodes[0]},d.elementInside=function(a,b){if(a===b)return!0;for(;a=a.parentNode;)if(a===b)return!0;return!1},d.getElement=function(a,b){var c;if("string"==typeof a?c=document.querySelector(a):null!=a.nodeType&&(c=a),null==c)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector or a plain HTML element.");return c},d.getElements=function(a,b){var c,d,e,f,g,h,i,j;if(a instanceof Array){e=[];try{for(f=0,h=a.length;h>f;f++)d=a[f],e.push(this.getElement(d,b))}catch(k){c=k,e=null}}else if("string"==typeof a)for(e=[],j=document.querySelectorAll(a),g=0,i=j.length;i>g;g++)d=j[g],e.push(d);else null!=a.nodeType&&(e=[a]);if(null==e||!e.length)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return e},d.confirm=function(a,b,c){return window.confirm(a)?b():null!=c?c():void 0},d.isValidFile=function(a,b){var c,d,e,f,g;if(!b)return!0;for(b=b.split(","),d=a.type,c=d.replace(/\/.*$/,""),f=0,g=b.length;g>f;f++)if(e=b[f],e=e.trim(),"."===e.charAt(0)){if(-1!==a.name.indexOf(e,a.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(c===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1},"undefined"!=typeof b&&null!==b&&(b.fn.dropzone=function(a){return this.each(function(){return new d(this,a)})}),"undefined"!=typeof e&&null!==e?e.exports=d:window.Dropzone=d,d.ADDED="added",d.QUEUED="queued",d.ACCEPTED=d.QUEUED,d.UPLOADING="uploading",d.PROCESSING=d.UPLOADING,d.CANCELED="canceled",d.ERROR="error",d.SUCCESS="success",h=function(a,b){var c,d,e,f,g,h,i,j,k;if(e=!1,k=!0,d=a.document,j=d.documentElement,c=d.addEventListener?"addEventListener":"attachEvent",i=d.addEventListener?"removeEventListener":"detachEvent",h=d.addEventListener?"":"on",f=function(c){return"readystatechange"!==c.type||"complete"===d.readyState?(("load"===c.type?a:d)[i](h+c.type,f,!1),!e&&(e=!0)?b.call(a,c.type||c):void 0):void 0},g=function(){var a;try{j.doScroll("left")}catch(b){return a=b,void setTimeout(g,50)}return f("poll")},"complete"!==d.readyState){if(d.createEventObject&&j.doScroll){try{k=!a.frameElement}catch(l){}k&&g()}return d[c](h+"DOMContentLoaded",f,!1),d[c](h+"readystatechange",f,!1),a[c](h+"load",f,!1)}},d._autoDiscoverFunction=function(){return d.autoDiscover?d.discover():void 0},h(window,d._autoDiscoverFunction)}.call(this),e.exports})},{emitter:153}],144:[function(a,b,c){var d=d||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(a){"use strict";var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in e,g=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},h=a.webkitRequestFileSystem,i=a.requestFileSystem||h||a.mozRequestFileSystem,j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=0,m=[],n=function(){for(var a=m.length;a--;){var b=m[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}m.length=0},o=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){j(f)}}},p=function(b,d){var j,n,p,q=this,r=b.type,s=!1,t=function(){var a=c().createObjectURL(b);return m.push(a),a},u=function(){o(q,"writestart progress write writeend".split(" "))},v=function(){(s||!j)&&(j=t(b)),n&&(n.location.href=j),q.readyState=q.DONE,u()},w=function(a){return function(){return q.readyState!==q.DONE?a.apply(this,arguments):void 0}},x={create:!0,exclusive:!1};return q.readyState=q.INIT,d||(d="download"),f?(j=t(b),e.href=j,e.download=d,g(e),q.readyState=q.DONE,void u()):(a.chrome&&r&&r!==k&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,k),s=!0),h&&"download"!==d&&(d+=".download"),n=r===k||h?a:a.open(),i?(l+=b.size,void i(a.TEMPORARY,l,w(function(a){a.root.getDirectory("saved",x,w(function(a){var c=function(){a.getFile(d,x,w(function(a){a.createWriter(w(function(c){c.onwriteend=function(b){n.location.href=a.toURL(),m.push(a),q.readyState=q.DONE,o(q,"writeend",b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(d,{create:!1},w(function(a){a.remove(),c()}),w(function(a){a.code===a.NOT_FOUND_ERR?c():v()}))}),v)}),v)):void v())},q=p.prototype,r=function(a,b){return new p(a,b)};return q.abort=function(){var a=this;a.readyState=a.DONE,o(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,a.addEventListener("unload",n,!1),r}(self);"undefined"!=typeof b&&b.exports?b.exports.saveAs=d:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return d})},{}],145:[function(a,b,c){var d=a("jquery");!function(a){function b(a){return"undefined"==typeof a?!1:!0}function c(a){return!b(a)||"object"==typeof a}function d(c,d){if(b(d.customValues))for(key in d.customValues)if(c==d.customValues[key])return key;var e=/^((\d{1,2}|[-*0-9]+)(\/[0-9]+)?\s){4}(\d{1,2}|[-*0-9]+)(\/[0-9]+)?$/;if("string"!=typeof c||!e.test(c))return void a.error("cron: invalid initial value");for(var f=c.split(" "),g=[0,0,1,1,0],h=[59,23,31,12,6],i=[C.minute,C.hour,C.day,C.month,C.week],j=0;j<f.length;j++){var k=f[j].split("/");if(k.length>1){var l=parseInt(k[1]);i[j]%l!==0&&a.error("cron: unsupported modulus found: "+l)}var m=k[0];if(!isNaN(m)){var n=parseInt(m);if(!(b(n)&&n<=h[j]&&n>=g[j]))return void a.error("cron: invalid value found (col "+(j+1)+") in "+d.initial)}}for(var o in D)if(D[o].test(c))return o;a.error("cron: valid but unsupported cron format. sorry.")}function e(a,b){var c=B[b];if(0>c)return-1;var d=a.split(" ")[c].split("/");return 1===d.length?1:parseInt(d[1])}function f(b,c,d,e){var f=B[c];if(0>f)return 0;var g=b.split(" ")[f].split("/");if(1===g.length||"*"===g[0])return 0;if(void 0!==A[c]){var h=g[0].split("-"),i=parseInt(h[0]),j=parseInt(h[1]);if(j===C[c]-1){var k=0,l=d-1;if(i>=k&&l>=i)return i;if(e)return 0}}a.error("cron: unsupported offset format")}function g(e,f){if(!b(d(f.initial,f)))return!0;if(!c(f.customValues))return!0;if(b(f.customValues))for(key in f.customValues)if(D.hasOwnProperty(key))return a.error("cron: reserved keyword '"+key+"' should not be used as customValues key."),!0;return!1}function h(a){var b=a.data("block"),c="*",d="*",e="*",f="*",g="*",h=b.modulus.find("select").val(),i=b.period.find("select").val(),j=A[i],k="*";if(h>1){var l=j&&parseInt(b[j].find("select").val());k=l&&l>0?l+"-"+(C[i]-1)+"/"+h:"*/"+h}switch(i){case"minute":c=k;break;case"hour":d=k,c=b.mins.find("select").val();break;case"day":e=k,c=b.time.find("select.cron-time-min").val(),d=b.time.find("select.cron-time-hour").val();break;case"week":c=b.time.find("select.cron-time-min").val(),d=b.time.find("select.cron-time-hour").val(),g=b.dow.find("select").val();break;case"month":f=k,c=b.time.find("select.cron-time-min").val(),d=b.time.find("select.cron-time-hour").val(),e=b.dom.find("select").val();break;case"year":c=b.time.find("select.cron-time-min").val(),d=b.time.find("select.cron-time-hour").val(),e=b.dom.find("select").val(),f=b.month.find("select").val();break;default:return i}return[c,d,e,f,g].join(" ")}function i(a,b,c,d){var e=A[b];if(e){var f=a[e].find("select");f.children().remove();for(var g=0;d>g;g++){var h=10>g?"0":"";f.append("<option value='"+g+"'>"+h+g+"</option>")}d>c&&f.val(c),d>1?f.prop("disabled",!1):f.prop("disabled","disabled"),a[e].show()}}for(var j={initial:"0 * * * *",initialTimeZone:"US/Pacific",minuteOpts:{minWidth:100,itemWidth:30,columns:4,rows:void 0,title:"Minutes Past the Hour"},timeHourOpts:{minWidth:100,itemWidth:20,columns:2,rows:void 0,title:"Time: Hour"},domOpts:{minWidth:100,itemWidth:30,columns:void 0,rows:10,title:"Day of Month"},monthOpts:{minWidth:100,itemWidth:100,columns:2,rows:void 0,title:void 0},dowOpts:{minWidth:100,itemWidth:void 0,columns:void 0,rows:void 0,title:void 0},timeMinuteOpts:{minWidth:100,itemWidth:20,columns:4,rows:void 0,title:"Time: Minute"},effectOpts:{openSpeed:400,closeSpeed:400,openEffect:"slide",closeEffect:"slide",hideOnMouseOut:!0},customValues:void 0,onChange:void 0},k="",l=0;60>l;l++){var m=10>l?"0":"";k+="<option value='"+l+"'>"+m+l+"</option>\n"}for(var n="",l=0;24>l;l++){var m=10>l?"0":"";n+="<option value='"+l+"'>"+m+l+"</option>\n"}for(var o="",l=1;32>l;l++){if(1==l||21==l||31==l)var p="st";else if(2==l||22==l)var p="nd";else if(3==l||23==l)var p="rd";else var p="th";o+="<option value='"+l+"'>"+l+p+"</option>\n"}for(var q="",r=["January","February","March","April","May","June","July","August","September","October","November","December"],l=0;l<r.length;l++)q+="<option value='"+(l+1)+"'>"+r[l]+"</option>\n";for(var s="",t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=0;l<t.length;l++)s+="<option value='"+l+"'>"+t[l]+"</option>\n";for(var u="",v=["minute","hour","day","week","month"],l=0;l<v.length;l++)u+="<option value='"+v[l]+"'>"+v[l]+"</option>\n";var w="",x=["US/Pacific","US/Mountain","US/Central","US/Eastern","UTC","UTC-11","UTC-10","UTC-9","UTC-8","UTC-7","UTC-6","UTC-5","UTC-4","UTC-3","UTC-2","UTC-1","UTC+1","UTC+2","UTC+3","UTC+4","UTC+5","UTC+6","UTC+7","UTC+8","UTC+10","UTC+11","UTC+12"];for(var l in x){var y=x[l];w+="<option value='"+y+"'>"+y+"</option>\n"}var z={minute:["min_offset","timezone"],hour:["mins","hour_offset","timezone"],day:["time","timezone"],week:["dow","time","timezone"],month:["dom","time","timezone"],year:["dom","month","time","timezone"]},A={minute:"min_offset",hour:"hour_offset"},B={minute:0,hour:1,day:2,week:-1,month:3,year:-1},C={minute:60,hour:24,day:1,week:1,month:1,year:1},D={minute:/^((\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s)(\*\s){3}\*$/,hour:/^\d{1,2}\s((\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s)(\*\s){2}\*$/,day:/^(\d{1,2}\s){2}((\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s)(\*\s)\*$/,week:/^(\d{1,2}\s){2}(\*\s){2}\d{1,2}$/,month:/^(\d{1,2}\s){3}(\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s\*$/,year:/^(\d{1,2}\s){4}\*$/},E={init:function(c){var d=c?c:{},e=a.extend([],j,d),f=a.extend({},j.effectOpts,d.effectOpts);if(a.extend(e,{minuteOpts:a.extend({},j.minuteOpts,f,d.minuteOpts),domOpts:a.extend({},j.domOpts,f,d.domOpts),monthOpts:a.extend({},j.monthOpts,f,d.monthOpts),dowOpts:a.extend({},j.dowOpts,f,d.dowOpts),timeHourOpts:a.extend({},j.timeHourOpts,f,d.timeHourOpts),timeMinuteOpts:a.extend({},j.timeMinuteOpts,f,d.timeMinuteOpts)}),g(this,e))return this;var h=[],i="",l=e.customValues;if(b(l))for(var m in l)i+="<option value='"+l[m]+"'>"+m+"</option>\n";h.modulus=a("<span class='cron-modulus'><select name='cron-modulus'></select> </span>").appendTo(this).data("root",this);var p=h.modulus.find("select");p.data("root",this),h.period=a("<span class='cron-period'><select name='cron-period'>"+i+u+"</select> </span>").appendTo(this).data("root",this);var p=h.period.find("select");return p.bind("change.cron",F.periodChanged).data("root",this),h.dom=a("<span class='cron-block cron-block-dom'> <span>on the</span> <select name='cron-dom'>"+o+"</select> </span>").appendTo(this).data("root",this),p=h.dom.find("select").data("root",this),h.month=a("<span class='cron-block cron-block-month'> <span>of</span> <select name='cron-month'>"+q+"</select> </span>").appendTo(this).data("root",this),p=h.month.find("select").data("root",this),h.min_offset=a("<span class='cron-block cron-offset cron-block-min_offset'> <span>starting</span> <select name='cron-mins_offset'></select> <span>minutes after the hour</span> </span>").appendTo(this).data("root",this),p=h.min_offset.find("select").data("root",this),h.hour_offset=a("<span class='cron-block cron-offset cron-block-hour_offset'><span>starting at</span> <select name='cron-hour_offset'></select><span>:</span></span>").appendTo(this).data("root",this),p=h.hour_offset.find("select").data("root",this),h.mins=a("<span class='cron-block cron-block-mins'><select name='cron-mins'>"+k+"</select>").appendTo(this).data("root",this),p=h.mins.find("select").data("root",this),h.dow=a("<span class='cron-block cron-block-dow'> <span>on</span> <select name='cron-dow'>"+s+"</select> </span>").appendTo(this).data("root",this),p=h.dow.find("select").data("root",this),h.time=a("<span class='cron-block cron-block-time'> <span>at</span> <select name='cron-time-hour' class='cron-time-hour'>"+n+"</select><span>:</span><select name='cron-time-min' class='cron-time-min'>"+k+" </span>").appendTo(this).data("root",this),p=h.time.find("select.cron-time-hour").data("root",this),p=h.time.find("select.cron-time-min").data("root",this),h.timezone=a("<span class='cron-block cron-block-timezone'> <select name='cron-timezone'>"+w+"</select> </span>").appendTo(this).data("root",this),p=h.timezone.find("select").data("root",this),this.find("select").bind("change.cron-callback",F.somethingChanged),this.data("options",e).data("block",h),this.data("current_value",e.initial),E.value.call(this,e.initial)},timezone:function(a){var b=this.data("block");return a&&b.timezone.find("select").val(a),b.timezone.find("select").val()},value:function(a,c){if(!a)return h(this);var g=this.data("options"),i=this.data("block"),j=d(a,g),k=e(a,j);if(this.data("targetModulus",k),this.data("targetOffset",f(a,j,k)),!b(j))return!1;if(b(g.customValues)&&g.customValues.hasOwnProperty(j))j=g.customValues[j];else for(var l=a.split(" "),m={mins:l[0],hour:l[1],dom:l[2],month:l[3],dow:l[4],timezone:c||g.initialTimeZone},n=z[j],o=0;o<n.length;o++){var p=n[o];if("time"==p){var q=i[p].find("select.cron-time-hour").val(m.hour);q=i[p].find("select.cron-time-min").val(m.mins)}else var q=i[p].find("select").val(m[p])}var r=i.period.find("select").val(j);return r.trigger("change"),this}},F={periodChanged:function(){for(var b=a(this).data("root"),c=b.data("block"),d=(b.data("options"),a(this).val()),e=b.data("targetModulus"),f=b.data("targetOffset"),g=C[d],h="<option value=1>Every</option>",j=2;g>j;j++)g%j===0&&(h+=e===j?"<option selected=selected value='"+j+"'>Every "+j+"</option>\n":"<option value='"+j+"'>Every "+j+"</option>\n");i(c,d,f,e);var k=b.find("span.cron-modulus select");if(k.html(h),2>g?k.prop("disabled","disabled"):k.prop("disabled",!1),b.find("span.cron-block").hide(),z.hasOwnProperty(d))for(var l=z[a(this).val()],j=0;j<l.length;j++)c[l[j]].show()},somethingChanged:function(){var c=a(this).data("root"),d=c.data("block"),g=d.period.find("select").val(),h=E.value.call(c),j=e(h,g),k=f(h,g,j,!0);j>0&&(c.data("targetModulus",j),c.data("targetOffset",k));var l=d.period.find("select").children();c.find(".cron-offset").hide(),j>1?l.each(function(){var b=a(this).text();"s"!==b.slice(-1)&&a(this).text(b+"s")}):l.each(function(){var b=a(this).text();"s"===b.slice(-1)&&a(this).text(b.slice(0,-1))}),i(d,g,k,j);var m=c.data("options").onChange;b(m)&&a.isFunction(m)&&m.call(c)}};a.fn.cron=function(b){return E[b]?E[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.cron"):E.init.apply(this,arguments)}}(d)},{jquery:164}],146:[function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}function d(a){for(var b,c;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=f(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",g)}function g(){a.datepicker._isDisabledDatepicker(r.inline?r.dpDiv.parent()[0]:r.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}function h(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}function i(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}};var j=0,k=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var c,d,e=k.call(arguments,1),f=0,g=e.length;g>f;f++)for(c in e[f])d=e[f][c],e[f].hasOwnProperty(c)&&void 0!==d&&(a.isPlainObject(d)?b[c]=a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):b[c]=d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(e){var f="string"==typeof e,g=k.call(arguments,1),h=this;return f?this.each(function(){var c,f=a.data(this,d);return"instance"===e?(h=f,!1):f?a.isFunction(f[e])&&"_"!==e.charAt(0)?(c=f[e].apply(f,g),c!==f&&void 0!==c?(h=c&&c.jquery?h.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+e+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+e+"'")}):(g.length&&(e=a.widget.extend.apply(null,[e].concat(g))),this.each(function(){var b=a.data(this,d);b?(b.option(e||{}),b._init&&b._init()):a.data(this,d,new c(e,this))})),h}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=j++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}});var l=(a.widget,!1);a(document).mouseup(function(){l=!1});a.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!l){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),
this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),l=!0,!0)):!0}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),l=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function b(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function c(b,c){return parseInt(a.css(b,c),10)||0}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var e,f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=d.children()[0];return a("body").append(d),b=f.offsetWidth,d.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d||e?c.width():c.outerWidth(),height:d||e?c.height():c.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return o.apply(this,arguments);e=a.extend({},e);var n,p,q,r,s,t,u=a(e.of),v=a.position.getWithinInfo(e.within),w=a.position.getScrollInfo(v),x=(e.collision||"flip").split(" "),y={};return t=d(u),u[0].preventDefault&&(e.at="left top"),p=t.width,q=t.height,r=t.offset,s=a.extend({},r),a.each(["my","at"],function(){var a,b,c=(e[this]||"").split(" ");1===c.length&&(c=j.test(c[0])?c.concat(["center"]):k.test(c[0])?["center"].concat(c):["center","center"]),c[0]=j.test(c[0])?c[0]:"center",c[1]=k.test(c[1])?c[1]:"center",a=l.exec(c[0]),b=l.exec(c[1]),y[this]=[a?a[0]:0,b?b[0]:0],e[this]=[m.exec(c[0])[0],m.exec(c[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?s.left+=p:"center"===e.at[0]&&(s.left+=p/2),"bottom"===e.at[1]?s.top+=q:"center"===e.at[1]&&(s.top+=q/2),n=b(y.at,p,q),s.left+=n[0],s.top+=n[1],this.each(function(){var d,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=c(this,"marginLeft"),t=c(this,"marginTop"),z=l+o+c(this,"marginRight")+w.width,A=m+t+c(this,"marginBottom")+w.height,B=a.extend({},s),C=b(y.my,k.outerWidth(),k.outerHeight());"right"===e.my[0]?B.left-=l:"center"===e.my[0]&&(B.left-=l/2),"bottom"===e.my[1]?B.top-=m:"center"===e.my[1]&&(B.top-=m/2),B.left+=C[0],B.top+=C[1],f||(B.left=i(B.left),B.top=i(B.top)),d={marginLeft:o,marginTop:t},a.each(["left","top"],function(b,c){a.ui.position[x[b]]&&a.ui.position[x[b]][c](B,{targetWidth:p,targetHeight:q,elemWidth:l,elemHeight:m,collisionPosition:d,collisionWidth:z,collisionHeight:A,offset:[n[0]+C[0],n[1]+C[1]],my:e.my,at:e.at,within:v,elem:k})}),e.using&&(j=function(a){var b=r.left-B.left,c=b+p-l,d=r.top-B.top,f=d+q-m,i={target:{element:u,left:r.left,top:r.top,width:p,height:q},element:{element:k,left:B.left,top:B.top,width:l,height:m},horizontal:0>c?"left":b>0?"right":"center",vertical:0>f?"top":d>0?"bottom":"middle"};l>p&&h(b+c)<p&&(i.horizontal="center"),m>q&&h(d+f)<q&&(i.vertical="middle"),g(h(b),h(c))>g(h(d),h(f))?i.important="horizontal":i.important="vertical",e.using.call(this,a,i)}),k.offset(a.extend(B,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):j>0&&0>=i?a.left=e:i>j?a.left=e+f-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):j>0&&0>=i?a.top=e:i>j?a.top=e+f-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,g,h=document.getElementsByTagName("body")[0],i=document.createElement("div");b=document.createElement(h?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},h&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in d)b.style[g]=d[g];b.appendChild(i),c=h||document.documentElement,c.insertBefore(b,c.firstChild),i.style.cssText="position: absolute; left: 10.7432222px;",e=a(i).offset().left,f=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}();a.ui.position,a.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),b.active<0&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var b,c=this.options,d=c.heightStyle,e=this.element.parent();this.active=this._findActive(c.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var b=a(this),c=b.uniqueId().attr("id"),d=b.next(),e=d.uniqueId().attr("id");b.attr("aria-controls",e),d.attr("aria-labelledby",c)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(c.event),"fill"===d?(b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr({"aria-selected":"false","aria-expanded":"false"}),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===parseInt(a(this).attr("tabIndex"),10)}).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.css("box-sizing"),j=a.length&&(!b.length||a.index()<b.index()),k=this.options.animate||{},l=j&&k.down||k,m=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(e=l),e=e||l.easing||k.easing,f=f||l.duration||k.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(this.showProps,{duration:f,easing:e,complete:m,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?"content-box"===i&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-h),h=0)}})):b.animate(this.hideProps,f,e,m):a.animate(this.showProps,f,e,m)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target);!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.currentTarget);c.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",e=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this._filterMenuItems(e),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this._filterMenuItems(e)),c.length?(this.focus(b,c),this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var b,c,d=this,e=this.options.icons.submenu,f=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.parent(),d=a("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))}),b=f.add(this.element),c=b.find(this.options.items),c.not(".ui-menu-item").each(function(){var b=a(this);d._isDivider(b)&&b.addClass("ui-widget-content ui-menu-divider")}),c.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),c.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.outerHeight(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).text()))})}});a.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){var d,e;return this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)})):(e=c.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",b,{item:e})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value),d=c.item.attr("aria-label")||e.value,void(d&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))))},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!b||b&&!c&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").text(c.label).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b);
},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}});var m,n=(a.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",p=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},q=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"'][type=radio]"):a("[name='"+c+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,p),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d="checkbox"===this.type||"radio"===this.type,e=d?"":"ui-state-active";null===c.label&&(c.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){c.disabled||this===m&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){c.disabled||a(this).removeClass(e)}).bind("click"+this.eventNamespace,function(a){c.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),d&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return c.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var d=b.element[0];q(d).not(d).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return c.disabled?!1:(a(this).addClass("ui-state-active"),m=this,void b.document.one("mouseup",function(){m=null}))}).bind("mouseup"+this.eventNamespace,function(){return c.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return c.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",c.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" ui-state-active "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),void(b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?q(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(o),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction"),c=this.element.find(this.options.items),d=c.filter(":ui-button");c.not(":ui-button").button(),d.button("refresh"),this.buttons=c.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});a.ui.button;a.extend(a.ui,{datepicker:{version:"1.11.4"}});var r;a.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return h(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var d=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:d,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?f(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,f){var g,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,g="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+g+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),h(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty(),r===e&&(r=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,f,g,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),f=this._getDateDatepicker(b,!0),g=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),h(j.settings,e),null!==g&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,g)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,f),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||c.indexOf(d)>-1):void 0},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,e,f,g,i,j,k;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(c,"beforeShow"),f=e?e.apply(b,[b,c]):{},f!==!1&&(h(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),i=a.datepicker._checkOffset(c,i,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),c.inline||(j=a.datepicker._get(c,"showAnim"),k=a.datepicker._get(c,"duration"),c.dpDiv.css("z-index",d(a(b))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?c.dpDiv.show(j,a.datepicker._get(c,"showOptions"),k):c.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,r=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),e=d[1],f=17,h=b.dpDiv.find("."+this._dayOverClass+" a");h.length>0&&g.apply(h.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",f*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];return c.substr(i,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],i+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=p?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),f>=r)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,0>_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,
d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new e,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.11.4";a.datepicker;a.widget("ui.draggable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;return this._blurActiveElement(b),this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(this._blockFrames(c.iframeFix===!0?"iframe":c.iframeFix),!0):!1)},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=this.document[0];if(this.handleElement.is(b.target))try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()&&a(c.activeElement).blur()}catch(d){}},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._normalizeRightBottom(),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.focus(),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];return this.relativeContainer=null,e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,e))})},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,function(){var a=this;a.isOver?(a.isOver=0,d.cancelHelperRemoval=!0,a.cancelHelperRemoval=!1,a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")},a._mouseStop(b),a.options.helper=a.options._helper):(a.cancelHelperRemoval=!0,a._trigger("deactivate",b,e))})},drag:function(b,c,d){a.each(d.sortables,function(){var e=!1,f=this;f.positionAbs=d.positionAbs,f.helperProportions=d.helperProportions,f.offset.click=d.offset.click,f._intersectsWith(f.containerCache)&&(e=!0,a.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])&&(e=!1),e})),e?(f.isOver||(f.isOver=1,d._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},b.target=f.currentItem[0],f._mouseCapture(b,!0),f._mouseStart(b,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",b),d.dropped=f.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(b),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",b,f._uiHash(f)),f._mouseStop(b,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;e.css("cursor")&&(f._cursor=e.css("cursor")),e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("opacity")&&(f._opacity=e.css("opacity")),e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;e._opacity&&a(c.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,c,d){var e=d.options,f=!1,g=d.scrollParentNotHidden[0],h=d.document[0];g!==h&&"HTML"!==g.tagName?(e.axis&&"x"===e.axis||(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity?g.scrollTop=f=g.scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(g.scrollTop=f=g.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity?g.scrollLeft=f=g.scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(g.scrollLeft=f=g.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(b.pageY-a(h).scrollTop()<e.scrollSensitivity?f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity&&(f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(b.pageX-a(h).scrollLeft()<e.scrollSensitivity?f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity&&(f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--)i=d.snapElements[m].left-d.margins.left,j=i+d.snapElements[m].width,k=d.snapElements[m].top-d.margins.top,l=k+d.snapElements[m].height,i-p>r||q>j+p||k-p>t||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)?(d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1):("inner"!==o.snapMode&&(e=Math.abs(k-t)<=p,f=Math.abs(l-s)<=p,g=Math.abs(i-r)<=p,h=Math.abs(j-q)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left)),n=e||f||g||h,"outer"!==o.snapMode&&(e=Math.abs(k-s)<=p,f=Math.abs(l-t)<=p,g=Math.abs(i-q)<=p,h=Math.abs(j-r)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left)),!d.snapElements[m].snapping&&(e||f||g||h||n)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=e||f||g||h||n)}}),a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});g.length&&(e=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each(function(b){a(this).css("zIndex",e+b)}),this.css("zIndex",e+g.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("zIndex")&&(f._zIndex=e.css("zIndex")),e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;e._zIndex&&a(c.helper).css("zIndex",e._zIndex)}});a.ui.draggable;a.widget("ui.resizable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String?this.handles[c]=this.element.children(this.handles[c]).first().show():(this.handles[c].jquery||this.handles[c].nodeType)&&(this.handles[c]=a(this.handles[c]),this._on(this.handles[c],{mousedown:g._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[c])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;
for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var c,d,e,f=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),c=this._num(this.helper.css("left")),d=this._num(this.helper.css("top")),f.containment&&(c+=a(f.containment).scrollLeft()||0,d+=a(f.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:c,top:d},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),g.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d,e=this.originalMousePosition,f=this.axis,g=b.pageX-e.left||0,h=b.pageY-e.top||0,i=this._change[f];return this._updatePrevProperties(),i?(c=i.apply(this,[b,g,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),d=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&this._hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseInt(d[b],10)||0,c[b]+=parseInt(e[b],10)||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&c._hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,f,g,h,i=a(this).resizable("instance"),j=i.options,k=i.element,l=j.containment,m=l instanceof a?l.get(0):/parent/.test(l)?k.parent().get(0):l;m&&(i.containerElement=a(m),/document/.test(l)||l===document?(i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(m),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,d){c[a]=i._num(b.css("padding"+d))}),i.containerOffset=b.offset(),i.containerPosition=b.position(),i.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},d=i.containerOffset,e=i.containerSize.height,f=i.containerSize.width,g=i._hasScroll(m,"left")?m.scrollWidth:f,h=i._hasScroll(m)?m.scrollHeight:e,i.parentData={element:m,left:d.left,top:d.top,width:g,height:h}))},resize:function(b){var c,d,e,f,g=a(this).resizable("instance"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement,n=!0;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio,n=!1),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio,n=!1),g.position.top=g._helper?i.top:0),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top),c=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-l.left:g.offset.left-i.left)),d=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-l.top:g.offset.top-i.top)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio,n=!1)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio,n=!1)),n||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance"),c=b.options;a(c.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})},resize:function(b,c){var d=a(this).resizable("instance"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0};a(e.alsoResize).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,function(a,b){var c=(d[b]||0)+(h[b]||0);c&&c>=0&&(e[b]=c||null)}),b.css(e)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis,i="number"==typeof d.grid?[d.grid,d.grid]:d.grid,j=i[0]||1,k=i[1]||1,l=Math.round((e.width-f.width)/j)*j,m=Math.round((e.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=d.maxWidth&&d.maxWidth<n,q=d.maxHeight&&d.maxHeight<o,r=d.minWidth&&d.minWidth>n,s=d.minHeight&&d.minHeight>o;d.grid=i,r&&(n+=j),s&&(o+=k),p&&(n-=j),q&&(o-=k),/^(se|s|e)$/.test(h)?(c.size.width=n,c.size.height=o):/^(ne)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.top=g.top-m):/^(sw)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.left=g.left-l):((0>=o-k||0>=n-j)&&(b=c._getPaddingPlusBorderDimensions(this)),o-k>0?(c.size.height=o,c.position.top=g.top-m):(o=k-b.height,c.size.height=o,c.position.top=g.top+f.height-o),n-j>0?(c.size.width=n,c.position.left=g.left-l):(n=j-b.width,c.size.width=n,c.position.left=g.left+f.width-n))}});a.ui.resizable,a.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&this._trigger("beforeClose",b)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{c=this.document[0].activeElement,c&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),f=Math.max.apply(null,e);return f>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",f+1),d=!0),d&&!c&&this._trigger("focus",b),d},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.focus()}),b.preventDefault()):(this._delay(function(){d.focus()}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){var g=f.offset.left-c.document.scrollLeft(),h=f.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:c.window},a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){var g=c.uiDialog.offset(),h=g.left-c.document.scrollLeft(),i=g.top-c.document.scrollTop();d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:c.window},a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget(),this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);-1!==c&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,e={};a.each(b,function(a,b){c._setOption(a,b),a in c.sizeRelatedOptions&&(d=!0),a in c.resizableRelatedOptions&&(e[a]=b)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});a.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(c.scope),c.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[],a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];this._splice(b),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){if("accept"===b)this.accept=a.isFunction(c)?c:function(a){return a.is(c)};else if("scope"===b){var d=a.ui.ddmanager.droppables[this.options.scope];this._splice(d),this._addToManager(c)}this._super(b,c)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=a(this).droppable("instance");return c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(c,{offset:c.element.offset()}),c.options.tolerance,b)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(){function a(a,b,c){return a>=b&&b+c>a}return function(b,c,d,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return f>=j&&l>=h&&g>=k&&m>=i;case"intersect":return j<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<l&&k<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m)&&(f>=j&&l>=f||h>=j&&l>=h||j>f&&h>l);default:return!1}}}(),a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance,c)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance,c),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===e}),f.length&&(d=a(f[0]).droppable("instance"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}};var s=(a.ui.droppable,"ui-effects-"),t=a;a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function c(b,c){var d,f,g={};for(d in c)f=c[d],b[d]!==f&&(e[d]||(a.fx.step[d]||!isNaN(parseFloat(f)))&&(g[d]=f));return g}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(t.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(e,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var c=a(this);return{el:c,start:b(this)}}),f=function(){a.each(d,function(a,b){e[b]&&g[b+"Class"](e[b])})},f(),j=j.map(function(){return this.end=b(this.el[0]),this.diff=c(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function b(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function c(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.11.4",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data(s+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;d<b.length;d++)null!==b[d]&&(c=a.data(s+b[d]),void 0===c&&(c=""),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function c(b){function c(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=d.complete,h=d.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),c()):g.call(e[0],d,c)}var d=b.apply(this,arguments),e=d.mode,f=d.queue,g=a.effects.effect[d.effect];return a.fx.off||!g?e?this[e](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):f===!1?this.each(c):this.queue(f||"fx",c)},show:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(d){if(c(d)||"boolean"==typeof d)return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}();a.effects,a.effects.effect.blind=function(b,c){var d,e,f,g=a(this),h=/up|down|vertical/,i=/up|left|vertical|horizontal/,j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(g,b.mode||"hide"),l=b.direction||"up",m=h.test(l),n=m?"height":"width",o=m?"top":"left",p=i.test(l),q={},r="show"===k;g.parent().is(".ui-effects-wrapper")?a.effects.save(g.parent(),j):a.effects.save(g,j),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e=d[n](),f=parseFloat(d.css(o))||0,q[n]=r?e:0,p||(g.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?f:e+f),r&&(d.css(n,0),p||d.css(o,f+e)),d.animate(q,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===k&&g.hide(),a.effects.restore(g,j),a.effects.removeWrapper(g),c()}})},a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()},a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})},a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})},a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)},a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})},a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})},a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()},a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()},a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})},a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})},a.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}}),a.widget("ui.selectable",a.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");return e?(d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1;c&&c.element!==d.element[0]&&("touch"===e.tolerance?j=!(c.left>h||c.right<f||c.top>i||c.bottom<g):"fit"===e.tolerance&&(j=c.left>f&&c.right<h&&c.top>g&&c.bottom<i),j?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var b=this;this.label=a("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(a){this.button.focus(),a.preventDefault()}}),this.element.hide(),this.button=a("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),a("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=a("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){b.menuItems||b._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var b=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=a("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(a,c){a.preventDefault(),b._setSelection(),b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){var d=c.item.data("ui-selectmenu-item");null!=b.focusIndex&&d.index!==b.focusIndex&&(b._trigger("focus",a,{item:d}),b.isOpen||b._select(d,a)),b.focusIndex=d.index,b.button.attr("aria-activedescendant",b.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},
_refreshMenu:function(){this.menu.empty();var a,b=this.element.find("option");b.length&&(this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(b,c){var d=this,e="";a.each(c,function(c,f){f.optgroup!==e&&(a("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:f.optgroup}).appendTo(b),e=f.optgroup),d._renderItemData(b,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(b,c){var d=a("<li>");return c.disabled&&d.addClass("ui-state-disabled"),this._setText(d,c.label),d.appendTo(b)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,d,e=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex):(c=this.menuItems.eq(this.element[0].selectedIndex),e+=":not(.ui-state-disabled)"),d="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0),d.length&&this.menuInstance.focus(b,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(b){this.isOpen&&(a(b.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(b))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(b){var c=!0;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b),c=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case a.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case a.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),c=!1}c&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this._setText(this.buttonText,a.label),this._setAria(a),this._trigger("select",b,{item:a}),a.index!==c&&this._trigger("change",b,{item:a}),this.close(b)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button),this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"disabled"===a&&(this.menuInstance.option("disabled",b),this.button.toggleClass("ui-state-disabled",b).attr("aria-disabled",b),this.element.prop("disabled",b),b?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===a&&this._resizeButton()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(b){var c=[];b.each(function(b,d){var e=a(d),f=e.parent("optgroup");c.push({element:e,index:b,value:e.val(),label:e.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||e.prop("disabled")})}),this.items=c},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),a.widget("ui.slider",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!c),this._super(b,c),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===c?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,d=Math.floor(+(a-b).toFixed(this._precision())/c)*c;a=d+b,this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(b){var c,d,e,f,g=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this.options.values&&this.options.values.length?this.values(g):this.value(),b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}}),a.widget("ui.sortable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&b+c>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),a.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d&&(!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e))?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-this.document.scrollTop()<g.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<g.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)),b.pageX-this.document.scrollLeft()<g.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<g.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return d?this.floating?f&&"right"===f||"down"===e?2:1:e&&("down"===e?2:1):!1},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d],this.document[0]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c],this.document[0]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===d?b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",b.document[0]).appendTo(e)):"tr"===d?b._createTrPlaceholder(b.currentItem,e):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,c){var d=this;b.children().each(function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.containers.length-1;c>=0;c--)if(!a.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(m&&a.contains(this.containers[c].element[0],m.element[0]))continue;m=this.containers[c],n=c}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0);if(m)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1);else{for(e=1e4,f=null,k=m.floating||this._isFloating(this.currentItem),g=k?"left":"top",h=k?"width":"height",l=k?"clientX":"clientY",d=this.items.length-1;d>=0;d--)a.contains(this.containers[n].element[0],this.items[d].item[0])&&this.items[d].item[0]!==this.currentItem[0]&&(i=this.items[d].item.offset()[g],j=!1,b[l]-i>this.items[d][h]/2&&(j=!0),Math.abs(b[l]-i)<e&&(e=Math.abs(b[l]-i),f=this.items[d],this.direction=j?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[n])return void(this.currentContainer.containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=1));f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[n].element,!0),this._trigger("change",b,this._uiHash()),this.containers[n]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[n],
this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),this.buttons.button(b?"disable":"enable"))},_setOptions:i(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:i(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:i(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:i(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:i(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void i(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),a.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;b=b.cloneNode(!1),c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");b._isLocal(d)?(e=d.hash,g=e.substring(1),f=b.element.find(b._sanitizeSelector(e))):(g=i.attr("aria-controls")||a({}).uniqueId()[0].id,e="#"+g,f=b.element.find(e),f.length||(f=b._createPanel(g),f.insertAfter(b.panels[c-1]||b.tablist)),f.attr("aria-live","polite")),f.length&&(b.panels=b.panels.add(f)),j&&i.data("ui-tabs-aria-controls",j),i.attr({"aria-controls":g,"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;c!==!1&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(c))},disable:function(b){var c=this.options.disabled;if(c!==!0){if(void 0===b)c=!0;else{if(b=this._getIndex(b),-1!==a.inArray(b,c))return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setupDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){"abort"===b&&d.panels.stop(!1,!0),e.removeClass("ui-tabs-loading"),g.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr};this._isLocal(f[0])||(this.xhr=a.ajax(this._ajaxSettings(f,c,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(e.addClass("ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a),d._trigger("load",c,h),i(e,b)},1)}).fail(function(a,b){setTimeout(function(){i(a,b)},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),void(this.options[b]=c)):(this._super(b,c),void("content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b.element)})))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._registerCloseHandlers(b,d),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){e._delay(function(){a.data("ui-tooltip-open")&&(b&&(b.type=f),this._open(b,a,c))})}),void(c&&this._open(b,a,c)))},_open:function(b,c,d){function e(a){j.of=a,g.is(":hidden")||g.position(j)}var f,g,h,i,j=a.extend({},this.options.position);if(d){if(f=this._find(c))return void f.tooltip.find(".ui-tooltip-content").html(d);c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),f=this._tooltip(c),g=f.tooltip,this._addDescribedBy(c,g.attr("id")),g.find(".ui-tooltip-content").html(d),this.liveRegion.children().hide(),d.clone?(i=d.clone(),i.removeAttr("id").find("[id]").removeAttr("id")):i=d,a("<div>").html(i).appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):g.position(a.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){g.is(":visible")&&(e(j.of),clearInterval(h))},a.fx.interval)),this._trigger("open",b,{tooltip:g})}},_registerCloseHandlers:function(b,c){var d={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var d=a.Event(b);d.currentTarget=c[0],this.close(d,!0)}}};c[0]!==this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)}),b&&"mouseover"!==b.type||(d.mouseleave="close"),b&&"focusin"!==b.type||(d.focusout="close"),this._on(!0,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);return f?(c=f.tooltip,void(f.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),f.closing=!0,this._trigger("close",b,{tooltip:c}),f.hiding||(f.closing=!1)))):void e.removeData("ui-tooltip-open")},_tooltip:function(b){var c=a("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),d=c.uniqueId().attr("id");return a("<div>").addClass("ui-tooltip-content").appendTo(c),c.appendTo(this.document[0].body),
this.tooltips[d]={element:b,tooltip:c}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur"),f=d.element;e.target=e.currentTarget=f[0],b.close(e,!0),a("#"+c).remove(),f.data("ui-tooltip-title")&&(f.attr("title")||f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})},{}],147:[function(a,b,c){var d=a("jquery"),e=d({});d.ajaxQueue=function(a){function b(b){c=d.ajax(a),c.done(f.resolve).fail(f.reject).then(b,b)}var c,f=d.Deferred(),g=f.promise();return e.queue(b),g.abort=function(h){if(c)return c.abort(h);var i=e.queue(),j=d.inArray(b,i);return j>-1&&i.splice(j,1),f.rejectWith(a.context||a,[g,h,""]),g},g}},{jquery:164}],148:[function(a,b,c){function d(a,b,c){if(8==m){var d=r.width(),e=k.debounce(function(){var a=r.width();d!=a&&(d=a,c())},a);r.on(b,e)}else r.on(b,k.debounce(c,a))}function e(a){window&&window.console&&window.console.log&&window.console.log("jQuery.floatThead: "+a)}function f(a){var b=a.getBoundingClientRect();return b.width||b.right-b.left}function g(){var a=j('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');j("body").append(a);var b=a.innerWidth(),c=j("div",a).innerWidth();return a.remove(),b-c}function h(a){if(a.dataTableSettings)for(var b=0;b<a.dataTableSettings.length;b++){var c=a.dataTableSettings[b].nTable;if(a[0]==c)return!0}return!1}function i(a,b,c){var d=c?"outerWidth":"width";if(p&&a.css("max-width")){var e=0;c&&(e+=parseInt(a.css("borderLeft"),10),e+=parseInt(a.css("borderRight"),10));for(var f=0;f<b.length;f++)e+=b.get(f).offsetWidth;return e}return a[d]()}var j=a("jquery"),k=a("underscore");j.floatThead=j.floatThead||{},j.floatThead.defaults={cellTag:null,headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(a){return j([])},getSizingRow:function(a,b,c){return a.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,enableAria:!1,autoReflow:!1,debug:!1};var l="undefined"!=typeof MutationObserver,m=function(){for(var a=3,b=document.createElement("b"),c=b.all||[];a=1+a,b.innerHTML="<!--[if gt IE "+a+"]><i><![endif]-->",c[0];);return a>4?a:document.documentMode}(),n=/Gecko\//.test(navigator.userAgent),o=/WebKit\//.test(navigator.userAgent),p=function(){if(o){var a=j('<div style="width:0px"><table style="max-width:100%"><tr><th><div style="min-width:100px;">X</div></th></tr></table></div>');j("body").append(a);var b=0==a.find("table").width();return a.remove(),b}return!1},q=!n&&!m,r=j(window);j.fn.floatThead=function(a){if(a=a||{},!k&&(k=window._||j.floatThead._,!k))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>m)return this;var b=null;if(k.isFunction(p)&&(p=p()),k.isString(a)){var c=a,n=this;return this.filter("table").each(function(){var a=j(this),b=a.data("floatThead-lazy");b&&a.floatThead(b);var d=a.data("floatThead-attached");if(d&&k.isFunction(d[c])){var e=d[c]();"undefined"!=typeof e&&(n=e)}}),n}var s=j.extend({},j.floatThead.defaults||{},a);if(j.each(a,function(a,b){a in j.floatThead.defaults||!s.debug||e("Used ["+a+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+k.keys(j.floatThead.defaults).join(", "))}),s.debug){var t=j.fn.jquery.split(".");1==parseInt(t[0],10)&&parseInt(t[1],10)<=7&&e("jQuery version "+j.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}return this.filter(":not(."+s.floatTableClass+")").each(function(){function a(a){return a+".fth-"+D+".floatTHead"}function c(){var a=0;if(F.children("tr:visible").each(function(){a+=j(this).outerHeight(!0)}),"collapse"==E.css("border-collapse")){var b=parseInt(E.css("border-top-width"),10),c=parseInt(E.find("thead tr:first").find(">*:first").css("border-top-width"),10);b>c&&(a-=b/2)}da.outerHeight(a),ea.outerHeight(a)}function e(){var a=i(E,ha,!0),b=N.width()||a,c="hidden"!=N.css("overflow-y")?b-K.vertical:b;if(aa.width(c),O){var d=100*a/c;X.css("width",d+"%")}else X.outerWidth(a)}function n(){H=(k.isFunction(s.scrollingTop)?s.scrollingTop(E):s.scrollingTop)||0,I=(k.isFunction(s.scrollingBottom)?s.scrollingBottom(E):s.scrollingBottom)||0}function p(){var a,b;if($)a=Z.find("col").length;else{var c;if(c=null==s.cellTag&&s.headerCellSelector?s.headerCellSelector:"tr:first>"+s.cellTag,k.isNumber(c))return c;b=F.find(c),a=0,b.each(function(){a+=parseInt(j(this).attr("colspan")||1,10)})}if(a!=M){M=a;for(var d,e=[],f=[],g=[],h=0;a>h;h++)s.enableAria&&(d=b.eq(h).text())?e.push('<th scope="col" class="floatThead-col">'+d+"</th>"):e.push('<th class="floatThead-col"/>'),f.push("<col/>"),g.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");f=f.join(""),e=e.join(""),q&&(g=g.join(""),_.html(g),ha=_.find("fthtd")),da.html(e),ea=da.find("th"),$||Z.html(f),fa=Z.find("col"),Y.html(f),ga=Y.find("col")}return a}function t(){if(!J){if(J=!0,P){var a=i(E,ha),b=V.width();a>b&&E.css("minWidth",a)}E.css(ka),X.css(ka),X.append(F),G.before(ca),c()}}function u(){J&&(J=!1,P&&E.width(ma),ca.detach(),E.prepend(F),E.css(la),X.css(la),E.css("minWidth",na),E.css("minWidth",i(E,ha)))}function v(a){oa!=a&&(oa=a,E.triggerHandler("floatThead",[a,aa]))}function w(a){P!=a&&(P=a,aa.css({position:P?"absolute":"fixed"}))}function x(a,b,c,d){return q?c:d?s.getSizingRow(a,b,c):b}function y(){var a,b=p();return function(){fa=Z.find("col");var d=x(E,fa,ha,m);if(d.length==b&&b>0){if(!$)for(a=0;b>a;a++)fa.eq(a).css("width","");u();var e=[];for(a=0;b>a;a++)e[a]=f(d.get(a));for(a=0;b>a;a++)ga.eq(a).width(e[a]),fa.eq(a).width(e[a]);t()}else X.append(F),E.css(la),X.css(la),c()}}function z(a){var b=N.css("border-"+a+"-width"),c=0;return b&&~b.indexOf("px")&&(c=parseInt(b,10)),c}function A(){var a,b=N.scrollTop(),c=0,d=R?Q.outerHeight(!0):0,e=S?d:-d,f=aa.height(),g=E.offset(),h=0,i=0;if(O){var j=N.offset();c=g.top-j.top+b,R&&S&&(c+=d),h=z("left"),i=z("top"),c-=i}else a=g.top-H-f+I+K.horizontal;var k=r.scrollTop(),l=r.scrollLeft(),m=N.scrollLeft();return function(j){var n=E[0].offsetWidth<=0&&E[0].offsetHeight<=0;if(!n&&ba)return ba=!1,setTimeout(function(){E.triggerHandler("reflow")},1),null;if(n&&(ba=!0,!P))return null;if("windowScroll"==j?(k=r.scrollTop(),l=r.scrollLeft()):"containerScroll"==j?(b=N.scrollTop(),m=N.scrollLeft()):"init"!=j&&(k=r.scrollTop(),l=r.scrollLeft(),b=N.scrollTop(),m=N.scrollLeft()),!o||!(0>k||0>l)){if(W)w("windowScrollDone"==j?!0:!1);else if("windowScrollDone"==j)return null;g=E.offset(),R&&S&&(g.top+=d);var p,q,s=E.outerHeight();if(O&&P){if(c>=b){var x=c-b+i;p=x>0?x:0,v(!1)}else p=U?i:b,v(!0);q=h}else!O&&P?(k>a+s+e?p=s-f+e:g.top>=k+H?(p=0,u(),v(!1)):(p=H+k-g.top+c+(S?d:0),t(),v(!0)),q=0):O&&!P?(c>b||b-c>s?(p=g.top-k,u(),v(!1)):(p=g.top+b-k-c,t(),v(!0)),q=g.left+m-l):O||P||(k>a+s+e?p=s+H-k+a+e:g.top>k+H?(p=g.top-k,t(),v(!1)):(p=H,v(!0)),q=g.left-l);return{top:p,left:q}}}}function B(){var a=null,b=null,d=null;return function(f,g,h){null==f||a==f.top&&b==f.left||(aa.css({top:f.top,left:f.left}),a=f.top,b=f.left),g&&e(),h&&c();var i=N.scrollLeft();P&&d==i||(aa.scrollLeft(i),d=i)}}function C(){if(N.length)if(N.data().perfectScrollbar)K={horizontal:0,vertical:0};else{var a=N.width(),b=N.height(),c=E.height(),d=i(E,ha),e=d>a?L:0,f=c>b?L:0;K.horizontal=d>a-f?L:0,K.vertical=c>b-e?L:0}}var D=k.uniqueId(),E=j(this);if(E.data("floatThead-attached"))return!0;if(!E.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');l=s.autoReflow&&l;var F=E.children("thead:first"),G=E.children("tbody:first");if(0==F.length||0==G.length)return E.data("floatThead-lazy",s),void E.one("reflow",function(){E.floatThead(s)});E.data("floatThead-lazy")&&E.unbind("reflow"),E.data("floatThead-lazy",!1);var H,I,J=!1,K={vertical:0,horizontal:0},L=g(),M=0,N=s.scrollContainer(E)||j([]),O=N.length>0,P=s.useAbsolutePositioning;null==P&&(P=O),P||(J=!0);var Q=E.find("caption"),R=1==Q.length;if(R)var S="top"===(Q.css("caption-side")||Q.attr("align")||"top");var T=j('<fthfoot style="display:table-footer-group;border-spacing:0;height:0;border-collapse:collapse;"/>'),U=!1,V=j([]),W=9>=m&&!O&&P,X=j("<table/>"),Y=j("<colgroup/>"),Z=E.children("colgroup:first"),$=!0;0==Z.length&&(Z=j("<colgroup/>"),$=!1);var _=j('<fthtr style="display:table-row;border-spacing:0;height:0;border-collapse:collapse"/>'),aa=j('<div style="overflow: hidden;" aria-hidden="true" class="floatThead-floatContainer"></div>'),ba=!1,ca=j("<thead/>"),da=j('<tr class="size-row"/>'),ea=j([]),fa=j([]),ga=j([]),ha=j([]);ca.append(da),E.prepend(Z),q&&(T.append(_),E.append(T)),X.append(Y),aa.append(X),s.copyTableClass&&X.attr("class",E.attr("class")),X.attr({cellpadding:E.attr("cellpadding"),cellspacing:E.attr("cellspacing"),border:E.attr("border")});var ia=E.css("display");if(X.css({borderCollapse:E.css("borderCollapse"),border:E.css("border"),display:ia}),"none"==ia&&(ba=!0),X.addClass(s.floatTableClass).css({margin:0,"border-bottom-width":0}),P){var ja=function(a,b){var c=a.css("position"),d="relative"==c||"absolute"==c;if(!d||b){var e={paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight")};aa.css(e),a=a.wrap("<div class='"+s.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),U=!0}return a};O?(V=ja(N,!0),V.append(aa)):(V=ja(E),E.after(aa))}else E.after(aa);aa.css({position:P?"absolute":"fixed",marginTop:0,top:P?0:"auto",zIndex:s.zIndex}),aa.addClass(s.floatContainerClass),n();var ka={"table-layout":"fixed"},la={"table-layout":E.css("tableLayout")||"auto"},ma=E[0].style.width||"",na=E.css("minWidth")||"",oa=!1;C();var pa,qa=function(){(pa=y())()};qa();var ra=A(),sa=B();sa(ra("init"),!0);var ta=k.debounce(function(){sa(ra("windowScrollDone"),!1)},1),ua=function(){sa(ra("windowScroll"),!1),W&&ta()},va=function(){sa(ra("containerScroll"),!1)},wa=function(){n(),C(),qa(),ra=A(),(sa=B())(ra("resize"),!0,!0)},xa=k.debounce(function(){C(),n(),qa(),ra=A(),sa(ra("reflow"),!0)},1);if(O?P?N.on(a("scroll"),va):(N.on(a("scroll"),va),r.on(a("scroll"),ua)):r.on(a("scroll"),ua),r.on(a("load"),xa),d(s.debounceResizeMs,a("resize"),wa),E.on("reflow",xa),h(E)&&E.on("filter",xa).on("sort",xa).on("page",xa),l){var ya=N.length?N[0]:E[0];b=new MutationObserver(function(a){for(var b=function(a){return a&&a[0]&&"THEAD"==a[0].nodeName},c=0;c<a.length;c++)if(!b(a[c].addedNodes)&&!b(a[c].removedNodes)){xa();break}}),b.observe(ya,{childList:!0,subtree:!0})}E.data("floatThead-attached",{destroy:function(){var a=".fth-"+D;u(),E.css(la),Z.remove(),q&&T.remove(),ca.parent().length&&ca.replaceWith(F),l&&(b.disconnect(),b=null),E.off("reflow"),N.off(a),U&&(N.length?N.unwrap():E.unwrap()),E.css("minWidth",na),aa.remove(),E.data("floatThead-attached",!1),r.off(a)},reflow:function(){xa()},setHeaderHeight:function(){c()},getFloatContainer:function(){return aa},getRowGroups:function(){return J?aa.children("thead").add(E.children("tbody,tfoot")):E.children("thead,tbody,tfoot")}})}),this}},{jquery:164,underscore:365}],149:[function(a,b,c){(function(a){(function(){function a(a){this.tokens=[],this.tokens.links={},this.options=a||l.defaults,this.rules=m.normal,this.options.gfm&&(this.options.tables?this.rules=m.tables:this.rules=m.gfm)}function d(a,b){if(this.options=b||l.defaults,this.links=a,this.rules=n.normal,this.renderer=this.options.renderer||new e,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function e(a){this.options=a||{}}function f(a){this.tokens=[],this.token=null,this.options=a||l.defaults,this.options.renderer=this.options.renderer||new e,this.renderer=this.options.renderer,this.renderer.options=this.options}function g(a,b){return a.replace(b?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(a){return a.replace(/&([#\w]+);/g,function(a,b){return b=b.toLowerCase(),"colon"===b?":":"#"===b.charAt(0)?"x"===b.charAt(1)?String.fromCharCode(parseInt(b.substring(2),16)):String.fromCharCode(+b.substring(1)):""})}function i(a,b){return a=a.source,b=b||"",function c(d,e){return d?(e=e.source||e,e=e.replace(/(^|[^\[])\^/g,"$1"),a=a.replace(d,e),c):new RegExp(a,b)}}function j(){}function k(a){for(var b,c,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}function l(b,c,d){if(d||"function"==typeof c){d||(d=c,c=null),c=k({},l.defaults,c||{});var e,h,i=c.highlight,j=0;try{e=a.lex(b,c)}catch(m){return d(m)}h=e.length;var n=function(){var a,b;try{a=f.parse(e,c)}catch(g){b=g}return c.highlight=i,b?d(b):d(null,a)};if(!i||i.length<3)return n();if(delete c.highlight,!h)return n();for(;j<e.length;j++)!function(a){return"code"!==a.type?--h||n():i(a.text,a.lang,function(b,c){return null==c||c===a.text?--h||n():(a.text=c,a.escaped=!0,void(--h||n()))})}(e[j])}else try{return c&&(c=k({},l.defaults,c)),f.parse(a.lex(b,c),c)}catch(m){if(m.message+="\nPlease report this to https://github.com/chjj/marked.",(c||l.defaults).silent)return"<p>An error occured:</p><pre>"+g(m.message+"",!0)+"</pre>";throw m}}var m={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:j,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:j,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:j,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};m.bullet=/(?:[*+-]|\d+\.)/,m.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,m.item=i(m.item,"gm")(/bull/g,m.bullet)(),m.list=i(m.list)(/bull/g,m.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),m._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",m.html=i(m.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,m._tag)(),m.paragraph=i(m.paragraph)("hr",m.hr)("heading",m.heading)("lheading",m.lheading)("blockquote",m.blockquote)("tag","<"+m._tag)("def",m.def)(),m.normal=k({},m),m.gfm=k({},m.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),m.gfm.paragraph=i(m.paragraph)("(?!","(?!"+m.gfm.fences.source.replace("\\1","\\2")+"|"+m.list.source.replace("\\1","\\3")+"|")(),m.tables=k({},m.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),a.rules=m,a.lex=function(b,c){var d=new a(c);return d.lex(b)},a.prototype.lex=function(a){return a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(a,!0)},a.prototype.token=function(a,b){for(var c,d,e,f,g,h,i,j,k,a=a.replace(/^ +$/gm,"");a;)if((e=this.rules.newline.exec(a))&&(a=a.substring(e[0].length),e[0].length>1&&this.tokens.push({type:"space"})),e=this.rules.code.exec(a))a=a.substring(e[0].length),e=e[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?e:e.replace(/\n+$/,"")});else if(e=this.rules.fences.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"code",lang:e[2],text:e[3]});else if(e=this.rules.heading.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"heading",depth:e[1].length,text:e[2]});else if(b&&(e=this.rules.nptable.exec(a))){for(a=a.substring(e[0].length),h={type:"table",header:e[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3].replace(/\n$/,"").split("\n")},j=0;j<h.align.length;j++)/^ *-+: *$/.test(h.align[j])?h.align[j]="right":/^ *:-+: *$/.test(h.align[j])?h.align[j]="center":/^ *:-+ *$/.test(h.align[j])?h.align[j]="left":h.align[j]=null;for(j=0;j<h.cells.length;j++)h.cells[j]=h.cells[j].split(/ *\| */);this.tokens.push(h)}else if(e=this.rules.lheading.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"heading",depth:"="===e[2]?1:2,text:e[1]});else if(e=this.rules.hr.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"hr"});else if(e=this.rules.blockquote.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"blockquote_start"}),e=e[0].replace(/^ *> ?/gm,""),this.token(e,b),this.tokens.push({type:"blockquote_end"});else if(e=this.rules.list.exec(a)){for(a=a.substring(e[0].length),f=e[2],this.tokens.push({type:"list_start",ordered:f.length>1}),e=e[0].match(this.rules.item),c=!1,k=e.length,j=0;k>j;j++)h=e[j],i=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(i-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+i+"}","gm"),"")),this.options.smartLists&&j!==k-1&&(g=m.bullet.exec(e[j+1])[0],f===g||f.length>1&&g.length>1||(a=e.slice(j+1).join("\n")+a,j=k-1)),d=c||/\n\n(?!\s*$)/.test(h),j!==k-1&&(c="\n"===h.charAt(h.length-1),d||(d=c)),this.tokens.push({type:d?"loose_item_start":"list_item_start"}),this.token(h,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(e=this.rules.html.exec(a))a=a.substring(e[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]});else if(b&&(e=this.rules.def.exec(a)))a=a.substring(e[0].length),this.tokens.links[e[1].toLowerCase()]={href:e[2],title:e[3]};else if(b&&(e=this.rules.table.exec(a))){for(a=a.substring(e[0].length),h={type:"table",header:e[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3].replace(/(?: *\| *)?\n$/,"").split("\n")},j=0;j<h.align.length;j++)/^ *-+: *$/.test(h.align[j])?h.align[j]="right":/^ *:-+: *$/.test(h.align[j])?h.align[j]="center":/^ *:-+ *$/.test(h.align[j])?h.align[j]="left":h.align[j]=null;for(j=0;j<h.cells.length;j++)h.cells[j]=h.cells[j].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(b&&(e=this.rules.paragraph.exec(a)))a=a.substring(e[0].length),this.tokens.push({type:"paragraph",text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]});else if(e=this.rules.text.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"text",text:e[0]});else if(a)throw new Error("Infinite loop on byte: "+a.charCodeAt(0));return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:j,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:j,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=i(n.link)("inside",n._inside)("href",n._href)(),n.reflink=i(n.reflink)("inside",n._inside)(),n.normal=k({},n),n.pedantic=k({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=k({},n.normal,{escape:i(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(n.text)("]|","~]|")("|","|https?://|")()}),n.breaks=k({},n.gfm,{br:i(n.br)("{2,}","*")(),text:i(n.gfm.text)("{2,}","*")()}),d.rules=n,d.output=function(a,b,c){var e=new d(b,c);return e.output(a)},d.prototype.output=function(a){for(var b,c,d,e,f="";a;)if(e=this.rules.escape.exec(a))a=a.substring(e[0].length),f+=e[1];else if(e=this.rules.autolink.exec(a))a=a.substring(e[0].length),"@"===e[2]?(c=":"===e[1].charAt(6)?this.mangle(e[1].substring(7)):this.mangle(e[1]),d=this.mangle("mailto:")+c):(c=g(e[1]),d=c),f+=this.renderer.link(d,null,c);else if(e=this.rules.url.exec(a))a=a.substring(e[0].length),c=g(e[1]),d=c,f+=this.renderer.link(d,null,c);else if(e=this.rules.tag.exec(a))a=a.substring(e[0].length),f+=this.options.sanitize?g(e[0]):e[0];else if(e=this.rules.link.exec(a))a=a.substring(e[0].length),f+=this.outputLink(e,{href:e[2],title:e[3]});else if((e=this.rules.reflink.exec(a))||(e=this.rules.nolink.exec(a))){if(a=a.substring(e[0].length),b=(e[2]||e[1]).replace(/\s+/g," "),b=this.links[b.toLowerCase()],!b||!b.href){f+=e[0].charAt(0),a=e[0].substring(1)+a;continue}f+=this.outputLink(e,b)}else if(e=this.rules.strong.exec(a))a=a.substring(e[0].length),f+=this.renderer.strong(this.output(e[2]||e[1]));else if(e=this.rules.em.exec(a))a=a.substring(e[0].length),f+=this.renderer.em(this.output(e[2]||e[1]));else if(e=this.rules.code.exec(a))a=a.substring(e[0].length),f+=this.renderer.codespan(g(e[2],!0));else if(e=this.rules.br.exec(a))a=a.substring(e[0].length),f+=this.renderer.br();else if(e=this.rules.del.exec(a))a=a.substring(e[0].length),f+=this.renderer.del(this.output(e[1]));else if(e=this.rules.text.exec(a))a=a.substring(e[0].length),f+=g(this.smartypants(e[0]));else if(a)throw new Error("Infinite loop on byte: "+a.charCodeAt(0));return f},d.prototype.outputLink=function(a,b){var c=g(b.href),d=b.title?g(b.title):null;return"!"!==a[0].charAt(0)?this.renderer.link(c,d,this.output(a[1])):this.renderer.image(c,d,g(a[1]))},d.prototype.smartypants=function(a){return this.options.smartypants?a.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):a},d.prototype.mangle=function(a){for(var b,c="",d=a.length,e=0;d>e;e++)b=a.charCodeAt(e),Math.random()>.5&&(b="x"+b.toString(16)),c+="&#"+b+";";return c},e.prototype.code=function(a,b,c){if(this.options.highlight){var d=this.options.highlight(a,b);null!=d&&d!==a&&(c=!0,a=d)}return b?'<pre><code class="'+this.options.langPrefix+g(b,!0)+'">'+(c?a:g(a,!0))+"\n</code></pre>\n":"<pre><code>"+(c?a:g(a,!0))+"\n</code></pre>"},e.prototype.blockquote=function(a){return"<blockquote>\n"+a+"</blockquote>\n"},e.prototype.html=function(a){return a},e.prototype.heading=function(a,b,c){return"<h"+b+' id="'+this.options.headerPrefix+c.toLowerCase().replace(/[^\w]+/g,"-")+'">'+a+"</h"+b+">\n"},e.prototype.hr=function(){return"<hr>\n"},e.prototype.list=function(a,b){var c=b?"ol":"ul";return"<"+c+">\n"+a+"</"+c+">\n"},e.prototype.listitem=function(a){return"<li>"+a+"</li>\n"},e.prototype.paragraph=function(a){return"<p>"+a+"</p>\n"},e.prototype.table=function(a,b){return"<table>\n<thead>\n"+a+"</thead>\n<tbody>\n"+b+"</tbody>\n</table>\n"},e.prototype.tablerow=function(a){return"<tr>\n"+a+"</tr>\n"},e.prototype.tablecell=function(a,b){var c=b.header?"th":"td",d=b.align?"<"+c+' style="text-align:'+b.align+'">':"<"+c+">";return d+a+"</"+c+">\n"},e.prototype.strong=function(a){return"<strong>"+a+"</strong>"},e.prototype.em=function(a){return"<em>"+a+"</em>"},e.prototype.codespan=function(a){return"<code>"+a+"</code>"},e.prototype.br=function(){return"<br>"},e.prototype.del=function(a){return"<del>"+a+"</del>"},e.prototype.link=function(a,b,c){if(this.options.sanitize){try{var d=decodeURIComponent(h(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===d.indexOf("javascript:"))return""}var f='<a href="'+a+'"';return b&&(f+=' title="'+b+'"'),f+=">"+c+"</a>"},e.prototype.image=function(a,b,c){var d='<img src="'+a+'" alt="'+c+'"';return b&&(d+=' title="'+b+'"'),d+=">"},f.parse=function(a,b,c){var d=new f(b,c);return d.parse(a)},f.prototype.parse=function(a){this.inline=new d(a.links,this.options,this.renderer),this.tokens=a.reverse();for(var b="";this.next();)b+=this.tok();return b},f.prototype.next=function(){return this.token=this.tokens.pop()},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var a=this.token.text;"text"===this.peek().type;)a+="\n"+this.next().text;return this.inline.output(a)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var a,b,c,d,e,f="",g="";for(c="",a=0;a<this.token.header.length;a++)d={header:!0,align:this.token.align[a]},c+=this.renderer.tablecell(this.inline.output(this.token.header[a]),{header:!0,align:this.token.align[a]});for(f+=this.renderer.tablerow(c),a=0;a<this.token.cells.length;a++){for(b=this.token.cells[a],c="",e=0;e<b.length;e++)c+=this.renderer.tablecell(this.inline.output(b[e]),{header:!1,align:this.token.align[e]});g+=this.renderer.tablerow(c)}return this.renderer.table(f,g);case"blockquote_start":for(var g="";"blockquote_end"!==this.next().type;)g+=this.tok();return this.renderer.blockquote(g);case"list_start":for(var g="",h=this.token.ordered;"list_end"!==this.next().type;)g+=this.tok();return this.renderer.list(g,h);case"list_item_start":for(var g="";"list_item_end"!==this.next().type;)g+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(g);case"loose_item_start":for(var g="";"list_item_end"!==this.next().type;)g+=this.tok();return this.renderer.listitem(g);case"html":var i=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(i);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},j.exec=j,l.options=l.setOptions=function(a){return k(l.defaults,a),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new e},l.Parser=f,l.parser=f.parse,l.Renderer=e,l.Lexer=a,l.lexer=a.lex,l.InlineLexer=d,l.inlineLexer=d.output,l.parse=l,"object"==typeof c?b.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):this.marked=l}).call(function(){return this||("undefined"!=typeof window?window:a)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],150:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.NProgress=d()}(this,function(){function a(a,b,c){return b>a?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){var c="string"==typeof a?a:g(a);return c.indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.2.0";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)c=a[b],void 0!==c&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!==c.state()?(0===b&&i.start(),a++,b++,c.always(function(){b--,0===b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector),d&&h(d)),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if(c=e[d]+f,c in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)e=b[c],void 0!==e&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i})},{}],151:[function(a,b,c){!function(b,d){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(a,c,e){b.Backbone=d(b,e,a,c)});else if("undefined"!=typeof c){var e=a("underscore");d(b,c,e)}else b.Backbone=d(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],
g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null!=a?this._byId[a]||this._byId[a.id]||this._byId[a.cid]:void 0},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b})},{underscore:365}],152:[function(a,b,c){!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function c(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function d(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function e(a){return null===a?NaN:+a}function f(a){return!isNaN(a)}function g(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function h(a){return a.length}function i(a){for(var b=1;a*b%1;)b*=10;return b}function j(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function k(){this._=Object.create(null)}function l(a){return(a+="")===pg||a[0]===qg?qg+a:a}function m(a){return(a+="")[0]===qg?a.slice(1):a}function n(a){return l(a)in this._}function o(a){return(a=l(a))in this._&&delete this._[a]}function p(){var a=[];for(var b in this._)a.push(m(b));return a}function q(){var a=0;for(var b in this._)++a;return a}function r(){for(var a in this._)return!1;return!0}function s(){this._=Object.create(null)}function t(a){return a}function u(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function v(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=rg.length;d>c;++c){var e=rg[c]+b;if(e in a)return e}}function w(){}function x(){}function y(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new k;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function z(){cg.event.preventDefault()}function A(){for(var a,b=cg.event;a=b.sourceEvent;)b=a;return b}function B(a){for(var b=new x,c=0,d=arguments.length;++c<d;)b[arguments[c]]=y(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=cg.event;e.target=a,cg.event=e,b[e.type].apply(c,d)}finally{cg.event=f}}},b}function C(a){return tg(a,xg),a}function D(a){return"function"==typeof a?a:function(){return ug(a,this)}}function E(a){return"function"==typeof a?a:function(){return vg(a,this)}}function F(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=cg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function G(a){return a.trim().replace(/\s+/g," ")}function H(a){return new RegExp("(?:^|\\s+)"+cg.requote(a)+"(?:\\s+|$)","g")}function I(a){return(a+"").trim().split(/^|\s+/)}function J(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=I(a).map(K);var e=a.length;return"function"==typeof b?d:c}function K(a){var b=H(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",G(e+" "+a))):c.setAttribute("class",G(e.replace(b," ")))}}function L(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function M(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function N(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=cg.ns.qualify(a)).local?c:b}function O(){var a=this.parentNode;a&&a.removeChild(this)}function P(a){return{__data__:a}}function Q(a){return function(){return wg(this,a)}}function R(a){return arguments.length||(a=d),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function S(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}function T(a){return tg(a,zg),a}function U(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function V(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,eg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+cg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=W;h>0&&(a=a.slice(0,h));var j=Ag.get(a);return j&&(a=j,i=X),h?b?e:d:b?w:f}function W(a,b){return function(c){var d=cg.event;cg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{cg.event=d}}}function X(a,b){var c=W(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function Y(b){var d=".dragsuppress-"+ ++Cg,e="click"+d,f=cg.select(c(b)).on("touchmove"+d,z).on("dragstart"+d,z).on("selectstart"+d,z);if(null==Bg&&(Bg="onselectstart"in b?!1:v(b.style,"userSelect")),Bg){var g=a(b).style,h=g[Bg];g[Bg]="none"}return function(a){if(f.on(d,null),Bg&&(g[Bg]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){z(),b()},!0),setTimeout(b,0)}}}function Z(a,b){b.changedTouches&&(b=b.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>Dg){var f=c(a);if(f.scrollX||f.scrollY){d=cg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Dg=!(g.f||g.e),d.remove()}}return Dg?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,e.y=b.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[b.clientX-h.left-a.clientLeft,b.clientY-h.top-a.clientTop]}function $(){return cg.event.changedTouches[0].identifier}function _(a){return a>0?1:0>a?-1:0}function aa(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function ba(a){return a>1?0:-1>a?Gg:Math.acos(a)}function ca(a){return a>1?Jg:-1>a?-Jg:Math.asin(a)}function da(a){return((a=Math.exp(a))-1/a)/2}function ea(a){return((a=Math.exp(a))+1/a)/2}function fa(a){return((a=Math.exp(2*a))-1)/(a+1)}function ga(a){return(a=Math.sin(a/2))*a}function ha(){}function ia(a,b,c){return this instanceof ia?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ia?new ia(a.h,a.s,a.l):wa(""+a,xa,ia):new ia(a,b,c)}function ja(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new sa(e(a+120),e(a),e(a-120))}function ka(a,b,c){return this instanceof ka?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ka?new ka(a.h,a.c,a.l):a instanceof ma?oa(a.l,a.a,a.b):oa((a=ya((a=cg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ka(a,b,c)}function la(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new ma(c,Math.cos(a*=Kg)*b,Math.sin(a)*b)}function ma(a,b,c){return this instanceof ma?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof ma?new ma(a.l,a.a,a.b):a instanceof ka?la(a.h,a.c,a.l):ya((a=sa(a)).r,a.g,a.b):new ma(a,b,c)}function na(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=pa(e)*Vg,d=pa(d)*Wg,f=pa(f)*Xg,new sa(ra(3.2404542*e-1.5371385*d-.4985314*f),ra(-.969266*e+1.8760108*d+.041556*f),ra(.0556434*e-.2040259*d+1.0572252*f))}function oa(a,b,c){return a>0?new ka(Math.atan2(c,b)*Lg,Math.sqrt(b*b+c*c),a):new ka(NaN,NaN,a)}function pa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function qa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function ra(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function sa(a,b,c){return this instanceof sa?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof sa?new sa(a.r,a.g,a.b):wa(""+a,sa,ja):new sa(a,b,c)}function ta(a){return new sa(a>>16,a>>8&255,255&a)}function ua(a){return ta(a)+""}function va(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function wa(a,b,c){a=a.toLowerCase();var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(Aa(e[0]),Aa(e[1]),Aa(e[2]))}return(f=$g.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function xa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new ia(d,e,i)}function ya(a,b,c){a=za(a),b=za(b),c=za(c);var d=qa((.4124564*a+.3575761*b+.1804375*c)/Vg),e=qa((.2126729*a+.7151522*b+.072175*c)/Wg),f=qa((.0193339*a+.119192*b+.9503041*c)/Xg);return ma(116*e-16,500*(d-e),200*(e-f))}function za(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Aa(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Ba(a){return"function"==typeof a?a:function(){return a}}function Ca(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Da(b,c,a,d)}}function Da(a,b,c,d){function e(){var a,b=i.status;if(!b&&Fa(i)||b>=200&&300>b||304===b){try{a=c.call(f,i)}catch(d){return void g.error.call(f,d)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=cg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=cg.event;cg.event=a;try{g.progress.call(f,i)}finally{cg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(eg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},cg.rebind(f,g,"on"),null==d?f:f.get(Ea(d))}function Ea(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Fa(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Ga(){var a=Ha(),b=Ia()-a;b>24?(isFinite(b)&&(clearTimeout(ch),ch=setTimeout(Ga,b)),bh=0):(bh=1,eh(Ga))}function Ha(){var a=Date.now();for(dh=_g;dh;)a>=dh.t&&(dh.f=dh.c(a-dh.t)),dh=dh.n;return a}function Ia(){for(var a,b=_g,c=1/0;b;)b.f?b=a?a.n=b.n:_g=b.n:(b.t<c&&(c=b.t),b=(a=b).n);return ah=a,c}function Ja(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ka(a,b){var c=Math.pow(10,3*og(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function La(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:t;return function(a){var c=gh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):("e"==n||"f"==n)&&(m=Math.max(0,Math.min(20,m)))),n=hh.get(n)||Ma;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;if(0>o){var i=cg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(0>w){var x=s?a.lastIndexOf("e"):-1;0>x?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=k>y?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Ma(a){return a+""}function Na(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Oa(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new jh(c-1)),1),c}function f(a,c){return b(a=new jh(+a),c),
a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{jh=Na;var d=new Na;return d._=a,g(d,b,c)}finally{jh=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Pa(a);return i.floor=i,i.round=Pa(d),i.ceil=Pa(e),i.offset=Pa(f),i.range=h,a}function Pa(a){return function(b,c){try{jh=Na;var d=new Na;return d._=b,a(d,c)._}finally{jh=Date}}}function Qa(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=lh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&jh!==Na,g=new(f?Na:jh);return"j"in d?g.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in lh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{jh=Na;var b=new jh;return b._=a,d(b)}finally{jh=Date}}var d=b(a);return c.parse=function(a){try{jh=Na;var b=d.parse(a);return b&&b._}finally{jh=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=ib;var t=cg.map(),u=Sa(p),v=Ta(p),w=Sa(q),x=Ta(q),y=Sa(r),z=Ta(r),A=Sa(s),B=Ta(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Ra(a.getDate(),b,2)},e:function(a,b){return Ra(a.getDate(),b,2)},H:function(a,b){return Ra(a.getHours(),b,2)},I:function(a,b){return Ra(a.getHours()%12||12,b,2)},j:function(a,b){return Ra(1+ih.dayOfYear(a),b,3)},L:function(a,b){return Ra(a.getMilliseconds(),b,3)},m:function(a,b){return Ra(a.getMonth()+1,b,2)},M:function(a,b){return Ra(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Ra(a.getSeconds(),b,2)},U:function(a,b){return Ra(ih.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Ra(ih.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Ra(a.getFullYear()%100,b,2)},Y:function(a,b){return Ra(a.getFullYear()%1e4,b,4)},Z:gb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:ab,e:ab,H:cb,I:cb,j:bb,L:fb,m:_a,M:db,p:k,S:eb,U:Va,w:Ua,W:Wa,x:i,X:j,y:Ya,Y:Xa,Z:Za,"%":hb};return b}function Ra(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function Sa(a){return new RegExp("^(?:"+a.map(cg.requote).join("|")+")","i")}function Ta(a){for(var b=new k,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Ua(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Va(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Wa(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Xa(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Ya(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+2));return d?(a.y=$a(+d[0]),c+d[0].length):-1}function Za(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function $a(a){return a+(a>68?1900:2e3)}function _a(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function ab(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function bb(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function cb(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function db(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function eb(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function fb(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function gb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=og(b)/60|0,e=og(b)%60;return c+Ra(d,"0",2)+Ra(e,"0",2)}function hb(a,b,c){nh.lastIndex=0;var d=nh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function ib(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function jb(){}function kb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function lb(a,b){a&&rh.hasOwnProperty(a.type)&&rh[a.type](a,b)}function mb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function nb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)mb(a[c],b,1);b.polygonEnd()}function ob(){function a(a,b){a*=Kg,b=b*Kg/2+Gg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);th.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;uh.point=function(g,h){uh.point=a,d=(b=g)*Kg,e=Math.cos(h=(c=h)*Kg/2+Gg/4),f=Math.sin(h)},uh.lineEnd=function(){a(b,c)}}function pb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function qb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function rb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function sb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function tb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function ub(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function vb(a){return[Math.atan2(a[1],a[0]),ca(a[2])]}function wb(a,b){return og(a[0]-b[0])<Eg&&og(a[1]-b[1])<Eg}function xb(a,b){a*=Kg;var c=Math.cos(b*=Kg);yb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function yb(a,b,c){++vh,xh+=(a-xh)/vh,yh+=(b-yh)/vh,zh+=(c-zh)/vh}function zb(){function a(a,e){a*=Kg;var f=Math.cos(e*=Kg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);wh+=j,Ah+=j*(b+(b=g)),Bh+=j*(c+(c=h)),Ch+=j*(d+(d=i)),yb(b,c,d)}var b,c,d;Gh.point=function(e,f){e*=Kg;var g=Math.cos(f*=Kg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Gh.point=a,yb(b,c,d)}}function Ab(){Gh.point=xb}function Bb(){function a(a,b){a*=Kg;var c=Math.cos(b*=Kg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-ba(n)/m,p=Math.atan2(m,n);Dh+=o*j,Eh+=o*k,Fh+=o*l,wh+=p,Ah+=p*(d+(d=g)),Bh+=p*(e+(e=h)),Ch+=p*(f+(f=i)),yb(d,e,f)}var b,c,d,e,f;Gh.point=function(g,h){b=g,c=h,Gh.point=a,g*=Kg;var i=Math.cos(h*=Kg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),yb(d,e,f)},Gh.lineEnd=function(){a(b,c),Gh.lineEnd=Ab,Gh.point=xb}}function Cb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Db(){return!0}function Eb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(wb(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Gb(c,a,null,!0),j=new Gb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Gb(d,a,null,!1),j=new Gb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Fb(f),Fb(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Fb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Gb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Hb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Ib))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=cg.merge(n);var a=Ob(r,o);n.length?(v||(f.polygonStart(),v=!0),Eb(n,Kb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Jb(),u=b(t),v=!1;return s}}function Ib(a){return a.length>1}function Jb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:w,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Kb(a,b){return((a=a.x)[0]<0?a[1]-Jg-Eg:Jg-a[1])-((b=b.x)[0]<0?b[1]-Jg-Eg:Jg-b[1])}function Lb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Gg:-Gg,i=og(f-c);og(i-Gg)<Eg?(a.point(c,d=(d+g)/2>0?Jg:-Jg),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Gg&&(og(c-e)<Eg&&(c-=e*Eg),og(f-h)<Eg&&(f-=h*Eg),d=Mb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Mb(a,b,c,d){var e,f,g=Math.sin(a-c);return og(g)>Eg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Nb(a,b,c,d){var e;if(null==a)e=c*Jg,d.point(-Gg,e),d.point(0,e),d.point(Gg,e),d.point(Gg,0),d.point(Gg,-e),d.point(0,-e),d.point(-Gg,-e),d.point(-Gg,0),d.point(-Gg,e);else if(og(a[0]-b[0])>Eg){var f=a[0]<b[0]?Gg:-Gg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Ob(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;th.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Gg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Gg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Gg,z=o*t;if(th.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Hg:v,y^m>=c^r>=c){var A=rb(pb(l),pb(a));ub(A);var B=rb(e,A);ub(B);var C=(y^v>=0?-1:1)*ca(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Eg>f||Eg>f&&0>th)^1&g}function Pb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(0>l?Gg:-Gg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(wb(c,n)||wb(o,n))&&(o[0]+=Eg,o[1]+=Eg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&wb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=pb(a),e=pb(b),g=[1,0,0],h=rb(d,e),i=qb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=rb(g,h),o=tb(g,l),p=tb(h,m);sb(o,p);var q=n,r=qb(o,q),s=qb(q,q),t=r*r-s*(qb(o,o)-1);if(!(0>t)){var u=Math.sqrt(t),v=tb(q,(-r-u)/s);if(sb(v,o),v=vb(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];x>y&&(w=x,x=y,y=w);var B=y-x,C=og(B-Gg)<Eg,D=C||Eg>B;if(!C&&z>A&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(og(v[0]-x)<Eg?z:A):z<=v[1]&&v[1]<=A:B>Gg^(x<=v[0]&&v[0]<=y)){var E=tb(q,(-r+u)/s);return sb(E,o),[v,vb(E)]}}}function e(b,c){var d=g?a:Gg-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=og(f)>Eg,i=oc(a,6*Kg);return Hb(b,c,i,g?[0,-a]:[-Gg,a-Gg])}function Qb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Rb(a,b,c,d){function e(d,e){return og(d[0]-a)<Eg?e>0?0:3:og(d[0]-c)<Eg?e>0?2:1:og(d[1]-b)<Eg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&aa(j,f,a)>0&&++b:f[1]<=d&&aa(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return e>=a&&c>=e&&f>=b&&d>=f}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Ih,Math.min(Ih,a)),b=Math.max(-Ih,Math.min(Ih,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Jb(),C=Qb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=cg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Eb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Sb(a){var b=0,c=Gg/3,d=gc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Gg/180,c=a[1]*Gg/180):[b/Gg*180,c/Gg*180]},e}function Tb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ca((f-(a*a+c*c)*e*e)/(2*e))]},c}function Ub(){function a(a,b){Kh+=e*a-d*b,d=a,e=b}var b,c,d,e;Ph.point=function(f,g){Ph.point=a,b=d=f,c=e=g},Ph.lineEnd=function(){a(b,c)}}function Vb(a,b){Lh>a&&(Lh=a),a>Nh&&(Nh=a),Mh>b&&(Mh=b),b>Oh&&(Oh=b)}function Wb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Xb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Xb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Xb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Yb(a,b){xh+=a,yh+=b,++zh}function Zb(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Ah+=g*(b+a)/2,Bh+=g*(c+d)/2,Ch+=g,Yb(b=a,c=d)}var b,c;Rh.point=function(d,e){Rh.point=a,Yb(b=d,c=e)}}function $b(){Rh.point=Yb}function _b(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Ah+=g*(d+a)/2,Bh+=g*(e+b)/2,Ch+=g,g=e*a-d*b,Dh+=g*(d+a),Eh+=g*(e+b),Fh+=3*g,Yb(d=a,e=b)}var b,c,d,e;Rh.point=function(f,g){Rh.point=a,Yb(b=d=f,c=e=g)},Rh.lineEnd=function(){a(b,c)}}function ac(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Hg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:w};return h}function bc(a){function b(a){return(h?d:c)(a)}function c(b){return ec(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=pb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=og(og(x)-1)<Eg||og(d-m)<Eg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||og((s*E+t*F)/u-.5)>.3||g>h*n+i*o+j*p)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Kg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function cc(a){var b=bc(function(b,c){return a([b*Lg,c*Lg])});return function(a){return hc(b(a))}}function dc(a){this.stream=a}function ec(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function fc(a){return gc(function(){return a})()}function gc(a){function b(a){return a=h(a[0]*Kg,a[1]*Kg),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Lg,a[1]*Lg]}function d(){h=Cb(g=kc(r,s,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=bc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,s=0,u=0,v=Hh,w=t,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=hc(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Hh):Pb((x=+a)*Kg),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Rb(a[0][0],a[0][1],a[1][0],a[1][1]):t,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Kg,q=a[1]%360*Kg,d()):[p*Lg,q*Lg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Kg,s=a[1]%360*Kg,u=a.length>2?a[2]%360*Kg:0,d()):[r*Lg,s*Lg,u*Lg]},cg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function hc(a){return ec(a,function(b,c){a.point(b*Kg,c*Kg)})}function ic(a,b){return[a,b]}function jc(a,b){return[a>Gg?a-Hg:-Gg>a?a+Hg:a,b]}function kc(a,b,c){return a?b||c?Cb(mc(a),nc(b,c)):mc(a):b||c?nc(b,c):jc}function lc(a){return function(b,c){return b+=a,[b>Gg?b-Hg:-Gg>b?b+Hg:b,c]}}function mc(a){var b=lc(a);return b.invert=lc(-a),b}function nc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ca(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ca(k*d-h*e)]},c}function oc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=pc(c,e),f=pc(c,f),(g>0?f>e:e>f)&&(e+=g*Hg)):(e=a+g*Hg,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=vb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function pc(a,b){var c=pb(b);c[0]-=a,ub(c);var d=ba(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Eg)%(2*Math.PI)}function qc(a,b,c){var d=cg.range(a,b-Eg,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function rc(a,b,c){var d=cg.range(a,b-Eg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function sc(a){return a.source}function tc(a){return a.target}function uc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(ga(d-b)+e*g*ga(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Lg,Math.atan2(g,Math.sqrt(d*d+e*e))*Lg]}:function(){return[a*Lg,b*Lg]};return o.distance=m,o}function vc(){function a(a,e){var f=Math.sin(e*=Kg),g=Math.cos(e),h=og((a*=Kg)-b),i=Math.cos(h);Sh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Th.point=function(e,f){b=e*Kg,c=Math.sin(f*=Kg),d=Math.cos(f),Th.point=a},Th.lineEnd=function(){Th.point=Th.lineEnd=w}}function wc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function xc(a,b){function c(a,b){g>0?-Jg+Eg>b&&(b=-Jg+Eg):b>Jg-Eg&&(b=Jg-Eg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Gg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=_(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Jg]},c):zc}function yc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return og(e)<Eg?ic:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-_(e)*Math.sqrt(a*a+c*c)]},c)}function zc(a,b){return[a,Math.log(Math.tan(Gg/4+b/2))]}function Ac(a){var b,c=fc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Gg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Bc(a,b){return[Math.log(Math.tan(Gg/4+b/2)),-a]}function Cc(a){return a[0]}function Dc(a){return a[1]}function Ec(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&aa(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Fc(a,b){return a[0]-b[0]||a[1]-b[1]}function Gc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Hc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Ic(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Jc(){cd(this),this.edge=this.site=this.circle=null}function Kc(a){var b=di.pop()||new Jc;return b.site=a,b}function Lc(a){Vc(a),ai.remove(a),di.push(a),cd(a)}function Mc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Lc(a);for(var i=f;i.circle&&og(c-i.circle.x)<Eg&&og(d-i.circle.cy)<Eg;)f=i.P,h.unshift(i),Lc(i),i=f;h.unshift(i),Vc(i);for(var j=g;j.circle&&og(c-j.circle.x)<Eg&&og(d-j.circle.cy)<Eg;)g=j.N,h.push(j),Lc(j),j=g;h.push(j),Vc(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],_c(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Zc(i.site,j.site,null,e),Uc(i),Uc(j)}function Nc(a){for(var b,c,d,e,f=a.x,g=a.y,h=ai._;h;)if(d=Oc(h,g)-f,d>Eg)h=h.L;else{if(e=f-Pc(h,g),!(e>Eg)){d>-Eg?(b=h.P,c=h):e>-Eg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Kc(a);if(ai.insert(b,i),b||c){if(b===c)return Vc(b),c=Kc(b.site),ai.insert(i,c),i.edge=c.edge=Zc(b.site,i.site),Uc(b),void Uc(c);if(!c)return void(i.edge=Zc(b.site,i.site));Vc(b),Vc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};_c(c.edge,j,o,u),i.edge=Zc(j,a,null,u),c.edge=Zc(a,o,null,u),Uc(b),Uc(c)}}function Oc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Pc(a,b){var c=a.N;if(c)return Oc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Qc(a){this.site=a,this.edges=[]}function Rc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=_h,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(og(d-b)>Eg||og(e-c)>Eg)&&(h.splice(g,0,new ad($c(f.site,k,og(d-l)<Eg&&o-e>Eg?{x:l,y:og(b-l)<Eg?c:o}:og(e-o)<Eg&&m-d>Eg?{x:og(c-o)<Eg?b:m,y:o}:og(d-m)<Eg&&e-n>Eg?{x:m,y:og(b-m)<Eg?c:n}:og(e-n)<Eg&&d-l>Eg?{x:og(c-n)<Eg?b:l,y:n}:null),f.site,null)),++i)}function Sc(a,b){return b.angle-a.angle}function Tc(){cd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Uc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Fg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=ei.pop()||new Tc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=ci._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}ci.insert(s,r),s||(bi=r)}}}}function Vc(a){var b=a.circle;b&&(b.P||(bi=b.N),ci.remove(b),ei.push(b),cd(b),a.circle=null)}function Wc(a){for(var b,c=$h,d=Qb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Xc(b,a)||!d(b)||og(b.a.x-b.b.x)<Eg&&og(b.a.y-b.b.y)<Eg)&&(b.a=b.b=null,c.splice(e,1))}function Xc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Yc(a,b){this.l=a,this.r=b,this.a=this.b=null}function Zc(a,b,c,d){var e=new Yc(a,b);return $h.push(e),c&&_c(e,a,b,c),d&&_c(e,b,a,d),_h[a.i].edges.push(new ad(e,a,b)),_h[b.i].edges.push(new ad(e,b,a)),e}function $c(a,b,c){var d=new Yc(a,null);return d.a=b,d.b=c,$h.push(d),d}function _c(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function ad(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function bd(){this._=null}function cd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function dd(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function ed(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function fd(a){for(;a.L;)a=a.L;return a}function gd(a,b){var c,d,e,f=a.sort(hd).pop();for($h=[],_h=new Array(a.length),ai=new bd,ci=new bd;;)if(e=bi,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))(f.x!==c||f.y!==d)&&(_h[f.i]=new Qc(f),Nc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Mc(e.arc)}b&&(Wc(b),Rc(b));var g={cells:_h,edges:$h};return ai=ci=$h=_h=null,g}function hd(a,b){return b.y-a.y||b.x-a.x}function id(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function jd(a){return a.x}function kd(a){return a.y}function ld(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function md(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&md(a,i[0],c,d,g,h),i[1]&&md(a,i[1],g,d,e,h),i[2]&&md(a,i[2],c,h,g,f),i[3]&&md(a,i[3],g,h,e,f)}}function nd(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}function od(a,b){a=cg.rgb(a),b=cg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+va(Math.round(c+f*a))+va(Math.round(d+g*a))+va(Math.round(e+h*a))}}function pd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=sd(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function qd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function rd(a,b){var c,d,e,f=gi.lastIndex=hi.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=gi.exec(a))&&(d=hi.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:qd(c,d)})),f=hi.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function sd(a,b){for(var c,d=cg.interpolators.length;--d>=0&&!(c=cg.interpolators[d](a,b)););return c}function td(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(sd(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}function ud(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function vd(a){return function(b){return 1-a(1-b)}}function wd(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function xd(a){return a*a}function yd(a){return a*a*a}function zd(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Ad(a){return function(b){return Math.pow(b,a)}}function Bd(a){return 1-Math.cos(a*Jg)}function Cd(a){return Math.pow(2,10*(a-1))}function Dd(a){return 1-Math.sqrt(1-a*a)}function Ed(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Hg*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Hg/b)}}function Fd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Gd(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375;
}function Hd(a,b){a=cg.hcl(a),b=cg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return la(c+f*a,d+g*a,e+h*a)+""}}function Id(a,b){a=cg.hsl(a),b=cg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ja(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){a=cg.lab(a),b=cg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return na(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Ld(a){var b=[a.a,a.b],c=[a.c,a.d],d=Nd(b),e=Md(b,c),f=Nd(Od(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Lg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Lg:0}function Md(a,b){return a[0]*b[0]+a[1]*b[1]}function Nd(a){var b=Math.sqrt(Md(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Od(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Pd(a,b){var c,d=[],e=[],f=cg.transform(a),g=cg.transform(b),h=f.translate,i=g.translate,j=f.rotate,k=g.rotate,l=f.skew,m=g.skew,n=f.scale,o=g.scale;return h[0]!=i[0]||h[1]!=i[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:qd(h[0],i[0])},{i:3,x:qd(h[1],i[1])})):i[0]||i[1]?d.push("translate("+i+")"):d.push(""),j!=k?(j-k>180?k+=360:k-j>180&&(j+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:qd(j,k)})):k&&d.push(d.pop()+"rotate("+k+")"),l!=m?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:qd(l,m)}):m&&d.push(d.pop()+"skewX("+m+")"),n[0]!=o[0]||n[1]!=o[1]?(c=d.push(d.pop()+"scale(",null,",",null,")"),e.push({i:c-4,x:qd(n[0],o[0])},{i:c-2,x:qd(n[1],o[1])})):(1!=o[0]||1!=o[1])&&d.push(d.pop()+"scale("+o+")"),c=e.length,function(a){for(var b,f=-1;++f<c;)d[(b=e[f]).i]=b.x(a);return d.join("")}}function Qd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Rd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Sd(a){for(var b=a.source,c=a.target,d=Ud(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Td(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Ud(a,b){if(a===b)return a;for(var c=Td(a),d=Td(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function Vd(a){a.fixed|=2}function Wd(a){a.fixed&=-7}function Xd(a){a.fixed|=4,a.px=a.x,a.py=a.y}function Yd(a){a.fixed&=-5}function Zd(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(Zd(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function $d(a,b){return cg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=ee,a}function _d(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function ae(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function be(a){return a.children}function ce(a){return a.value}function de(a,b){return b.value-a.value}function ee(a){return cg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function fe(a){return a.x}function ge(a){return a.y}function he(a,b,c){a.y0=b,a.y=c}function ie(a){return cg.range(a.length)}function je(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function ke(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function le(a){return a.reduce(me,0)}function me(a,b){return a+b[1]}function ne(a,b){return oe(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function oe(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function pe(a){return[cg.min(a),cg.max(a)]}function qe(a,b){return a.value-b.value}function re(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function se(a,b){a._pack_next=b,b._pack_prev=a}function te(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function ue(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(ve),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],ye(d,e,f),b(f),re(d,f),d._pack_prev=f,re(f,e),e=d._pack_next,g=3;j>g;g++){ye(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(te(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!te(i,f);i=i._pack_prev,q++);o?(q>p||p==q&&e.r<d.r?se(d,e=h):se(d=i,e),g--):(re(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;j>g;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(we)}}function ve(a){a._pack_next=a._pack_prev=a}function we(a){delete a._pack_next,delete a._pack_prev}function xe(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)xe(e[f],b,c,d)}function ye(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function ze(a,b){return a.parent==b.parent?1:2}function Ae(a){var b=a.children;return b.length?b[0]:a.t}function Be(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Ce(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function De(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Ee(a,b,c){return a.a.parent===b.parent?a.a:c}function Fe(a){return 1+cg.max(a,function(a){return a.y})}function Ge(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function He(a){var b=a.children;return b&&b.length?He(b[0]):a}function Ie(a){var b,c=a.children;return c&&(b=c.length)?Ie(c[b-1]):a}function Je(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Ke(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Le(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function Me(a){return a.rangeExtent?a.rangeExtent():Le(a.range())}function Ne(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Oe(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Pe(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:si}function Qe(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=cg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Re(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Qe:Ne,i=d?Rd:Qd;return g=e(a,b,i,c),h=e(b,a,i,sd),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Kd)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return Ve(a,b)},f.tickFormat=function(b,c){return We(a,b,c)},f.nice=function(b){return Te(a,b),e()},f.copy=function(){return Re(a,b,c,d)},e()}function Se(a,b){return cg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Te(a,b){return Oe(a,Pe(Ue(a,b)[2]))}function Ue(a,b){null==b&&(b=10);var c=Le(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function Ve(a,b){return cg.range.apply(cg,Ue(a,b))}function We(a,b,c){var d=Ue(a,b);if(c){var e=gh.exec(c);if(e.shift(),"s"===e[8]){var f=cg.formatPrefix(Math.max(og(d[0]),og(d[1])));return e[7]||(e[7]="."+Xe(f.scale(d[2]))),e[8]="f",c=cg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+Ye(e[8],d)),c=e.join("")}else c=",."+Xe(d[2])+"f";return cg.format(c)}function Xe(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Ye(a,b){var c=Xe(b[2]);return a in ti?Math.abs(c-Xe(Math.max(og(b[0]),og(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Ze(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Oe(d.map(e),c?Math:vi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Le(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;k>j;j++)for(var m=1;l>m;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,b){if(!arguments.length)return ui;arguments.length<2?b=ui:"function"!=typeof b&&(b=cg.format(b));var d,h=Math.max(.1,a/g.ticks().length),i=c?(d=1e-12,Math.ceil):(d=-1e-12,Math.floor);return function(a){return a/f(i(e(a)+d))<=h?b(a):""}},g.copy=function(){return Ze(a.copy(),b,c,d)},Se(g,a)}function $e(a,b,c){function d(b){return a(e(b))}var e=_e(b),f=_e(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return Ve(c,a)},d.tickFormat=function(a,b){return We(c,a,b)},d.nice=function(a){return d.domain(Te(c,a))},d.exponent=function(g){return arguments.length?(e=_e(b=g),f=_e(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return $e(a.copy(),b,c)},Se(d,a)}function _e(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function af(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return cg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new k;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Le(b.a[0])},c.copy=function(){return af(a,b)},c.domain(a)}function bf(a,b){function c(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=cg.quantile(a,c/d);return g}function g(a){return isNaN(a=+a)?void 0:b[cg.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(e).filter(f).sort(d),c()):a},g.range=function(a){return arguments.length?(b=a,c()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return bf(a,b)},c()}function cf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return cf(a,b,c)},e()}function df(a,b){function c(c){return c>=c?b[cg.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return df(a,b)},c}function ef(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return Ve(a,b)},b.tickFormat=function(b,c){return We(a,b,c)},b.copy=function(){return ef(a)},b}function ff(){return 0}function gf(a){return a.innerRadius}function hf(a){return a.outerRadius}function jf(a){return a.startAngle}function kf(a){return a.endAngle}function lf(a){return a&&a.padAngle}function mf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function nf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(t*t*s-u*u),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function of(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Ba(c),o=Ba(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Cc,d=Dc,e=Db,f=pf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Bi.get(a)||pf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function pf(a){return a.join("L")}function qf(a){return pf(a)+"Z"}function rf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function sf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function tf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function uf(a,b){return a.length<4?pf(a):a[1]+xf(a.slice(1,-1),yf(a,b))}function vf(a,b){return a.length<3?pf(a):a[0]+xf((a.push(a[0]),a),yf([a[a.length-2]].concat(a,[a[1]]),b))}function wf(a,b){return a.length<3?pf(a):a[0]+xf(a,yf(a,b))}function xf(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return pf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function yf(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function zf(a){if(a.length<3)return pf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",Df(Ei,g),",",Df(Ei,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Ef(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Af(a){if(a.length<4)return pf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(Df(Ei,f)+","+Df(Ei,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Ef(c,f,g);return c.join("")}function Bf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[Df(Ei,g),",",Df(Ei,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Ef(b,g,h);return b.join("")}function Cf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return zf(a)}function Df(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Ef(a,b,c){a.push("C",Df(Ci,b),",",Df(Ci,c),",",Df(Di,b),",",Df(Di,c),",",Df(Ei,b),",",Df(Ei,c))}function Ff(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Gf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Ff(e,f);++b<c;)d[b]=(g+(g=Ff(e=f,f=a[b+1])))/2;return d[b]=g,d}function Hf(a){for(var b,c,d,e,f=[],g=Gf(a),h=-1,i=a.length-1;++h<i;)b=Ff(a[h],a[h+1]),og(b)<Eg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function If(a){return a.length<3?pf(a):a[0]+xf(a,Hf(a))}function Jf(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Jg,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Kf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Ba(c),v=Ba(e),w=c===d?function(){return n}:Ba(d),x=e===f?function(){return o}:Ba(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Cc,d=Cc,e=0,f=Dc,g=Db,h=pf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Bi.get(a)||pf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Lf(a){return a.radius}function Mf(a){return[a.x,a.y]}function Nf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Jg;return[c*Math.cos(d),c*Math.sin(d)]}}function Of(){return 64}function Pf(){return"circle"}function Qf(a){var b=Math.sqrt(a/Gg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Rf(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index))}}function Sf(a,b,c){return tg(a,Li),a.namespace=b,a.id=c,a}function Tf(a,b,c,d){var e=a.id,f=a.namespace;return S(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Uf(a){return null==a&&(a=""),function(){this.textContent=a}}function Vf(a){return null==a?"__transition__":"__transition_"+a+"__"}function Wf(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),g=f[d];if(!g){var h=e.time;g=f[d]={tween:new k,time:h,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++f.count,cg.timer(function(e){function i(c){if(f.active>d)return k();var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index)),f.active=d,g.event&&g.event.start.call(a,a.__data__,b),g.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&p.push(d)}),m=g.ease,l=g.duration,cg.timer(function(){return o.c=j(c||1)?Db:j,1},0,h)}function j(c){if(f.active!==d)return 1;for(var e=c/l,h=m(e),i=p.length;i>0;)p[--i].call(a,h);return e>=1?(g.event&&g.event.end.call(a,a.__data__,b),k()):void 0}function k(){return--f.count?delete f[d]:delete a[c],1}var l,m,n=g.delay,o=dh,p=[];return o.t=n+h,e>=n?i(e-n):void(o.c=i)},0,h)}}function Xf(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Yf(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Zf(a){return a.toISOString()}function $f(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=cg.bisect(Ui,e);return f==Ui.length?[b.year,Ue(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Ui[f-1]<Ui[f]/e?f-1:f]:[Xi,Ue(a,c)[2]]}return d.invert=function(b){return _f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(_f)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,_f(+c+1),b).length}var f=d.domain(),g=Le(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Oe(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=_f(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=_f(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Le(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],_f(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return $f(a.copy(),b,c)},Se(d,a)}function _f(a){return new Date(a)}function ag(a){return JSON.parse(a.responseText)}function bg(a){var b=fg.createRange();return b.selectNode(fg.body),b.createContextualFragment(a.responseText)}var cg={version:"3.5.6"},dg=[].slice,eg=function(a){return dg.call(a)},fg=this.document;if(fg)try{eg(fg.documentElement.childNodes)[0].nodeType}catch(gg){eg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),fg)try{fg.createElement("DIV").style.setProperty("opacity",0,"")}catch(hg){var ig=this.Element.prototype,jg=ig.setAttribute,kg=ig.setAttributeNS,lg=this.CSSStyleDeclaration.prototype,mg=lg.setProperty;ig.setAttribute=function(a,b){jg.call(this,a,b+"")},ig.setAttributeNS=function(a,b,c){kg.call(this,a,b,c+"")},lg.setProperty=function(a,b,c){mg.call(this,a,b+"",c)}}cg.ascending=d,cg.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},cg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},cg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},cg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]},cg.sum=function(a,b){var c,d=0,e=a.length,g=-1;if(1===arguments.length)for(;++g<e;)f(c=+a[g])&&(d+=c);else for(;++g<e;)f(c=+b.call(a,a[g],g))&&(d+=c);return d},cg.mean=function(a,b){var c,d=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)f(c=e(a[h]))?d+=c:--i;else for(;++h<g;)f(c=e(b.call(a,a[h],h)))?d+=c:--i;return i?d/i:void 0},cg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},cg.median=function(a,b){var c,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)f(c=e(a[i]))&&g.push(c);else for(;++i<h;)f(c=e(b.call(a,a[i],i)))&&g.push(c);return g.length?cg.quantile(g.sort(d),.5):void 0},cg.variance=function(a,b){var c,d,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)f(c=e(a[j]))&&(d=c-h,h+=d/++k,i+=d*(c-h));else for(;++j<g;)f(c=e(b.call(a,a[j],j)))&&(d=c-h,h+=d/++k,i+=d*(c-h));return k>1?i/(k-1):void 0},cg.deviation=function(){var a=cg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var ng=g(d);cg.bisectLeft=ng.left,cg.bisect=cg.bisectRight=ng.right,cg.bisector=function(a){return g(1===a.length?function(b,c){return d(a(b),c)}:a)},cg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},cg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},cg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(0>d?0:d);d>c;)f[c]=[b=e,e=a[++c]];return f},cg.zip=function(){if(!(d=arguments.length))return[];for(var a=-1,b=cg.min(arguments,h),c=new Array(b);++a<b;)for(var d,e=-1,f=c[a]=new Array(d);++e<d;)f[e]=arguments[e][a];return c},cg.transpose=function(a){return cg.zip.apply(cg,a)},cg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},cg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},cg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},cg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var og=Math.abs;cg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=i(og(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},cg.map=function(a,b){var c=new k;if(a instanceof k)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var pg="__proto__",qg="\x00";j(k,{has:n,get:function(a){return this._[l(a)]},set:function(a,b){return this._[l(a)]=b},remove:o,keys:p,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:m(b),value:this._[b]});return a},size:q,empty:r,forEach:function(a){for(var b in this._)a.call(this,m(b),this._[b])}}),cg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,j,l,m,n=-1,o=g.length,p=f[h++],q=new k;++n<o;)(m=q.get(i=p(j=g[n])))?m.push(j):q.set(i,[j]);return b?(j=b(),l=function(c,d){j.set(c,a(b,d,h))}):(j={},l=function(c,d){j[c]=a(b,d,h)}),q.forEach(l),j}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(cg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},cg.set=function(a){var b=new s;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b},j(s,{has:n,add:function(a){return this._[l(a+="")]=!0,a},remove:o,values:p,size:q,empty:r,forEach:function(a){for(var b in this._)a.call(this,m(b))}}),cg.behavior={},cg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=u(a,b,b[c]);return a};var rg=["webkit","ms","moz","Moz","o","O"];cg.dispatch=function(){for(var a=new x,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=y(a);return a},x.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},cg.event=null,cg.requote=function(a){return a.replace(sg,"\\$&")};var sg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,tg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},ug=function(a,b){return b.querySelector(a)},vg=function(a,b){return b.querySelectorAll(a)},wg=function(a,b){var c=a.matches||a[v(a,"matchesSelector")];return(wg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(ug=function(a,b){return Sizzle(a,b)[0]||null},vg=Sizzle,wg=Sizzle.matchesSelector),cg.selection=function(){return cg.select(fg.documentElement)};var xg=cg.selection.prototype=[];xg.select=function(a){var b,c,d,e,f=[];a=D(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return C(f)},xg.selectAll=function(a){var b,c,d=[];a=E(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=eg(a.call(c,c.__data__,h,e))),b.parentNode=c);return C(d)};var yg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};cg.ns={prefix:yg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&(c=a.slice(0,b),a=a.slice(b+1)),yg.hasOwnProperty(c)?{space:yg[c],local:a}:a}},xg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=cg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(F(b,a[b]));return this}return this.each(F(a,b))},xg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=I(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!H(a[e]).test(b))return!1;return!0}for(b in a)this.each(J(b,a[b]));return this}return this.each(J(a,b))},xg.style=function(a,b,d){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(d in a)this.each(L(d,a[d],b));return this}if(2>e){var f=this.node();return c(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(L(a,b,d))},xg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(M(b,a[b]));return this}return this.each(M(a,b))},xg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},xg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},xg.append=function(a){return a=N(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},xg.insert=function(a,b){return a=N(a),b=D(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},xg.remove=function(){return this.each(O)},xg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new k,s=new Array(g);for(d=-1;++d<g;)r.has(q=b.call(e=a[d],e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q;for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=P(f),r.set(q,!0);for(d=-1;++d<g;)r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=P(f);for(;l>d;++d)o[d]=P(c[d]);for(;g>d;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),j.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=T([]),i=C([]),j=C([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);
return i.enter=function(){return h},i.exit=function(){return j},i},xg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},xg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Q(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return C(e)},xg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},xg.sort=function(a){a=R.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},xg.each=function(a){return S(this,function(b,c,d){a.call(b,b.__data__,c,d)})},xg.call=function(a){var b=eg(arguments);return a.apply(b[0]=this,b),this},xg.empty=function(){return!this.node()},xg.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},xg.size=function(){var a=0;return S(this,function(){++a}),a};var zg=[];cg.selection.enter=T,cg.selection.enter.prototype=zg,zg.append=xg.append,zg.empty=xg.empty,zg.node=xg.node,zg.call=xg.call,zg.size=xg.size,zg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return C(g)},zg.insert=function(a,b){return arguments.length<2&&(b=U(this)),xg.insert.call(this,a,b)},cg.select=function(b){var c;return"string"==typeof b?(c=[ug(b,fg)],c.parentNode=fg.documentElement):(c=[b],c.parentNode=a(b)),C([c])},cg.selectAll=function(a){var b;return"string"==typeof a?(b=eg(vg(a,fg)),b.parentNode=fg.documentElement):(b=a,b.parentNode=null),C([b])},xg.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(V(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(V(a,b,c))};var Ag=cg.map({mouseenter:"mouseover",mouseleave:"mouseout"});fg&&Ag.forEach(function(a){"on"+a in fg&&Ag.remove(a)});var Bg,Cg=0;cg.mouse=function(a){return Z(a,A())};var Dg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;cg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=A().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return Z(a,d)},cg.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function b(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o&&cg.event.target===l),n({type:"dragend"}))}var j,k=this,l=cg.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=cg.select(c(l)).on(f+q,h).on(g+q,i),s=Y(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=B(a,"drag","dragstart","dragend"),e=null,f=b(w,cg.mouse,c,"mousemove","mouseup"),g=b($,cg.touch,t,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},cg.rebind(a,d,"on")},cg.touches=function(a,b){return arguments.length<2&&(b=A().touches),b?eg(b).map(function(b){var c=Z(a,b);return c.identifier=b.identifier,c}):[]};var Eg=1e-6,Fg=Eg*Eg,Gg=Math.PI,Hg=2*Gg,Ig=Hg-Eg,Jg=Gg/2,Kg=Gg/180,Lg=180/Gg,Mg=Math.SQRT2,Ng=2,Og=4;cg.interpolateZoom=function(a,b){function c(a){var b=a*s;if(r){var c=ea(p),g=f/(Ng*m)*(c*fa(Mg*b+p)-da(p));return[d+g*j,e+g*k,f*c/ea(Mg*b+p)]}return[d+a*j,e+a*k,f*Math.exp(Mg*b)]}var d=a[0],e=a[1],f=a[2],g=b[0],h=b[1],i=b[2],j=g-d,k=h-e,l=j*j+k*k,m=Math.sqrt(l),n=(i*i-f*f+Og*l)/(2*f*Ng*m),o=(i*i-f*f-Og*l)/(2*i*Ng*m),p=Math.log(Math.sqrt(n*n+1)-n),q=Math.log(Math.sqrt(o*o+1)-o),r=q-p,s=(r||Math.log(i/f))/Mg;return c.duration=1e3*s,c},cg.behavior.zoom=function(){function a(a){a.on(F,l).on(Qg+".zoom",n).on("dblclick.zoom",o).on(I,m)}function b(a){return[(a[0]-y.x)/y.k,(a[1]-y.y)/y.k]}function d(a){return[a[0]*y.k+y.x,a[1]*y.k+y.y]}function e(a){y.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),y.x+=a[0]-b[0],y.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:y.x,y:y.y,k:y.k},e(Math.pow(2,g)),f(q=c,d),b=cg.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-y.x)/y.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-y.y)/y.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){l=1,f(cg.mouse(e),n),j(h)}function d(){m.on(G,null).on(H,null),o(l&&cg.event.target===g),k(h)}var e=this,g=cg.event.target,h=J.of(e,arguments),l=0,m=cg.select(c(e)).on(G,a).on(H,d),n=b(cg.mouse(e)),o=Y(e);Ki.call(e),i(h)}function m(){function a(){var a=cg.touches(o);return n=y.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=b(a))}),a}function c(){var b=cg.event.target;cg.select(b).on(u,d).on(v,h),w.push(b);for(var c=cg.event.changedTouches,e=0,f=c.length;f>e;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(500>j-t){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(y.k)/Math.LN2)+1),z()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=cg.touches(o);Ki.call(o);for(var h=0,i=g.length;i>h;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(cg.event.touches.length){for(var b=cg.event.changedTouches,c=0,d=b.length;d>c;++c)delete q[b[c].identifier];for(var e in q)return void a()}cg.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+cg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=cg.select(o),A=Y(o);c(),i(p),x.on(F,null).on(I,c)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Ki.call(this),p=b(q=r||cg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),z(),e(Math.pow(2,.002*Pg())*y.k),f(q,p),j(a)}function o(){var a=cg.mouse(this),c=Math.log(y.k)/Math.LN2;g(this,a,b(a),cg.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var p,q,r,s,t,u,v,w,x,y={x:0,y:0,k:1},A=[960,500],C=Rg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=B(a,"zoomstart","zoom","zoomend");return Qg||(Qg="onwheel"in fg?(Pg=function(){return-cg.event.deltaY*(cg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fg?(Pg=function(){return cg.event.wheelDelta},"mousewheel"):(Pg=function(){return-cg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=y;Ii?cg.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=A[0],d=A[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=cg.interpolateZoom([(e-y.x)/y.k,(f-y.y)/y.k,c/y.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=y={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=y,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(y={x:+b[0],y:+b[1],k:y.k},h(),a):[y.x,y.y]},a.scale=function(b){return arguments.length?(y={x:y.x,y:y.y,k:+b},h(),a):y.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Rg:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(A=b&&[+b[0],+b[1]],a):A},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),y={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),y={x:0,y:0,k:1},a):x},cg.rebind(a,J,"on")};var Pg,Qg,Rg=[0,1/0];cg.color=ha,ha.prototype.toString=function(){return this.rgb()+""},cg.hsl=ia;var Sg=ia.prototype=new ha;Sg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ia(this.h,this.s,this.l/a)},Sg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ia(this.h,this.s,a*this.l)},Sg.rgb=function(){return ja(this.h,this.s,this.l)},cg.hcl=ka;var Tg=ka.prototype=new ha;Tg.brighter=function(a){return new ka(this.h,this.c,Math.min(100,this.l+Ug*(arguments.length?a:1)))},Tg.darker=function(a){return new ka(this.h,this.c,Math.max(0,this.l-Ug*(arguments.length?a:1)))},Tg.rgb=function(){return la(this.h,this.c,this.l).rgb()},cg.lab=ma;var Ug=18,Vg=.95047,Wg=1,Xg=1.08883,Yg=ma.prototype=new ha;Yg.brighter=function(a){return new ma(Math.min(100,this.l+Ug*(arguments.length?a:1)),this.a,this.b)},Yg.darker=function(a){return new ma(Math.max(0,this.l-Ug*(arguments.length?a:1)),this.a,this.b)},Yg.rgb=function(){return na(this.l,this.a,this.b)},cg.rgb=sa;var Zg=sa.prototype=new ha;Zg.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new sa(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new sa(e,e,e)},Zg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new sa(a*this.r,a*this.g,a*this.b)},Zg.hsl=function(){return xa(this.r,this.g,this.b)},Zg.toString=function(){return"#"+va(this.r)+va(this.g)+va(this.b)};var $g=cg.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$g.forEach(function(a,b){$g.set(a,ta(b))}),cg.functor=Ba,cg.xhr=Ca(t),cg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Da(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;j>k;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new s,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},cg.csv=cg.dsv(",","text/csv"),cg.tsv=cg.dsv("	","text/tab-separated-values");var _g,ah,bh,ch,dh,eh=this[v(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};cg.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,f:!1,n:null};ah?ah.n=f:_g=f,ah=f,bh||(ch=clearTimeout(ch),bh=1,eh(Ga))},cg.timer.flush=function(){Ha(),Ia()},cg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var fh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ka);cg.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a*=-1),b&&(a=cg.round(a,Ja(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),fh[8+c/3]};var gh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hh=cg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=cg.round(a,Ja(a,b))).toFixed(Math.max(0,Math.min(20,Ja(a*(1+1e-15),b))))}}),ih=cg.time={},jh=Date;Na.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){kh.setUTCDate.apply(this._,arguments)},setDay:function(){kh.setUTCDay.apply(this._,arguments)},setFullYear:function(){kh.setUTCFullYear.apply(this._,arguments)},setHours:function(){kh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){kh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){kh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){kh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){kh.setUTCSeconds.apply(this._,arguments)},setTime:function(){kh.setTime.apply(this._,arguments)}};var kh=Date.prototype;ih.year=Oa(function(a){return a=ih.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),ih.years=ih.year.range,ih.years.utc=ih.year.utc.range,ih.day=Oa(function(a){var b=new jh(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),ih.days=ih.day.range,ih.days.utc=ih.day.utc.range,ih.dayOfYear=function(a){var b=ih.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=ih[a]=Oa(function(a){return(a=ih.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=ih.year(a).getDay();return Math.floor((ih.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});ih[a+"s"]=c.range,ih[a+"s"].utc=c.utc.range,ih[a+"OfYear"]=function(a){var c=ih.year(a).getDay();return Math.floor((ih.dayOfYear(a)+(c+b)%7)/7)}}),ih.week=ih.sunday,ih.weeks=ih.sunday.range,ih.weeks.utc=ih.sunday.utc.range,ih.weekOfYear=ih.sundayOfYear;var lh={"-":"",_:" ",0:"0"},mh=/^\s*\d+/,nh=/^%/;cg.locale=function(a){return{numberFormat:La(a),timeFormat:Qa(a)}};var oh=cg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});cg.format=oh.numberFormat,cg.geo={},jb.prototype={s:0,t:0,add:function(a){kb(a,this.t,ph),kb(ph.s,this.s,this),this.s?this.t+=ph.t:this.s=ph.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ph=new jb;cg.geo.stream=function(a,b){a&&qh.hasOwnProperty(a.type)?qh[a.type](a,b):lb(a,b)};var qh={Feature:function(a,b){lb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)lb(c[d].geometry,b)}},rh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){mb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)mb(c[d],b,0)},Polygon:function(a,b){nb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)nb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)lb(c[d],b)}};cg.geo.area=function(a){return sh=0,cg.geo.stream(a,uh),sh};var sh,th=new jb,uh={sphere:function(){sh+=4*Gg},point:w,lineStart:w,lineEnd:w,polygonStart:function(){th.reset(),uh.lineStart=ob},polygonEnd:function(){var a=2*th;sh+=0>a?4*Gg+a:a,uh.lineStart=uh.lineEnd=uh.point=w}};cg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),l>b&&(l=b),b>n&&(n=b)}function b(b,c){var d=pb([b*Kg,c*Kg]);if(r){var e=rb(r,d),f=[e[1],-e[0],0],g=rb(f,e);ub(g),g=vb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Lg*j,q=og(i)>180;if(q^(p>j*o&&j*b>p)){var s=g[1]*Lg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(p>j*o&&j*b>p)){var s=-g[1]*Lg;l>s&&(l=s)}else l>c&&(l=c),c>n&&(n=c);q?o>b?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(k>b&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=og(d)>180?d+(d>0?360:-360):d}else p=a,q=c;uh.point(a,c),b(a,c)}function f(){uh.lineStart()}function g(){e(p,q),uh.lineEnd(),og(s)>Eg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,uh.polygonStart()},polygonEnd:function(){uh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,0>th?(k=-(m=180),l=-(n=90)):s>Eg?n=90:-Eg>s&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],cg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];b>d;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];b>=d;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),cg.geo.centroid=function(a){vh=wh=xh=yh=zh=Ah=Bh=Ch=Dh=Eh=Fh=0,cg.geo.stream(a,Gh);var b=Dh,c=Eh,d=Fh,e=b*b+c*c+d*d;return Fg>e&&(b=Ah,c=Bh,d=Ch,Eg>wh&&(b=xh,c=yh,d=zh),e=b*b+c*c+d*d,Fg>e)?[NaN,NaN]:[Math.atan2(c,b)*Lg,ca(d/Math.sqrt(e))*Lg]};var vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh={sphere:w,point:xb,lineStart:zb,lineEnd:Ab,polygonStart:function(){Gh.lineStart=Bb},polygonEnd:function(){Gh.lineStart=zb}},Hh=Hb(Db,Lb,Nb,[-Gg,-Gg/2]),Ih=1e9;cg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Rb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(cg.geo.conicEqualArea=function(){return Sb(Tb)}).raw=Tb,cg.geo.albers=function(){return cg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},cg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=cg.geo.albers(),g=cg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=cg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Eg,l+.12*j+Eg],[k-.214*j-Eg,l+.234*j-Eg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Eg,l+.166*j+Eg],[k-.115*j-Eg,l+.234*j-Eg]]).stream(i).point,a},a.scale(1070)};var Jh,Kh,Lh,Mh,Nh,Oh,Ph={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Kh=0,Ph.lineStart=Ub},polygonEnd:function(){Ph.lineStart=Ph.lineEnd=Ph.point=w,Jh+=og(Kh/2)}},Qh={point:Vb,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Rh={point:Yb,lineStart:Zb,lineEnd:$b,polygonStart:function(){Rh.lineStart=_b},polygonEnd:function(){Rh.point=Yb,Rh.lineStart=Zb,Rh.lineEnd=$b}};cg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),cg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Jh=0,cg.geo.stream(a,e(Ph)),Jh},a.centroid=function(a){return xh=yh=zh=Ah=Bh=Ch=Dh=Eh=Fh=0,cg.geo.stream(a,e(Rh)),Fh?[Dh/Fh,Eh/Fh]:Ch?[Ah/Ch,Bh/Ch]:zh?[xh/zh,yh/zh]:[NaN,NaN]},a.bounds=function(a){return Nh=Oh=-(Lh=Mh=1/0),cg.geo.stream(a,e(Qh)),[[Lh,Mh],[Nh,Oh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||cc(a):t,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Wb:new ac(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(cg.geo.albersUsa()).context(null)},cg.geo.transform=function(a){return{stream:function(b){var c=new dc(b);for(var d in a)c[d]=a[d];return c}}},dc.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},cg.geo.projection=fc,cg.geo.projectionMutator=gc,(cg.geo.equirectangular=function(){return fc(ic)}).raw=ic.invert=ic,cg.geo.rotation=function(a){function b(b){return b=a(b[0]*Kg,b[1]*Kg),b[0]*=Lg,b[1]*=Lg,b}return a=kc(a[0]%360*Kg,a[1]*Kg,a.length>2?a[2]*Kg:0),b.invert=function(b){return b=a.invert(b[0]*Kg,b[1]*Kg),b[0]*=Lg,b[1]*=Lg,b},b},jc.invert=ic,cg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=kc(-a[0]*Kg,-a[1]*Kg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Lg,a[1]*=Lg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=oc((b=+d)*Kg,e*Kg),a):b},a.precision=function(d){return arguments.length?(c=oc(b*Kg,(e=+d)*Kg),a):e},a.angle(90)},cg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Kg,e=a[1]*Kg,f=b[1]*Kg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},cg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return cg.range(Math.ceil(f/q)*q,e,q).map(m).concat(cg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(cg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return og(a%q)>Eg}).map(k)).concat(cg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return og(a%r)>Eg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=qc(h,g,90),l=rc(d,c,s),m=qc(j,i,90),n=rc(f,e,s),a):s},a.majorExtent([[-180,-90+Eg],[180,90-Eg]]).minorExtent([[-180,-80-Eg],[180,80+Eg]])},cg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=sc,e=tc;return a.distance=function(){return cg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},cg.geo.interpolate=function(a,b){return uc(a[0]*Kg,a[1]*Kg,b[0]*Kg,b[1]*Kg)},cg.geo.length=function(a){return Sh=0,cg.geo.stream(a,Th),Sh};var Sh,Th={sphere:w,point:w,lineStart:vc,lineEnd:w,polygonStart:w,polygonEnd:w},Uh=wc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(cg.geo.azimuthalEqualArea=function(){return fc(Uh)}).raw=Uh;var Vh=wc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},t);(cg.geo.azimuthalEquidistant=function(){return fc(Vh)}).raw=Vh,(cg.geo.conicConformal=function(){return Sb(xc)}).raw=xc,(cg.geo.conicEquidistant=function(){return Sb(yc)}).raw=yc;var Wh=wc(function(a){return 1/a},Math.atan);(cg.geo.gnomonic=function(){return fc(Wh)}).raw=Wh,zc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Jg]},(cg.geo.mercator=function(){return Ac(zc)}).raw=zc;var Xh=wc(function(){return 1},Math.asin);(cg.geo.orthographic=function(){return fc(Xh)}).raw=Xh;var Yh=wc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(cg.geo.stereographic=function(){return fc(Yh)}).raw=Yh,Bc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Jg]},(cg.geo.transverseMercator=function(){var a=Ac(Bc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Bc,cg.geom={},cg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Ba(c),f=Ba(d),g=a.length,h=[],i=[];for(b=0;g>b;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Fc),b=0;g>b;b++)i.push([h[b][0],-h[b][1]]);var j=Ec(h),k=Ec(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Cc,d=Dc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},cg.geom.polygon=function(a){return tg(a,Zh),a};var Zh=cg.geom.polygon.prototype=[];Zh.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},Zh.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},Zh.clip=function(a){for(var b,c,d,e,f,g,h=Ic(a),i=-1,j=this.length-Ic(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Gc(g,k,e)?(Gc(f,k,e)||a.push(Hc(f,g,k,e)),a.push(g)):Gc(f,k,e)&&a.push(Hc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var $h,_h,ai,bi,ci,di=[],ei=[];Qc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Sc),b.length},ad.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},bd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=fd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(dd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ed(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(ed(this,c),a=c,c=a.U),c.C=!1,d.C=!0,dd(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?fd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){
if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,dd(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,ed(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,dd(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,ed(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,dd(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,ed(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},cg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return gd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Eg)*Eg,y:Math.round(g(a,b)/Eg)*Eg,i:b}})}var d=Cc,e=Dc,f=d,g=e,h=fi;return a?b(a):(b.links=function(a){return gd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return gd(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Sc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&id(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Ba(d=a),b):d},b.y=function(a){return arguments.length?(g=Ba(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?fi:a,b):h===fi?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===fi?null:h&&h[1]},b)};var fi=[[-1e6,-1e6],[1e6,1e6]];cg.geom.delaunay=function(a){return cg.geom.voronoi().triangles(a)},cg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(og(i-c)+og(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=ld()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Ba(h),u=Ba(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;o>n;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;o>n;++n){var v=+t(k=a[n],n),w=+u(k,n);p>v&&(p=v),q>w&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=ld();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){md(a,z,p,q,r,s)},z.find=function(a){return nd(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Cc,i=Dc;return(g=arguments.length)?(h=jd,i=kd,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},cg.interpolateRgb=od,cg.interpolateObject=pd,cg.interpolateNumber=qd,cg.interpolateString=rd;var gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hi=new RegExp(gi.source,"g");cg.interpolate=sd,cg.interpolators=[function(a,b){var c=typeof b;return("string"===c?$g.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?od:rd:b instanceof ha?od:Array.isArray(b)?td:"object"===c&&isNaN(b)?pd:qd)(a,b)}],cg.interpolateArray=td;var ii=function(){return t},ji=cg.map({linear:ii,poly:Ad,quad:function(){return xd},cubic:function(){return yd},sin:function(){return Bd},exp:function(){return Cd},circle:function(){return Dd},elastic:Ed,back:Fd,bounce:function(){return Gd}}),ki=cg.map({"in":t,out:vd,"in-out":wd,"out-in":function(a){return wd(vd(a))}});cg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=ji.get(c)||ii,d=ki.get(d)||t,ud(d(c.apply(null,dg.call(arguments,1))))},cg.interpolateHcl=Hd,cg.interpolateHsl=Id,cg.interpolateLab=Jd,cg.interpolateRound=Kd,cg.transform=function(a){var b=fg.createElementNS(cg.ns.prefix.svg,"g");return(cg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Ld(c?c.matrix:li)})(a)},Ld.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var li={a:1,b:0,c:0,d:1,e:0,f:0};cg.interpolateTransform=Pd,cg.layout={},cg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Sd(a[c]));return b}},cg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=cg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(cg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Hg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:(j-l)/a},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},cg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/q){if(o>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&o>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=cg.event.x,a.py=cg.event.y,h.resume()}var c,d,e,f,g,h={},i=cg.dispatch("start","tick","end"),j=[1,1],k=.9,l=mi,m=ni,n=-30,o=oi,p=.1,q=.64,r=[],s=[];return h.tick=function(){if((d*=.99)<.005)return i.end({type:"end",alpha:d=0}),!0;var b,c,h,l,m,o,q,t,u,v=r.length,w=s.length;for(c=0;w>c;++c)h=s[c],l=h.source,m=h.target,t=m.x-l.x,u=m.y-l.y,(o=t*t+u*u)&&(o=d*f[c]*((o=Math.sqrt(o))-e[c])/o,t*=o,u*=o,m.x-=t*(q=l.weight/(m.weight+l.weight)),m.y-=u*q,l.x+=t*(q=1-q),l.y+=u*q);if((q=d*p)&&(t=j[0]/2,u=j[1]/2,c=-1,q))for(;++c<v;)h=r[c],h.x+=(t-h.x)*q,h.y+=(u-h.y)*q;if(n)for(Zd(b=cg.geom.quadtree(r),d,g),c=-1;++c<v;)(h=r[c]).fixed||b.visit(a(h));for(c=-1;++c<v;)h=r[c],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*k,h.y-=(h.py-(h.py=h.y))*k);i.tick({type:"tick",alpha:d})},h.nodes=function(a){return arguments.length?(r=a,h):r},h.links=function(a){return arguments.length?(s=a,h):s},h.size=function(a){return arguments.length?(j=a,h):j},h.linkDistance=function(a){return arguments.length?(l="function"==typeof a?a:+a,h):l},h.distance=h.linkDistance,h.linkStrength=function(a){return arguments.length?(m="function"==typeof a?a:+a,h):m},h.friction=function(a){return arguments.length?(k=+a,h):k},h.charge=function(a){return arguments.length?(n="function"==typeof a?a:+a,h):n},h.chargeDistance=function(a){return arguments.length?(o=a*a,h):Math.sqrt(o)},h.gravity=function(a){return arguments.length?(p=+a,h):p},h.theta=function(a){return arguments.length?(q=a*a,h):Math.sqrt(q)},h.alpha=function(a){return arguments.length?(a=+a,d?d=a>0?a:0:a>0&&(i.start({type:"start",alpha:d=a}),cg.timer(h.tick)),h):d},h.start=function(){function a(a,d){if(!c){for(c=new Array(i),h=0;i>h;++h)c[h]=[];for(h=0;k>h;++h){var e=s[h];c[e.source.index].push(e.target),c[e.target.index].push(e.source)}}for(var f,g=c[b],h=-1,j=g.length;++h<j;)if(!isNaN(f=g[h][a]))return f;return Math.random()*d}var b,c,d,i=r.length,k=s.length,o=j[0],p=j[1];for(b=0;i>b;++b)(d=r[b]).index=b,d.weight=0;for(b=0;k>b;++b)d=s[b],"number"==typeof d.source&&(d.source=r[d.source]),"number"==typeof d.target&&(d.target=r[d.target]),++d.source.weight,++d.target.weight;for(b=0;i>b;++b)d=r[b],isNaN(d.x)&&(d.x=a("x",o)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(e=[],"function"==typeof l)for(b=0;k>b;++b)e[b]=+l.call(this,s[b],b);else for(b=0;k>b;++b)e[b]=l;if(f=[],"function"==typeof m)for(b=0;k>b;++b)f[b]=+m.call(this,s[b],b);else for(b=0;k>b;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;i>b;++b)g[b]=+n.call(this,r[b],b);else for(b=0;i>b;++b)g[b]=n;return h.resume()},h.resume=function(){return h.alpha(.1)},h.stop=function(){return h.alpha(0)},h.drag=function(){return c||(c=cg.behavior.drag().origin(t).on("dragstart.force",Vd).on("drag.force",b).on("dragend.force",Wd)),arguments.length?void this.on("mouseover.force",Xd).on("mouseout.force",Yd).call(c):c},cg.rebind(h,i,"on")};var mi=20,ni=1,oi=1/0;cg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return ae(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=de,c=be,d=ce;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(_d(b,function(a){a.children&&(a.value=0)}),ae(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},cg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=cg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},$d(c,d)},cg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(0>l?-1:1),o=(l-i*n)/cg.sum(j),p=cg.range(i),q=[];return null!=c&&p.sort(c===pi?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),p.forEach(function(a){q[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*o+n,padAngle:m}}),q}var b=Number,c=pi,d=0,e=Hg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var pi={};cg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=cg.permute(j,l),k=cg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;r>o;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;m>n;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=t,c=ie,d=je,e=he,f=fe,g=ge;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:qi.get(b)||ie,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:ri.get(b)||je,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var qi=cg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(ke),f=a.map(le),g=cg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;d>b;++b)c=g[b],i>h?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return cg.range(a.length).reverse()},"default":ie}),ri=cg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:je});cg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[cg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=pe,e=ne;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Ba(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return oe(a,b)}:Ba(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},cg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,ae(h,function(a){a.r=+k(a.value)}),ae(h,ue),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;ae(h,function(a){a.r+=l}),ae(h,ue),ae(h,function(a){a.r-=l})}return xe(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=cg.layout.hierarchy().sort(qe),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},$d(a,c)},cg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(ae(m,c),m.parent.m=-m.z,_d(m,d),j)_d(l,f);else{var n=l,o=l,p=l;_d(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);_d(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){De(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Be(g),e=Ae(e),g&&e;)i=Ae(i),f=Be(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(Ce(Ee(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Be(f)&&(f.t=g,f.m+=l-k),e&&!Ae(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=cg.layout.hierarchy().sort(null).value(null),h=ze,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},$d(a,g)},cg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;ae(i,function(a){var b=a.children;b&&b.length?(a.x=Ge(b),a.y=Fe(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=He(i),l=Ie(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return ae(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=cg.layout.hierarchy().sort(null).value(null),c=ze,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},$d(a,b)},cg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=0,f.y=0,f.dx=j[0],f.dy=j[1],g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=cg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Je,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Je(b):Ke(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Ke(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Je:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},$d(f,h)},cg.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=cg.random.normal.apply(cg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=cg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},cg.scale={};var si={floor:t,ceil:t};cg.scale.linear=function(){return Re([0,1],[0,1],sd,!1)};var ti={s:1,g:1,p:1,r:1,e:1};cg.scale.log=function(){return Ze(cg.scale.linear().domain([0,1]),10,!0,[1,10])};var ui=cg.format(".0e"),vi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};cg.scale.pow=function(){return $e(cg.scale.linear(),1,[0,1])},cg.scale.sqrt=function(){return cg.scale.pow().exponent(.5)},cg.scale.ordinal=function(){return af([],{t:"range",a:[[]]})},cg.scale.category10=function(){return cg.scale.ordinal().range(wi)},cg.scale.category20=function(){return cg.scale.ordinal().range(xi)},cg.scale.category20b=function(){return cg.scale.ordinal().range(yi)},cg.scale.category20c=function(){return cg.scale.ordinal().range(zi)};var wi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ua),xi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ua),yi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ua),zi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ua);cg.scale.quantile=function(){return bf([],[])},cg.scale.quantize=function(){return cf(0,1,[0,1])},cg.scale.threshold=function(){return df([.5],[0,1])},cg.scale.identity=function(){return ef([0,1])},cg.svg={},cg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Jg,l=h.apply(this,arguments)-Jg,m=Math.abs(l-k),n=k>l?0:1;if(a>j&&(o=j,j=a,a=o),m>=Ig)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Ai?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ca(q/j*Math.sin(r))),a&&(A=ca(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Gg?0:1;if(B&&mf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Gg?0:1;if(A&&mf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if((o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=j>a^n?0:1;var H=null==y?[w,x]:null==u?[s,t]:Hc([s,t],[y,z],[u,v],[w,x]),I=s-H[0],J=t-H[1],K=u-H[0],L=v-H[1],M=1/Math.sin(Math.acos((I*K+J*L)/(Math.sqrt(I*I+J*J)*Math.sqrt(K*K+L*L)))/2),N=Math.sqrt(H[0]*H[0]+H[1]*H[1]);if(null!=u){var O=Math.min(o,(j-N)/(M+1)),P=nf(null==y?[w,x]:[y,z],[s,t],j,O,n),Q=nf([u,v],[w,x],j,O,n);o===O?C.push("M",P[0],"A",O,",",O," 0 0,",p," ",P[1],"A",j,",",j," 0 ",1-n^mf(P[1][0],P[1][1],Q[1][0],Q[1][1]),",",n," ",Q[1],"A",O,",",O," 0 0,",p," ",Q[0]):C.push("M",P[0],"A",O,",",O," 0 1,",p," ",Q[0])}else C.push("M",s,",",t);if(null!=y){var R=Math.min(o,(a-N)/(M-1)),S=nf([s,t],[y,z],a,-R,n),T=nf([w,x],null==u?[s,t]:[u,v],a,-R,n);o===R?C.push("L",T[0],"A",R,",",R," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^mf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",R,",",R," 0 0,",p," ",S[0]):C.push("L",T[0],"A",R,",",R," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=gf,d=hf,e=ff,f=Ai,g=jf,h=kf,i=lf;return a.innerRadius=function(b){return arguments.length?(c=Ba(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Ba(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Ba(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Ai?Ai:Ba(b),a):f},a.startAngle=function(b){return arguments.length?(g=Ba(b),a):g},a.endAngle=function(b){return arguments.length?(h=Ba(b),a):h},a.padAngle=function(b){return arguments.length?(i=Ba(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Jg;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Ai="auto";cg.svg.line=function(){return of(t)};var Bi=cg.map({linear:pf,"linear-closed":qf,step:rf,"step-before":sf,"step-after":tf,basis:zf,"basis-open":Af,"basis-closed":Bf,bundle:Cf,cardinal:wf,"cardinal-open":uf,"cardinal-closed":vf,monotone:If});Bi.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Ci=[0,2/3,1/3,0],Di=[0,1/3,2/3,0],Ei=[0,1/6,2/3,1/6];cg.svg.line.radial=function(){var a=of(Jf);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},sf.reverse=tf,tf.reverse=sf,cg.svg.area=function(){return Kf(t)},cg.svg.area.radial=function(){var a=Kf(Jf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},cg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Jg,k=j.call(a,e,d)-Jg;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Gg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=sc,g=tc,h=Lf,i=jf,j=kf;return a.radius=function(b){return arguments.length?(h=Ba(b),a):h},a.source=function(b){return arguments.length?(f=Ba(b),a):f},a.target=function(b){return arguments.length?(g=Ba(b),a):g},a.startAngle=function(b){return arguments.length?(i=Ba(b),a):i},a.endAngle=function(b){return arguments.length?(j=Ba(b),a):j},a},cg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=sc,c=tc,d=Mf;return a.source=function(c){return arguments.length?(b=Ba(c),a):b},a.target=function(b){return arguments.length?(c=Ba(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},cg.svg.diagonal.radial=function(){var a=cg.svg.diagonal(),b=Mf,c=a.projection;return a.projection=function(a){return arguments.length?c(Nf(b=a)):b},a},cg.svg.symbol=function(){function a(a,d){return(Fi.get(b.call(this,a,d))||Qf)(c.call(this,a,d))}var b=Pf,c=Of;return a.type=function(c){return arguments.length?(b=Ba(c),a):b},a.size=function(b){return arguments.length?(c=Ba(b),a):c},a};var Fi=cg.map({circle:Qf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Hi)),c=b*Hi;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Gi),c=b*Gi/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Gi),c=b*Gi/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});cg.svg.symbolTypes=Fi.keys();var Gi=Math.sqrt(3),Hi=Math.tan(30*Kg);xg.transition=function(a){for(var b,c,d=Ii||++Mi,e=Vf(a),f=[],g=Ji||{time:Date.now(),ease:zd,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&Wf(c,k,e,d,g),b.push(c)}return Sf(f,e,d)},xg.interrupt=function(a){return this.each(null==a?Ki:Rf(Vf(a)))};var Ii,Ji,Ki=Rf(Vf()),Li=[],Mi=0;Li.call=xg.call,Li.empty=xg.empty,Li.node=xg.node,Li.size=xg.size,cg.transition=function(a,b){return a&&a.transition?Ii?a.transition(b):a:cg.selection().transition(a)},cg.transition.prototype=Li,Li.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=D(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),Wf(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Sf(g,f,e)},Li.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=E(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&Wf(e,o,h,g,f),b.push(e)}return Sf(i,h,g)},Li.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Q(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Sf(e,this.namespace,this.id)},Li.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):S(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Li.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Pd:sd,h=cg.ns.qualify(a);return Tf(this,"attr."+a,b,h.local?f:e)},Li.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=cg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Li.style=function(a,b,d){function e(){this.style.removeProperty(a)}function f(b){return null==b?e:(b+="",function(){var e,f=c(this).getComputedStyle(this,null).getPropertyValue(a);return f!==b&&(e=sd(f,b),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(b="");for(d in a)this.style(d,a[d],b);return this}d=""}return Tf(this,"style."+a,b,f)},Li.styleTween=function(a,b,d){function e(e,f){var g=b.call(this,e,f,c(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Li.text=function(a){return Tf(this,"text",a,Uf)},Li.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Li.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=cg.ease.apply(cg,arguments)),S(this,function(d){d[c][b].ease=a}))},Li.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:S(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Li.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:S(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Li.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Ji,f=Ii;try{Ii=c,S(this,function(b,e,f){Ji=b[d][c],a.call(b,b.__data__,e,f)})}finally{Ji=e,Ii=f}}else S(this,function(e){var f=e[d][c];(f.event||(f.event=cg.dispatch("start","end","interrupt"))).on(a,b)});return this},Li.transition=function(){for(var a,b,c,d,e=this.id,f=++Mi,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],Wf(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Sf(h,g,f)},cg.svg.axis=function(){function a(a){a.each(function(){var a,j=cg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):t:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Eg),q=cg.transition(o.exit()).style("opacity",Eg).remove(),r=cg.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,u=Me(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),
cg.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=Xf,x="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=Yf,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*s),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*s),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=cg.scale.linear(),d=Ni,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Oi?b+"":Ni,a):d},a.ticks=function(){return arguments.length?(h=arguments,a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Ni="bottom",Oi={top:1,right:1,bottom:1,left:1};cg.svg.brush=function(){function a(c){c.each(function(){var c=cg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=c.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),c.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=c.selectAll(".resize").data(p,t);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Pi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=cg.transition(c),m=cg.transition(g);j&&(i=Me(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Me(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),b(l)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==cg.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),z())}function p(){32==cg.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,z())}function q(){var a=cg.mouse(v),c=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(cg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(y),c=!0),C&&r(a,k,1)&&(e(y),c=!0),c&&(b(y),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Me(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];return D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),d>k?(e=d,d=k):e=k),p[0]!=d||p[1]!=e?(c?h=null:g=null,p[0]=d,p[1]=e,!0):void 0}function s(){q(),y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),cg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=cg.select(cg.event.target),x=i.of(v,arguments),y=cg.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=Y(v),F=cg.mouse(v),G=cg.select(c(v)).on("keydown.brush",f).on("keyup.brush",p);if(cg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),y.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else cg.event.altKey&&(t=F.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),cg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=B(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Qi[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Ii?cg.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=td(l,b.x),d=td(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Qi[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Qi[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),c>d&&(i=c,c=d,d=i),(c!=l[0]||d!=l[1])&&(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),e>f&&(i=e,e=f,f=i),(e!=m[0]||f!=m[1])&&(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),c>d&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),e>f&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},cg.rebind(a,i,"on")};var Pi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ri=ih.format=oh.timeFormat,Si=Ri.utc,Ti=Si("%Y-%m-%dT%H:%M:%S.%LZ");Ri.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zf:Ti,Zf.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},Zf.toString=Ti.toString,ih.second=Oa(function(a){return new jh(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),ih.seconds=ih.second.range,ih.seconds.utc=ih.second.utc.range,ih.minute=Oa(function(a){return new jh(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),ih.minutes=ih.minute.range,ih.minutes.utc=ih.minute.utc.range,ih.hour=Oa(function(a){var b=a.getTimezoneOffset()/60;return new jh(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),ih.hours=ih.hour.range,ih.hours.utc=ih.hour.utc.range,ih.month=Oa(function(a){return a=ih.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),ih.months=ih.month.range,ih.months.utc=ih.month.utc.range;var Ui=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Vi=[[ih.second,1],[ih.second,5],[ih.second,15],[ih.second,30],[ih.minute,1],[ih.minute,5],[ih.minute,15],[ih.minute,30],[ih.hour,1],[ih.hour,3],[ih.hour,6],[ih.hour,12],[ih.day,1],[ih.day,2],[ih.week,1],[ih.month,1],[ih.month,3],[ih.year,1]],Wi=Ri.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Db]]),Xi={range:function(a,b,c){return cg.range(Math.ceil(a/c)*c,+b,c).map(_f)},floor:t,ceil:t};Vi.year=ih.year,ih.scale=function(){return $f(cg.scale.linear(),Vi,Wi)};var Yi=Vi.map(function(a){return[a[0].utc,a[1]]}),Zi=Si.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Db]]);Yi.year=ih.year.utc,ih.scale.utc=function(){return $f(cg.scale.linear(),Yi,Zi)},cg.text=Ca(function(a){return a.responseText}),cg.json=function(a,b){return Da(a,"application/json",ag,b)},cg.html=function(a,b){return Da(a,"text/html",bg,b)},cg.xml=Ca(function(a){return a.responseXML}),"function"==typeof define&&define.amd?define(cg):"object"==typeof b&&b.exports&&(b.exports=cg),this.d3=cg}()},{}],153:[function(a,b,c){(function(c){var d=a("asynclist"),e=c.nextTick,f=a("util"),g={_eventListeners:{},thenHandler:{},on:function(a,b){var c=this;return e(function(){void 0==c._eventListeners[a]?c._eventListeners[a]=[b]:c._eventListeners[a].push(b)}),this},addListener:function(a,b){var c=this;return e(function(){void 0==c._eventListeners[a]?c._eventListeners[a]=[b]:c._eventListeners[a].push(b)}),this},once:function(a,b){var c=this;return e(function(){var d=function(){b(),c.removeListner(a,d)};c.on(a,d)}),this},removeListener:function(a,b){var c=this;return e(function(){var d=c._eventListeners[a].indexOf(b);c._eventListeners[a].splice(d,1)}),this},removeAllListener:function(a){var b=this;return e(function(){b._eventListeners[a]=[]}),this},emit:function(a,b,c,f,g,h){var i=this;return e(function(){var e=i.thenHandler[a]?i.thenHandler[a]:function(){},j=void 0!==i._eventListeners[a]?i._eventListeners[a]:[],k=new d(j);k.assign(e).run(b,c,f,g,h)}),this},then:function(a,b){return this.thenHandler[a]=b,this},listeners:function(a){return void 0!==this._eventListeners[a]?this._eventListeners[a]:[]}},h=function(){};h.prototype._eventListeners=[],h.prototype.on=function(a,b){var c=this;return e(function(){void 0==c._eventListeners[a]?c._eventListeners[a]=[b]:c._eventListeners[a].push(b)}),this},h.prototype.once=function(a,b){var c=this;return e(function(){void 0==c._eventListeners[a]?c._eventListeners[a]=[b]:c._eventListeners[a].push(b)}),this},h.prototype.addListener=function(a,b){var c=this;return e(function(){void 0==c._eventListeners[a]?c._eventListeners[a]=[b]:c._eventListeners[a].push(b)}),this},h.prototype.removeListener=function(a,b){var c=this;return e(function(){var d=c._eventListeners[a].indexOf(b);c._eventListeners[a].splice(d,1)}),this},h.prototype.removeAllListener=function(a){var b=this;return e(function(){b._eventListeners[a]=[]}),this},h.prototype.emit=function(a,b,c,f,g,h){var i=this;return e(function(){var e=new d(i._eventListeners[a]),j=i.thenHandler?i.thenHandler:function(){};e.assgin(j).run(b,c,f,g,h),j=function(){}}),this},h.prototype.then=function(a){return this.thenHandler=a,this},b.exports=function(a){switch(typeof a){case"function":f.inherits(a,h);break;case"object":for(var b in g)a[b]=g[b]}return this}}).call(this,a("_process"))},{_process:161,asynclist:154,util:163}],154:[function(a,b,c){(function(c){function d(a){this.proxy=new e,this.list=a,this.length=a.length}var e=a("eventproxy").EventProxy;d.prototype.trigger=function(a){return this.proxy.trigger("finished",a),this},d.prototype.assign=function(a){return this.handler=a,this},d.prototype.run=function(a,b,d){var e=this,f=this.list;0!==this.length?e.proxy.after("finished",this.length,function(a){e.handler(a)}):e.handler([]),f.forEach(function(e){c.nextTick(function(){e(a,b,d)})})},d.prototype.compile=function(a){var b=function(b){this.list=b.map(a),this.length=b.length,this.proxy=new e};return b.prototype.trigger=function(a){return this.proxy.trigger("finished",a),this},b.prototype.assign=function(a){return this.handler=a,this},b.prototype.run=function(a,b,d){var e=this,f=this.list;0!==this.length?e.proxy.after("finished",this.length,function(a){e.handler(a)}):e.handler([]),f.forEach(function(e){c.nextTick(function(){e(a,b,d)})})},b},b.exports=d}).call(this,a("_process"))},{_process:161,eventproxy:155}],155:[function(a,b,c){b.exports=a("./lib/eventproxy")},{"./lib/eventproxy":156}],156:[function(a,b,c){(function(c){!function(c,d){var e="function"==typeof define,f="undefined"!=typeof b&&b.exports;e?(define("eventproxy_debug",function(){return function(){}}),define(["eventproxy_debug"],d)):f?b.exports=d(a("debug")("eventproxy")):this[c]=d()}("EventProxy",function(a){a=a||function(){};var b=Array.prototype.slice,d=Array.prototype.concat,e="__all__",f=function(){return this instanceof f?(this._callbacks={},void(this._fired={})):new f};f.prototype.addListener=function(b,c){return a("Add listener for %s",b),this._callbacks[b]=this._callbacks[b]||[],this._callbacks[b].push(c),this},f.prototype.bind=f.prototype.addListener,f.prototype.on=f.prototype.addListener,f.prototype.subscribe=f.prototype.addListener,f.prototype.headbind=function(b,c){return a("Add listener for %s",b),this._callbacks[b]=this._callbacks[b]||[],this._callbacks[b].unshift(c),this},f.prototype.removeListener=function(b,c){var d=this._callbacks;if(b)if(c){var e=d[b];if(e)for(var f=e.length,g=0;f>g;g++)c===e[g]&&(a("Remove a listener of %s",b),e[g]=null)}else a("Remove all listeners of %s",b),d[b]=[];else a("Remove all listeners"),this._callbacks={};return this},f.prototype.unbind=f.prototype.removeListener,f.prototype.removeAllListeners=function(a){return this.unbind(a)},f.prototype.bindForAll=function(a){this.bind(e,a)},f.prototype.unbindForAll=function(a){this.unbind(e,a)},f.prototype.trigger=function(b,c){var d,f,g,h,i,j=2,k=this._callbacks;for(a("Emit event %s with data %j",b,c);j--;)if(f=j?b:e,d=k[f])for(h=0,i=d.length;i>h;h++)if(g=d[h]){for(var l=[],m=j?1:0,n=m;n<arguments.length;n++)l.push(arguments[n]);g.apply(this,l)}else d.splice(h,1),h--,i--;return this},f.prototype.emit=f.prototype.trigger,f.prototype.fire=f.prototype.trigger,f.prototype.once=function(a,b){var c=this,d=function(){b.apply(c,arguments),c.unbind(a,d)};return this.bind(a,d),this};var g="undefined"!=typeof setImmediate&&setImmediate||"undefined"!=typeof c&&c.nextTick||function(a){setTimeout(a,0)};f.prototype.emitLater=function(){var a=this,b=arguments;g(function(){a.trigger.apply(a,b)})},f.prototype.immediate=function(a,b,c){return this.bind(a,b),this.trigger(a,c),this},f.prototype.asap=f.prototype.immediate;var h=function(c,d,e,f){var g=this,h=arguments.length,i=0,j={};if(3>h)return this;var k=b.call(arguments,0,-2),l=arguments[h-2],m=arguments[h-1];if("function"!=typeof l)return this;a("Assign listener for events %j, once is %s",k,!!m);for(var n=function(a){var b=m?"once":"bind";g[b](a,function(b){g._fired[a]=g._fired[a]||{},g._fired[a].data=b,j[a]||(j[a]=!0,i++)})},o=k.length,p=0;o>p;p++)n(k[p]);var q=function(b){if(!(o>i)&&j[b]){for(var c=[],d=0;o>d;d++)c.push(g._fired[k[d]].data);m&&g.unbindForAll(q),a("Events %j all emited with data %j",k,c),l.apply(null,c)}};g.bindForAll(q)};return f.prototype.all=function(a,b,c){var e=d.apply([],arguments);return e.push(!0),h.apply(this,e),this},f.prototype.assign=f.prototype.all,f.prototype.fail=function(a){var b=this;return b.once("error",function(){b.unbind(),a.apply(null,arguments)}),this},f.prototype["throw"]=function(){var a=this;a.emit.apply(a,["error"].concat(b.call(arguments)))},f.prototype.tail=function(){var a=d.apply([],arguments);return a.push(!1),h.apply(this,a),this},f.prototype.assignAll=f.prototype.tail,f.prototype.assignAlways=f.prototype.tail,f.prototype.after=function(b,c,d){if(0===c)return d.call(null,[]),this;var e=this,f=[];this._after=this._after||{};var g=b+"_group";this._after[g]={index:0,results:[]},a("After emit %s times, event %s's listenner will execute",c,b);var h=function(i,j){i===b&&(c--,f.push(j),1>c&&(a("Event %s was emit %s, and execute the listenner",b,c),e.unbindForAll(h),d.apply(null,[f]))),i===g&&(c--,e._after[g].results[j.index]=j.result,1>c&&(a("Event %s was emit %s, and execute the listenner",b,c),e.unbindForAll(h),d.call(null,e._after[g].results)))};return e.bindForAll(h),this},f.prototype.group=function(a,c){var d=this,e=a+"_group",f=d._after[e].index;return d._after[e].index++,function(a,g){return a?d.emit.apply(d,["error"].concat(b.call(arguments))):void d.emit(e,{index:f,result:c?c.apply(null,b.call(arguments,1)):g})}},f.prototype.any=function(){var c=this,d=arguments[arguments.length-1],e=b.call(arguments,0,-1),f=e.join("_");a("Add listenner for Any of events %j emit",e),c.once(f,d);for(var g=function(b){c.bind(b,function(d){a("One of events %j emited, execute the listenner"),c.trigger(f,{data:d,eventName:b})})},h=0;h<e.length;h++)g(e[h])},f.prototype.not=function(b,c){var d=this;a("Add listenner for not event %s",b),d.bindForAll(function(d,e){d!==b&&(a("listenner execute of event %s emit, but not event %s.",d,b),c(e))})},f.prototype.done=function(a,c){var d=this;return function(e,f){if(e)return d.emit.apply(d,["error"].concat(b.call(arguments)));var g=b.call(arguments,1);return"string"==typeof a?c?d.emit(a,c.apply(null,g)):d.emit.apply(d,[a].concat(g)):arguments.length<=2?a(f):void a.apply(null,g)}},f.prototype.doneLater=function(a,b){var c=this.done(a,b);return function(a,b){var d=arguments;g(function(){c.apply(null,d)})}},f.create=function(){var a=new f,b=d.apply([],arguments);if(b.length){var c=b[b.length-1],e=b[b.length-2];"function"==typeof c&&"function"==typeof e&&(b.pop(),a.fail(c)),a.assign.apply(a,b)}return a},f.EventProxy=f,f})}).call(this,a("_process"))},{_process:161,debug:157}],157:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?j.removeItem("debug"):j.debug=a}catch(b){}}function h(){var a;try{a=j.debug}catch(b){}return a}function i(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d;var j;j="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":158}],158:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;d>e;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:159}],159:[function(a,b,c){function d(a){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}},{}],160:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],161:[function(a,b,c){function d(){k=!1,h.length?j=h.concat(j):l=-1,j.length&&e()}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h&&h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],162:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],163:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":162,_process:161,inherits:160}],164:[function(a,b,c){(function(a){(function(a,b,c,d,e){!function(b,c){"object"==typeof a&&"object"==typeof a.exports?a.exports=b.document?c(b,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(b)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=aa.type(a);return"function"===c||aa.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function e(a,b,c){if(aa.isFunction(b))return aa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return aa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ia.test(b))return aa.filter(b,a,c);b=aa.filter(b,a)}return aa.grep(a,function(a){return V.call(b,a)>=0!==c})}function f(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function g(a){var b=pa[a]={};return aa.each(a.match(oa)||[],function(a,c){b[c]=!0}),b}function h(){$.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1),aa.ready()}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=aa.expando+i.uid++}function j(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(va,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ua.test(c)?aa.parseJSON(c):c}catch(e){}ta.set(a,b,c)}else c=void 0;return c}function k(){return!0}function l(){return!1}function m(){try{return $.activeElement}catch(a){}}function n(a,b){return aa.nodeName(a,"table")&&aa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function o(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function p(a){var b=La.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function q(a,b){for(var c=0,d=a.length;d>c;c++)sa.set(a[c],"globalEval",!b||sa.get(b[c],"globalEval"))}function r(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(sa.hasData(a)&&(f=sa.access(a),g=sa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)aa.event.add(b,e,j[e][c])}ta.hasData(a)&&(h=ta.access(a),i=aa.extend({},h),ta.set(b,i))}}function s(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&aa.nodeName(a,b)?aa.merge([a],c):c}function t(a,b){var c=b.nodeName.toLowerCase();"input"===c&&za.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function u(b,c){var d,e=aa(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:aa.css(e[0],"display");
return e.detach(),f}function v(a){var b=$,c=Pa[a];return c||(c=u(a,b),"none"!==c&&c||(Oa=(Oa||aa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Oa[0].contentDocument,b.write(),b.close(),c=u(a,b),Oa.detach()),Pa[a]=c),c}function w(a,b,c){var d,e,f,g,h=a.style;return c=c||Sa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||aa.contains(a.ownerDocument,a)||(g=aa.style(a,b)),Ra.test(g)&&Qa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function x(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function y(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ya.length;e--;)if(b=Ya[e]+c,b in a)return b;return d}function z(a,b,c){var d=Ua.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=aa.css(a,c+xa[f],!0,e)),d?("content"===c&&(g-=aa.css(a,"padding"+xa[f],!0,e)),"margin"!==c&&(g-=aa.css(a,"border"+xa[f]+"Width",!0,e))):(g+=aa.css(a,"padding"+xa[f],!0,e),"padding"!==c&&(g+=aa.css(a,"border"+xa[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Sa(a),g="border-box"===aa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=w(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ra.test(e))return e;d=g&&(Z.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=sa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&ya(d)&&(f[g]=sa.access(d,"olddisplay",v(d.nodeName)))):(e=ya(d),"none"===c&&e||sa.set(d,"olddisplay",e?c:aa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c,d,e){return new D.prototype.init(a,b,c,d,e)}function E(){return setTimeout(function(){Za=void 0}),Za=aa.now()}function F(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=xa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function G(a,b,c){for(var d,e=(db[b]||[]).concat(db["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function H(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&ya(a),p=sa.get(a,"fxshow");c.queue||(h=aa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,aa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=aa.css(a,"display"),k="none"===j?sa.get(a,"olddisplay")||v(a.nodeName):j,"inline"===k&&"none"===aa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],_a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||aa.style(a,d)}else j=void 0;if(aa.isEmptyObject(m))"inline"===("none"===j?v(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=sa.access(a,"fxshow",{}),f&&(p.hidden=!o),o?aa(a).show():l.done(function(){aa(a).hide()}),l.done(function(){var b;sa.remove(a,"fxshow");for(b in m)aa.style(a,b,m[b])});for(d in m)g=G(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function I(a,b){var c,d,e,f,g;for(c in a)if(d=aa.camelCase(c),e=b[d],f=a[c],aa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=aa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f=0,g=cb.length,h=aa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||E(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:aa.extend({},b),opts:aa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Za||E(),duration:c.duration,tweens:[],createTween:function(b,c){var d=aa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(I(k,j.opts.specialEasing);g>f;f++)if(d=cb[f].call(j,a,k,j.opts))return d;return aa.map(k,G,j),aa.isFunction(j.opts.start)&&j.opts.start.call(a,j),aa.fx.timer(aa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function K(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(oa)||[];if(aa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function L(a,b,c,d){function e(h){var i;return f[h]=!0,aa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===ub;return e(b.dataTypes[0])||!f["*"]&&e("*")}function M(a,b){var c,d,e=aa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&aa.extend(!0,a,d),a}function N(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function O(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function P(a,b,c,d){var e;if(aa.isArray(b))aa.each(b,function(b,e){c||zb.test(a)?d(a,e):P(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==aa.type(b))d(a,b);else for(e in b)P(a+"["+e+"]",b[e],c,d)}function Q(a){return aa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var R=[],S=R.slice,T=R.concat,U=R.push,V=R.indexOf,W={},X=W.toString,Y=W.hasOwnProperty,Z={},$=a.document,_="2.1.4",aa=function(a,b){return new aa.fn.init(a,b)},ba=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ca=/^-ms-/,da=/-([\da-z])/gi,ea=function(a,b){return b.toUpperCase()};aa.fn=aa.prototype={jquery:_,constructor:aa,selector:"",length:0,toArray:function(){return S.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:S.call(this)},pushStack:function(a){var b=aa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return aa.each(this,a,b)},map:function(a){return this.pushStack(aa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(S.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:R.sort,splice:R.splice},aa.extend=aa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||aa.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(aa.isPlainObject(d)||(e=aa.isArray(d)))?(e?(e=!1,f=c&&aa.isArray(c)?c:[]):f=c&&aa.isPlainObject(c)?c:{},g[b]=aa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},aa.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===aa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!aa.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==aa.type(a)||a.nodeType||aa.isWindow(a)?!1:a.constructor&&!Y.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?W[X.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=aa.trim(a),a&&(1===a.indexOf("use strict")?(b=$.createElement("script"),b.text=a,$.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ca,"ms-").replace(da,ea)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ba,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?aa.merge(d,"string"==typeof a?[a]:a):U.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:V.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return T.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),aa.isFunction(a)?(d=S.call(arguments,2),e=function(){return a.apply(b||this,d.concat(S.call(arguments)))},e.guid=a.guid=a.guid||aa.guid++,e):void 0},now:Date.now,support:Z}),aa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){W["[object "+b+"]"]=b.toLowerCase()});var fa=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);aa.find=fa,aa.expr=fa.selectors,aa.expr[":"]=aa.expr.pseudos,aa.unique=fa.uniqueSort,aa.text=fa.getText,aa.isXMLDoc=fa.isXML,aa.contains=fa.contains;var ga=aa.expr.match.needsContext,ha=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ia=/^.[^:#\[\.,]*$/;aa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?aa.find.matchesSelector(d,a)?[d]:[]:aa.find.matches(a,aa.grep(b,function(a){return 1===a.nodeType}))},aa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(aa(a).filter(function(){for(b=0;c>b;b++)if(aa.contains(e[b],this))return!0}));for(b=0;c>b;b++)aa.find(a,e[b],d);return d=this.pushStack(c>1?aa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&ga.test(a)?aa(a):a||[],!1).length}});var ja,ka=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,la=aa.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ka.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ja).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof aa?b[0]:b,aa.merge(this,aa.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:$,!0)),ha.test(c[1])&&aa.isPlainObject(b))for(c in b)aa.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=$.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=$,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):aa.isFunction(a)?"undefined"!=typeof ja.ready?ja.ready(a):a(aa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),aa.makeArray(a,this))};la.prototype=aa.fn,ja=aa($);var ma=/^(?:parents|prev(?:Until|All))/,na={children:!0,contents:!0,next:!0,prev:!0};aa.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&aa(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),aa.fn.extend({has:function(a){var b=aa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(aa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ga.test(a)||"string"!=typeof a?aa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&aa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?aa.unique(f):f)},index:function(a){return a?"string"==typeof a?V.call(aa(a),this[0]):V.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(aa.unique(aa.merge(this.get(),aa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),aa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return aa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return aa.dir(a,"parentNode",c);
},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return aa.dir(a,"nextSibling")},prevAll:function(a){return aa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return aa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return aa.dir(a,"previousSibling",c)},siblings:function(a){return aa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return aa.sibling(a.firstChild)},contents:function(a){return a.contentDocument||aa.merge([],a.childNodes)}},function(a,b){aa.fn[a]=function(c,d){var e=aa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=aa.filter(d,e)),this.length>1&&(na[a]||aa.unique(e),ma.test(a)&&e.reverse()),this.pushStack(e)}});var oa=/\S+/g,pa={};aa.Callbacks=function(a){a="string"==typeof a?pa[a]||g(a):aa.extend({},a);var b,c,d,e,f,h,i=[],j=!a.once&&[],k=function(g){for(b=a.memory&&g,c=!0,h=e||0,e=0,f=i.length,d=!0;i&&f>h;h++)if(i[h].apply(g[0],g[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function g(b){aa.each(b,function(b,c){var d=aa.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&aa.each(arguments,function(a,b){for(var c;(c=aa.inArray(b,i,c))>-1;)i.splice(c,1),d&&(f>=c&&f--,h>=c&&h--)}),this},has:function(a){return a?aa.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],f=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},aa.extend({Deferred:function(a){var b=[["resolve","done",aa.Callbacks("once memory"),"resolved"],["reject","fail",aa.Callbacks("once memory"),"rejected"],["notify","progress",aa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return aa.Deferred(function(c){aa.each(b,function(b,f){var g=aa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&aa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?aa.extend(a,d):d}},e={};return d.pipe=d.then,aa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=S.call(arguments),g=f.length,h=1!==g||a&&aa.isFunction(a.promise)?g:0,i=1===h?a:aa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?S.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&aa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var qa;aa.fn.ready=function(a){return aa.ready.promise().done(a),this},aa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?aa.readyWait++:aa.ready(!0)},ready:function(a){(a===!0?--aa.readyWait:aa.isReady)||(aa.isReady=!0,a!==!0&&--aa.readyWait>0||(qa.resolveWith($,[aa]),aa.fn.triggerHandler&&(aa($).triggerHandler("ready"),aa($).off("ready"))))}}),aa.ready.promise=function(b){return qa||(qa=aa.Deferred(),"complete"===$.readyState?setTimeout(aa.ready):($.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1))),qa.promise(b)},aa.ready.promise();var ra=aa.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===aa.type(c)){e=!0;for(h in c)aa.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,aa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(aa(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};aa.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},i.uid=1,i.accepts=aa.acceptData,i.prototype={key:function(a){if(!i.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=i.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,aa.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(aa.isEmptyObject(f))aa.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,aa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{aa.isArray(b)?d=b.concat(b.map(aa.camelCase)):(e=aa.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(oa)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!aa.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var sa=new i,ta=new i,ua=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,va=/([A-Z])/g;aa.extend({hasData:function(a){return ta.hasData(a)||sa.hasData(a)},data:function(a,b,c){return ta.access(a,b,c)},removeData:function(a,b){ta.remove(a,b)},_data:function(a,b,c){return sa.access(a,b,c)},_removeData:function(a,b){sa.remove(a,b)}}),aa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ta.get(f),1===f.nodeType&&!sa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=aa.camelCase(d.slice(5)),j(f,d,e[d])));sa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ta.set(this,a)}):ra(this,function(b){var c,d=aa.camelCase(a);if(f&&void 0===b){if(c=ta.get(f,a),void 0!==c)return c;if(c=ta.get(f,d),void 0!==c)return c;if(c=j(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=ta.get(this,d);ta.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&ta.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ta.remove(this,a)})}}),aa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=sa.get(a,b),c&&(!d||aa.isArray(c)?d=sa.access(a,b,aa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=aa.queue(a,b),d=c.length,e=c.shift(),f=aa._queueHooks(a,b),g=function(){aa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return sa.get(a,c)||sa.access(a,c,{empty:aa.Callbacks("once memory").add(function(){sa.remove(a,[b+"queue",c])})})}}),aa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?aa.queue(this[0],a):void 0===b?this:this.each(function(){var c=aa.queue(this,a,b);aa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&aa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){aa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=aa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=sa.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var wa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xa=["Top","Right","Bottom","Left"],ya=function(a,b){return a=b||a,"none"===aa.css(a,"display")||!aa.contains(a.ownerDocument,a)},za=/^(?:checkbox|radio)$/i;!function(){var a=$.createDocumentFragment(),b=a.appendChild($.createElement("div")),c=$.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Z.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Aa="undefined";Z.focusinBubbles="onfocusin"in a;var Ba=/^key/,Ca=/^(?:mouse|pointer|contextmenu)|click/,Da=/^(?:focusinfocus|focusoutblur)$/,Ea=/^([^.]*)(?:\.(.+)|)$/;aa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=sa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=aa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof aa!==Aa&&aa.event.triggered!==b.type?aa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(oa)||[""],j=b.length;j--;)h=Ea.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=aa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=aa.event.special[n]||{},k=aa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&aa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),aa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=sa.hasData(a)&&sa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(oa)||[""],j=b.length;j--;)if(h=Ea.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=aa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||aa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)aa.event.remove(a,n+b[j],c,d,!0);aa.isEmptyObject(i)&&(delete q.handle,sa.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||$],n=Y.call(b,"type")?b.type:b,o=Y.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||$,3!==d.nodeType&&8!==d.nodeType&&!Da.test(n+aa.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[aa.expando]?b:new aa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:aa.makeArray(c,[b]),l=aa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!aa.isWindow(d)){for(i=l.delegateType||n,Da.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||$)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(sa.get(g,"events")||{})[b.type]&&sa.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&aa.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!aa.acceptData(d)||j&&aa.isFunction(d[n])&&!aa.isWindow(d)&&(h=d[j],h&&(d[j]=null),aa.event.triggered=n,d[n](),aa.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=aa.event.fix(a);var b,c,d,e,f,g=[],h=S.call(arguments),i=(sa.get(this,"events")||{})[a.type]||[],j=aa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=aa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((aa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?aa(e,this).index(i)>=0:aa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||$,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[aa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ca.test(e)?this.mouseHooks:Ba.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new aa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=$),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&aa.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return aa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=aa.extend(new aa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?aa.event.trigger(e,null,b):aa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},aa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},aa.Event=function(a,b){return this instanceof aa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?k:l):this.type=a,b&&aa.extend(this,b),this.timeStamp=a&&a.timeStamp||aa.now(),void(this[aa.expando]=!0)):new aa.Event(a,b)},aa.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=k,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=k,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=k,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},aa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){aa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!aa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Z.focusinBubbles||aa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){aa.event.simulate(b,a.target,aa.event.fix(a),!0)};aa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=sa.access(d,b);e||d.addEventListener(a,c,!0),sa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=sa.access(d,b)-1;e?sa.access(d,b,e):(d.removeEventListener(a,c,!0),sa.remove(d,b))}}}),aa.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=l;else if(!d)return this;return 1===e&&(f=d,d=function(a){return aa().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=aa.guid++)),this.each(function(){aa.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,aa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=l),this.each(function(){aa.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){aa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?aa.event.trigger(a,b,c,!0):void 0}});var Fa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ga=/<([\w:]+)/,Ha=/<|&#?\w+;/,Ia=/<(?:script|style|link)/i,Ja=/checked\s*(?:[^=]|=\s*.checked.)/i,Ka=/^$|\/(?:java|ecma)script/i,La=/^true\/(.*)/,Ma=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Na={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Na.optgroup=Na.option,Na.tbody=Na.tfoot=Na.colgroup=Na.caption=Na.thead,Na.th=Na.td,aa.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=aa.contains(a.ownerDocument,a);if(!(Z.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||aa.isXMLDoc(a)))for(g=s(h),f=s(a),d=0,e=f.length;e>d;d++)t(f[d],g[d]);if(b)if(c)for(f=f||s(a),g=g||s(h),d=0,e=f.length;e>d;d++)r(f[d],g[d]);else r(a,h);return g=s(h,"script"),g.length>0&&q(g,!i&&s(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===aa.type(e))aa.merge(l,e.nodeType?[e]:e);else if(Ha.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Ga.exec(e)||["",""])[1].toLowerCase(),h=Na[g]||Na._default,f.innerHTML=h[1]+e.replace(Fa,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;aa.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===aa.inArray(e,d))&&(i=aa.contains(e.ownerDocument,e),f=s(k.appendChild(e),"script"),i&&q(f),c))for(j=0;e=f[j++];)Ka.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=aa.event.special,g=0;void 0!==(c=a[g]);g++){if(aa.acceptData(c)&&(e=c[sa.expando],e&&(b=sa.cache[e]))){if(b.events)for(d in b.events)f[d]?aa.event.remove(c,d):aa.removeEvent(c,d,b.handle);sa.cache[e]&&delete sa.cache[e]}delete ta.cache[c[ta.expando]]}}}),aa.fn.extend({text:function(a){return ra(this,function(a){return void 0===a?aa.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=n(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=n(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?aa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||aa.cleanData(s(c)),c.parentNode&&(b&&aa.contains(c.ownerDocument,c)&&q(s(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(aa.cleanData(s(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return aa.clone(this,a,b)})},html:function(a){return ra(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ia.test(a)&&!Na[(Ga.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Fa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(aa.cleanData(s(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,aa.cleanData(s(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=T.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=aa.isFunction(m);if(n||j>1&&"string"==typeof m&&!Z.checkClone&&Ja.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=aa.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=aa.map(s(c,"script"),o),f=e.length;j>i;i++)g=c,i!==l&&(g=aa.clone(g,!0,!0),f&&aa.merge(e,s(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,aa.map(e,p),i=0;f>i;i++)g=e[i],Ka.test(g.type||"")&&!sa.access(g,"globalEval")&&aa.contains(h,g)&&(g.src?aa._evalUrl&&aa._evalUrl(g.src):aa.globalEval(g.textContent.replace(Ma,"")))}return this}}),aa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){aa.fn[a]=function(a){for(var c,d=[],e=aa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),aa(e[g])[b](c),U.apply(d,c.get());return this.pushStack(d)}});var Oa,Pa={},Qa=/^margin/,Ra=new RegExp("^("+wa+")(?!px)[a-z%]+$","i"),Sa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=$.documentElement,f=$.createElement("div"),g=$.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&aa.extend(Z,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild($.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),aa.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ta=/^(none|table(?!-c[ea]).+)/,Ua=new RegExp("^("+wa+")(.*)$","i"),Va=new RegExp("^([+-])=("+wa+")","i"),Wa={position:"absolute",visibility:"hidden",display:"block"},Xa={letterSpacing:"0",fontWeight:"400"},Ya=["Webkit","O","Moz","ms"];aa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=w(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=aa.camelCase(b),i=a.style;return b=aa.cssProps[h]||(aa.cssProps[h]=y(i,h)),g=aa.cssHooks[b]||aa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Va.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(aa.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||aa.cssNumber[h]||(c+="px"),Z.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=aa.camelCase(b);return b=aa.cssProps[h]||(aa.cssProps[h]=y(a.style,h)),g=aa.cssHooks[b]||aa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=w(a,b,d)),"normal"===e&&b in Xa&&(e=Xa[b]),""===c||c?(f=parseFloat(e),c===!0||aa.isNumeric(f)?f||0:e):e}}),aa.each(["height","width"],function(a,b){aa.cssHooks[b]={get:function(a,c,d){return c?Ta.test(aa.css(a,"display"))&&0===a.offsetWidth?aa.swap(a,Wa,function(){return B(a,b,d)}):B(a,b,d):void 0},set:function(a,c,d){var e=d&&Sa(a);return z(a,c,d?A(a,b,d,"border-box"===aa.css(a,"boxSizing",!1,e),e):0)}}}),aa.cssHooks.marginRight=x(Z.reliableMarginRight,function(a,b){return b?aa.swap(a,{display:"inline-block"},w,[a,"marginRight"]):void 0}),aa.each({margin:"",padding:"",border:"Width"},function(a,b){aa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xa[d]+b]=f[d]||f[d-2]||f[0];return e}},Qa.test(a)||(aa.cssHooks[a+b].set=z)}),aa.fn.extend({css:function(a,b){return ra(this,function(a,b,c){var d,e,f={},g=0;if(aa.isArray(b)){for(d=Sa(a),e=b.length;e>g;g++)f[b[g]]=aa.css(a,b[g],!1,d);return f}return void 0!==c?aa.style(a,b,c):aa.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ya(this)?aa(this).show():aa(this).hide()})}}),aa.Tween=D,D.prototype={constructor:D,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(aa.cssNumber[c]?"":"px")},cur:function(){var a=D.propHooks[this.prop];return a&&a.get?a.get(this):D.propHooks._default.get(this)},run:function(a){var b,c=D.propHooks[this.prop];return this.options.duration?this.pos=b=aa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=aa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){aa.fx.step[a.prop]?aa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[aa.cssProps[a.prop]]||aa.cssHooks[a.prop])?aa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},aa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},aa.fx=D.prototype.init,aa.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=new RegExp("^(?:([+-])=|)("+wa+")([a-z%]*)$","i"),bb=/queueHooks$/,cb=[H],db={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=ab.exec(b),f=e&&e[3]||(aa.cssNumber[a]?"":"px"),g=(aa.cssNumber[a]||"px"!==f&&+d)&&ab.exec(aa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,aa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};aa.Animation=aa.extend(J,{tweener:function(a,b){aa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],db[c]=db[c]||[],db[c].unshift(b)},prefilter:function(a,b){b?cb.unshift(a):cb.push(a)}}),aa.speed=function(a,b,c){var d=a&&"object"==typeof a?aa.extend({},a):{complete:c||!c&&b||aa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!aa.isFunction(b)&&b};return d.duration=aa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in aa.fx.speeds?aa.fx.speeds[d.duration]:aa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){aa.isFunction(d.old)&&d.old.call(this),d.queue&&aa.dequeue(this,d.queue)},d},aa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ya).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=aa.isEmptyObject(a),f=aa.speed(b,c,d),g=function(){var b=J(this,aa.extend({},a),f);(e||sa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=aa.timers,g=sa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&bb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&aa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=sa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=aa.timers,g=d?d.length:0;for(c.finish=!0,aa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),aa.each(["toggle","show","hide"],function(a,b){var c=aa.fn[b];aa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(F(b,!0),a,d,e)}}),aa.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){aa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),aa.timers=[],aa.fx.tick=function(){var a,b=0,c=aa.timers;for(Za=aa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||aa.fx.stop(),Za=void 0},aa.fx.timer=function(a){aa.timers.push(a),a()?aa.fx.start():aa.timers.pop()},aa.fx.interval=13,aa.fx.start=function(){$a||($a=setInterval(aa.fx.tick,aa.fx.interval))},aa.fx.stop=function(){clearInterval($a),$a=null},aa.fx.speeds={slow:600,fast:200,_default:400},aa.fn.delay=function(a,b){return a=aa.fx?aa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=$.createElement("input"),b=$.createElement("select"),c=b.appendChild($.createElement("option"));a.type="checkbox",Z.checkOn=""!==a.value,Z.optSelected=c.selected,b.disabled=!0,Z.optDisabled=!c.disabled,a=$.createElement("input"),a.value="t",a.type="radio",Z.radioValue="t"===a.value}();var eb,fb,gb=aa.expr.attrHandle;aa.fn.extend({attr:function(a,b){return ra(this,aa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){aa.removeAttr(this,a)})}}),aa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===Aa?aa.prop(a,b,c):(1===f&&aa.isXMLDoc(a)||(b=b.toLowerCase(),d=aa.attrHooks[b]||(aa.expr.match.bool.test(b)?fb:eb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=aa.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void aa.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(oa);if(f&&1===a.nodeType)for(;c=f[e++];)d=aa.propFix[c]||c,aa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Z.radioValue&&"radio"===b&&aa.nodeName(a,"input")){
var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),fb={set:function(a,b,c){return b===!1?aa.removeAttr(a,c):a.setAttribute(c,c),c}},aa.each(aa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=gb[b]||aa.find.attr;gb[b]=function(a,b,d){var e,f;return d||(f=gb[b],gb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,gb[b]=f),e}});var hb=/^(?:input|select|textarea|button)$/i;aa.fn.extend({prop:function(a,b){return ra(this,aa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[aa.propFix[a]||a]})}}),aa.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!aa.isXMLDoc(a),f&&(b=aa.propFix[b]||b,e=aa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||hb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Z.optSelected||(aa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),aa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){aa.propFix[this.toLowerCase()]=this});var ib=/[\t\r\n\f]/g;aa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(aa.isFunction(a))return this.each(function(b){aa(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(oa)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ib," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=aa.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(aa.isFunction(a))return this.each(function(b){aa(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(oa)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ib," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?aa.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):aa.isFunction(a)?this.each(function(c){aa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=aa(this),f=a.match(oa)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===Aa||"boolean"===c)&&(this.className&&sa.set(this,"__className__",this.className),this.className=this.className||a===!1?"":sa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ib," ").indexOf(b)>=0)return!0;return!1}});var jb=/\r/g;aa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=aa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,aa(this).val()):a,null==e?e="":"number"==typeof e?e+="":aa.isArray(e)&&(e=aa.map(e,function(a){return null==a?"":a+""})),b=aa.valHooks[this.type]||aa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=aa.valHooks[e.type]||aa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(jb,""):null==c?"":c)}}}),aa.extend({valHooks:{option:{get:function(a){var b=aa.find.attr(a,"value");return null!=b?b:aa.trim(aa.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(Z.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!aa.nodeName(c.parentNode,"optgroup"))){if(b=aa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=aa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=aa.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),aa.each(["radio","checkbox"],function(){aa.valHooks[this]={set:function(a,b){return aa.isArray(b)?a.checked=aa.inArray(aa(a).val(),b)>=0:void 0}},Z.checkOn||(aa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),aa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){aa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),aa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var kb=aa.now(),lb=/\?/;aa.parseJSON=function(a){return JSON.parse(a+"")},aa.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&aa.error("Invalid XML: "+a),b};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,tb={},ub={},vb="*/".concat("*"),wb=a.location.href,xb=sb.exec(wb.toLowerCase())||[];aa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wb,type:"GET",isLocal:pb.test(xb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":aa.parseJSON,"text xml":aa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?M(M(a,aa.ajaxSettings),b):M(aa.ajaxSettings,a)},ajaxPrefilter:K(tb),ajaxTransport:K(ub),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=N(l,v,c)),s=O(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(aa.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(aa.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--aa.active||aa.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=aa.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?aa(m):aa.event,o=aa.Deferred(),p=aa.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=ob.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||wb)+"").replace(mb,"").replace(rb,xb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=aa.trim(l.dataType||"*").toLowerCase().match(oa)||[""],null==l.crossDomain&&(i=sb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===xb[1]&&i[2]===xb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(xb[3]||("http:"===xb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=aa.param(l.data,l.traditional)),L(tb,l,b,v),2===t)return v;j=aa.event&&l.global,j&&0===aa.active++&&aa.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!qb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(lb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=nb.test(e)?e.replace(nb,"$1_="+kb++):e+(lb.test(e)?"&":"?")+"_="+kb++)),l.ifModified&&(aa.lastModified[e]&&v.setRequestHeader("If-Modified-Since",aa.lastModified[e]),aa.etag[e]&&v.setRequestHeader("If-None-Match",aa.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+vb+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=L(ub,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return aa.get(a,b,c,"json")},getScript:function(a,b){return aa.get(a,void 0,b,"script")}}),aa.each(["get","post"],function(a,b){aa[b]=function(a,c,d,e){return aa.isFunction(c)&&(e=e||d,d=c,c=void 0),aa.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),aa._evalUrl=function(a){return aa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},aa.fn.extend({wrapAll:function(a){var b;return aa.isFunction(a)?this.each(function(b){aa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=aa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return aa.isFunction(a)?this.each(function(b){aa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=aa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=aa.isFunction(a);return this.each(function(c){aa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){aa.nodeName(this,"body")||aa(this).replaceWith(this.childNodes)}).end()}}),aa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},aa.expr.filters.visible=function(a){return!aa.expr.filters.hidden(a)};var yb=/%20/g,zb=/\[\]$/,Ab=/\r?\n/g,Bb=/^(?:submit|button|image|reset|file)$/i,Cb=/^(?:input|select|textarea|keygen)/i;aa.param=function(a,b){var c,d=[],e=function(a,b){b=aa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=aa.ajaxSettings&&aa.ajaxSettings.traditional),aa.isArray(a)||a.jquery&&!aa.isPlainObject(a))aa.each(a,function(){e(this.name,this.value)});else for(c in a)P(c,a[c],b,e);return d.join("&").replace(yb,"+")},aa.fn.extend({serialize:function(){return aa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=aa.prop(this,"elements");return a?aa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!aa(this).is(":disabled")&&Cb.test(this.nodeName)&&!Bb.test(a)&&(this.checked||!za.test(a))}).map(function(a,b){var c=aa(this).val();return null==c?null:aa.isArray(c)?aa.map(c,function(a){return{name:b.name,value:a.replace(Ab,"\r\n")}}):{name:b.name,value:c.replace(Ab,"\r\n")}}).get()}}),aa.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Db=0,Eb={},Fb={0:200,1223:204},Gb=aa.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Eb)Eb[a]()}),Z.cors=!!Gb&&"withCredentials"in Gb,Z.ajax=Gb=!!Gb,aa.ajaxTransport(function(a){var b;return Z.cors||Gb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Db;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Eb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Eb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),aa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return aa.globalEval(a),a}}}),aa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),aa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=aa("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),$.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hb=[],Ib=/(=)\?(?=&|$)|\?\?/;aa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hb.pop()||aa.expando+"_"+kb++;return this[a]=!0,a}}),aa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ib.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ib.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=aa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ib,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||aa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hb.push(e)),g&&aa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),aa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||$;var d=ha.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=aa.buildFragment([a],b,e),e&&e.length&&aa(e).remove(),aa.merge([],d.childNodes))};var Jb=aa.fn.load;aa.fn.load=function(a,b,c){if("string"!=typeof a&&Jb)return Jb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=aa.trim(a.slice(h)),a=a.slice(0,h)),aa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&aa.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?aa("<div>").append(aa.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},aa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){aa.fn[b]=function(a){return this.on(b,a)}}),aa.expr.filters.animated=function(a){return aa.grep(aa.timers,function(b){return a===b.elem}).length};var Kb=a.document.documentElement;aa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=aa.css(a,"position"),l=aa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=aa.css(a,"top"),i=aa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),aa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},aa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){aa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,aa.contains(b,d)?(typeof d.getBoundingClientRect!==Aa&&(e=d.getBoundingClientRect()),c=Q(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===aa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),aa.nodeName(a[0],"html")||(d=a.offset()),d.top+=aa.css(a[0],"borderTopWidth",!0),d.left+=aa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-aa.css(c,"marginTop",!0),left:b.left-d.left-aa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kb;a&&!aa.nodeName(a,"html")&&"static"===aa.css(a,"position");)a=a.offsetParent;return a||Kb})}}),aa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;aa.fn[b]=function(e){return ra(this,function(b,e,f){var g=Q(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),aa.each(["top","left"],function(a,b){aa.cssHooks[b]=x(Z.pixelPosition,function(a,c){return c?(c=w(a,b),Ra.test(c)?aa(a).position()[b]+"px":c):void 0})}),aa.each({Height:"height",Width:"width"},function(a,b){aa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){aa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return ra(this,function(b,c,d){var e;return aa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?aa.css(b,c,g):aa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),aa.fn.size=function(){return this.length},aa.fn.andSelf=aa.fn.addBack,"function"==typeof d&&d.amd&&d("jquery",[],function(){return aa});var Lb=a.jQuery,Mb=a.$;return aa.noConflict=function(b){return a.$===aa&&(a.$=Mb),b&&a.jQuery===aa&&(a.jQuery=Lb),aa},typeof b===Aa&&(a.jQuery=a.$=aa),aa}),e("undefined"!=typeof $?$:window.$)}).call(a,void 0,void 0,void 0,void 0,function(a){b.exports=a})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],165:[function(a,b,c){var d=a("./src/ParseError"),e=a("./src/Settings"),f=a("./src/buildTree"),g=a("./src/parseTree"),h=a("./src/utils"),i=function(a,b,c){h.clearNode(b);var d=new e(c),i=g(a,d),j=f(i,a,d).toNode();b.appendChild(j)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),i=function(){throw new d("KaTeX doesn't work in quirks mode.")});var j=function(a,b){var c=new e(b),d=g(a,c);return f(d,a,c).toMarkup()},k=function(a,b){var c=new e(b);return g(a,c)};b.exports={render:i,renderToString:j,__parse:k,ParseError:d}},{"./src/ParseError":169,"./src/Settings":171,"./src/buildTree":176,"./src/parseTree":185,"./src/utils":187}],166:[function(a,b,c){"use strict";function d(a){if(!a.__matchAtRelocatable){var b=a.source+"|()",c="g"+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"");a.__matchAtRelocatable=new RegExp(b,c)}return a.__matchAtRelocatable}function e(a,b,c){if(a.global||a.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var e=d(a);e.lastIndex=c;var f=e.exec(b);return null==f[f.length-1]?(f.length=f.length-1,f):null}b.exports=e},{}],167:[function(a,b,c){function d(a){this._input=a}function e(a,b,c){this.text=a,this.data=b,this.position=c}var f=a("match-at"),g=a("./ParseError"),h=[/[/|@.""`0-9a-zA-Z]/,/[*+-]/,/[=<>:]/,/[,;]/,/['\^_{}]/,/[(\[]/,/[)\]?!]/,/~/,/&/,/\\\\/],i=[/[a-zA-Z0-9`!@*()-=+\[\]'";:?\/.,]/,/[{}]/,/~/,/&/,/\\\\/],j=/\s*/,k=/ +|\\  +/,l=/\\(?:[a-zA-Z]+|.)/;d.prototype._innerLex=function(a,b,c){var d,h=this._input;if(c)d=f(j,h,a)[0],a+=d.length;else if(d=f(k,h,a),null!==d)return new e(" ",null,a+d[0].length);if(a===h.length)return new e("EOF",null,a);var i;if(i=f(l,h,a))return new e(i[0],null,a+i[0].length);for(var m=0;m<b.length;m++){var n=b[m];if(i=f(n,h,a))return new e(i[0],null,a+i[0].length)}throw new g("Unexpected character: '"+h[a]+"'",this,a)};var m=/#[a-z0-9]+|[a-z]+/i;d.prototype._innerLexColor=function(a){var b=this._input,c=f(j,b,a)[0];a+=c.length;var d;if(d=f(m,b,a))return new e(d[0],null,a+d[0].length);throw new g("Invalid color",this,a)};var n=/(-?)\s*(\d+(?:\.\d*)?|\.\d+)\s*([a-z]{2})/;d.prototype._innerLexSize=function(a){var b=this._input,c=f(j,b,a)[0];a+=c.length;var d;if(d=f(n,b,a)){var h=d[3];if("em"!==h&&"ex"!==h)throw new g("Invalid unit: '"+h+"'",this,a);return new e(d[0],{number:+(d[1]+d[2]),unit:h},a+d[0].length)}throw new g("Invalid size",this,a)},d.prototype._innerLexWhitespace=function(a){var b=this._input,c=f(j,b,a)[0];return a+=c.length,new e(c[0],null,a)},d.prototype.lex=function(a,b){return"math"===b?this._innerLex(a,h,!0):"text"===b?this._innerLex(a,i,!1):"color"===b?this._innerLexColor(a):"size"===b?this._innerLexSize(a):"whitespace"===b?this._innerLexWhitespace(a):void 0},b.exports=d},{"./ParseError":169,"match-at":166}],168:[function(a,b,c){function d(a){this.style=a.style,this.color=a.color,this.size=a.size,this.phantom=a.phantom,void 0===a.parentStyle?this.parentStyle=a.style:this.parentStyle=a.parentStyle,void 0===a.parentSize?this.parentSize=a.size:this.parentSize=a.parentSize}d.prototype.extend=function(a){var b={style:this.style,size:this.size,color:this.color,parentStyle:this.style,parentSize:this.size,phantom:this.phantom};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return new d(b)},d.prototype.withStyle=function(a){return this.extend({style:a})},d.prototype.withSize=function(a){return this.extend({size:a})},d.prototype.withColor=function(a){return this.extend({color:a})},d.prototype.withPhantom=function(){return this.extend({phantom:!0})},d.prototype.reset=function(){return this.extend({})};var e={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#c7e9f1","katex-blueB":"#9cdceb","katex-blueC":"#58c4dd","katex-blueD":"#29abca","katex-blueE":"#1c758a","katex-tealA":"#acead7","katex-tealB":"#76ddc0","katex-tealC":"#5cd0b3","katex-tealD":"#55c1a7","katex-tealE":"#49a88f","katex-greenA":"#c9e2ae","katex-greenB":"#a6cf8c","katex-greenC":"#83c167","katex-greenD":"#77b05d","katex-greenE":"#699c52","katex-goldA":"#f7c797","katex-goldB":"#f9b775","katex-goldC":"#f0ac5f","katex-goldD":"#e1a158","katex-goldE":"#c78d46","katex-redA":"#f7a1a3","katex-redB":"#ff8080","katex-redC":"#fc6255","katex-redD":"#e65a4c","katex-redE":"#cf5044","katex-maroonA":"#ecabc1","katex-maroonB":"#ec92ab","katex-maroonC":"#c55f73","katex-maroonD":"#a24d61","katex-maroonE":"#94424f","katex-purpleA":"#caa3e8","katex-purpleB":"#b189c6","katex-purpleC":"#9a72ac","katex-purpleD":"#715582","katex-purpleE":"#644172","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#fdfdfd","katex-grayB":"#f7f7f7","katex-grayC":"#eeeeee","katex-grayD":"#dddddd","katex-grayE":"#cccccc","katex-grayF":"#aaaaaa","katex-grayG":"#999999","katex-grayH":"#555555","katex-grayI":"#333333","katex-kaBlue":"#314453","katex-kaGreen":"#639b24"};d.prototype.getColor=function(){return this.phantom?"transparent":e[this.color]||this.color},b.exports=d},{}],169:[function(a,b,c){function d(a,b,c){var e="KaTeX parse error: "+a;if(void 0!==b&&void 0!==c){e+=" at position "+c+": ";var f=b._input;f=f.slice(0,c)+"̲"+f.slice(c);var g=Math.max(0,c-15),h=c+15;e+=f.slice(g,h)}var i=new Error(e);return i.name="ParseError",i.__proto__=d.prototype,i.position=c,i}d.prototype.__proto__=Error.prototype,b.exports=d},{}],170:[function(a,b,c){function d(a,b){this.lexer=new h(a),this.settings=b}function e(a,b){this.result=a,this.isFunction=b}var f=a("./functions"),g=a("./environments"),h=a("./Lexer"),i=a("./symbols"),j=a("./utils"),k=a("./parseData"),l=a("./ParseError"),m=k.ParseNode,n=k.ParseResult;d.prototype.expect=function(a,b){if(a.text!==b)throw new l("Expected '"+b+"', got '"+a.text+"'",this.lexer,a.position)},d.prototype.parse=function(a){var b=this.parseInput(0,"math");return b.result},d.prototype.parseInput=function(a,b){var c=this.parseExpression(a,b,!1);return this.expect(c.peek,"EOF"),c};var o=["}","\\end","\\right","&","\\\\","\\cr"];d.prototype.parseExpression=function(a,b,c,d){for(var e=[],f=null;;){if(f=this.lexer.lex(a,b),-1!==o.indexOf(f.text))break;if(d&&f.text===d)break;var g=this.parseAtom(a,b);if(!g)break;if(c&&"infix"===g.result.type)break;e.push(g.result),a=g.position}var h=new n(this.handleInfixNodes(e,b),a);return h.peek=f,h},d.prototype.handleInfixNodes=function(a,b){for(var c,d,e=-1,g=0;g<a.length;g++){var h=a[g];if("infix"===h.type){if(-1!==e)throw new l("only one infix operator per group",this.lexer,-1);e=g,d=h.value.replaceWith,c=f.funcs[d]}}if(-1!==e){var i,j,k=a.slice(0,e),n=a.slice(e+1);i=1===k.length&&"ordgroup"===k[0].type?k[0]:new m("ordgroup",k,b),j=1===n.length&&"ordgroup"===n[0].type?n[0]:new m("ordgroup",n,b);var o=c.handler(d,i,j);return[new m(o.type,o,b)]}return a};var p=1;d.prototype.handleSupSubscript=function(a,b,c,d){var e=this.parseGroup(a,b);if(e){if(e.isFunction){var g=f.funcs[e.result.result].greediness;if(g>p)return this.parseFunction(a,b);throw new l("Got function '"+e.result.result+"' with no arguments as "+d,this.lexer,a)}return e.result}throw new l("Expected group after '"+c+"'",this.lexer,a)},d.prototype.parseAtom=function(a,b){var c=this.parseImplicitGroup(a,b);if("text"===b)return c;var d;c?d=c.position:(d=a,c=void 0);for(var e,f,g;;){var h=this.lexer.lex(d,b);if("^"===h.text){if(e)throw new l("Double superscript",this.lexer,d);g=this.handleSupSubscript(h.position,b,h.text,"superscript"),d=g.position,e=g.result}else if("_"===h.text){if(f)throw new l("Double subscript",this.lexer,d);g=this.handleSupSubscript(h.position,b,h.text,"subscript"),d=g.position,f=g.result}else{if("'"!==h.text)break;var i=new m("textord","\\prime",b),j=[i];for(d=h.position;"'"===(h=this.lexer.lex(d,b)).text;)j.push(i),d=h.position;e=new m("ordgroup",j,b)}}return e||f?new n(new m("supsub",{base:c&&c.result,sup:e,sub:f},b),d):c};var q=["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],r=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];d.prototype.parseImplicitGroup=function(a,b){var c=this.parseSymbol(a,b);if(!c||!c.result)return this.parseFunction(a,b);var d,e=c.result.result;if("\\left"===e){var f=this.parseFunction(a,b);d=this.parseExpression(f.position,b,!1),this.expect(d.peek,"\\right");var h=this.parseFunction(d.position,b);return new n(new m("leftright",{body:d.result,left:f.result.value.value,right:h.result.value.value},b),h.position)}if("\\begin"===e){var i=this.parseFunction(a,b),k=i.result.value.name;if(!g.hasOwnProperty(k))throw new l("No such environment: "+k,this.lexer,i.result.value.namepos);var o=g[k],p=[null,b,k],s=this.parseArguments(i.position,b,"\\begin{"+k+"}",o,p);p[0]=s;var t=o.handler.apply(this,p),u=this.lexer.lex(t.position,b);this.expect(u,"\\end");var v=this.parseFunction(t.position,b);if(v.result.value.name!==k)throw new l("Mismatch: \\begin{"+k+"} matched by \\end{"+v.result.value.name+"}",this.lexer,v.namepos);return t.position=v.position,t}return j.contains(q,e)?(d=this.parseExpression(c.result.position,b,!1),new n(new m("sizing",{size:"size"+(j.indexOf(q,e)+1),value:d.result},b),d.position)):j.contains(r,e)?(d=this.parseExpression(c.result.position,b,!0),new n(new m("styling",{style:e.slice(1,e.length-5),value:d.result},b),d.position)):this.parseFunction(a,b)},d.prototype.parseFunction=function(a,b){var c=this.parseGroup(a,b);if(c){if(c.isFunction){var d=c.result.result,e=f.funcs[d];if("text"===b&&!e.allowedInText)throw new l("Can't use function '"+d+"' in text mode",this.lexer,c.position);var g=[d],h=this.parseArguments(c.result.position,b,d,e,g),i=f.funcs[d].handler.apply(this,g);return new n(new m(i.type,i,b),h)}return c.result}return null},d.prototype.parseArguments=function(a,b,c,d,e){var g=d.numArgs+d.numOptionalArgs;if(0===g)return a;for(var h=a,i=d.greediness,j=[h],k=0;g>k;k++){var m,n=d.argTypes&&d.argTypes[k];if(k<d.numOptionalArgs){if(m=n?this.parseSpecialGroup(h,n,b,!0):this.parseOptionalGroup(h,b),!m){e.push(null),j.push(h);continue}}else if(m=n?this.parseSpecialGroup(h,n,b):this.parseGroup(h,b),!m)throw new l("Expected group after '"+c+"'",this.lexer,h);var o;if(m.isFunction){var p=f.funcs[m.result.result].greediness;if(!(p>i))throw new l("Got function '"+m.result.result+"' as argument to '"+c+"'",this.lexer,m.result.position-1);o=this.parseFunction(h,b)}else o=m.result;e.push(o.result),j.push(o.position),h=o.position}return e.push(j),h},d.prototype.parseSpecialGroup=function(a,b,c,d){if("original"===b&&(b=c),"color"===b||"size"===b){var f=this.lexer.lex(a,c);if(d&&"["!==f.text)return null;this.expect(f,d?"[":"{");var g,h=this.lexer.lex(f.position,b);g="color"===b?h.text:h.data;var i=this.lexer.lex(h.position,c);return this.expect(i,d?"]":"}"),new e(new n(new m(b,g,c),i.position),!1)}if("text"===b){var j=this.lexer.lex(a,"whitespace");a=j.position}return d?this.parseOptionalGroup(a,b):this.parseGroup(a,b)},d.prototype.parseGroup=function(a,b){var c=this.lexer.lex(a,b);if("{"===c.text){var d=this.parseExpression(c.position,b,!1),f=this.lexer.lex(d.position,b);return this.expect(f,"}"),new e(new n(new m("ordgroup",d.result,b),f.position),!1)}return this.parseSymbol(a,b)},d.prototype.parseOptionalGroup=function(a,b){var c=this.lexer.lex(a,b);if("["===c.text){var d=this.parseExpression(c.position,b,!1,"]"),f=this.lexer.lex(d.position,b);return this.expect(f,"]"),new e(new n(new m("ordgroup",d.result,b),f.position),!1)}return null},d.prototype.parseSymbol=function(a,b){var c=this.lexer.lex(a,b);return f.funcs[c.text]?new e(new n(c.text,c.position),!0):i[b][c.text]?new e(new n(new m(i[b][c.text].group,c.text,b),c.position),!1):null},d.prototype.ParseNode=m,b.exports=d},{"./Lexer":167,"./ParseError":169,"./environments":179,"./functions":182,"./parseData":184,"./symbols":186,"./utils":187}],171:[function(a,b,c){function d(a,b){return void 0===a?b:a}function e(a){a=a||{},this.displayMode=d(a.displayMode,!1)}b.exports=e},{}],172:[function(a,b,c){function d(a,b,c,d){this.id=a,this.size=b,this.cramped=d,this.sizeMultiplier=c}d.prototype.sup=function(){return o[p[this.id]]},d.prototype.sub=function(){return o[q[this.id]]},d.prototype.fracNum=function(){return o[r[this.id]]},d.prototype.fracDen=function(){return o[s[this.id]]},d.prototype.cramp=function(){return o[t[this.id]]},d.prototype.cls=function(){return m[this.size]+(this.cramped?" cramped":" uncramped")},d.prototype.reset=function(){return n[this.size]};var e=0,f=1,g=2,h=3,i=4,j=5,k=6,l=7,m=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],n=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"],o=[new d(e,0,1,!1),new d(f,0,1,!0),new d(g,1,1,!1),new d(h,1,1,!0),new d(i,2,.7,!1),new d(j,2,.7,!0),new d(k,3,.5,!1),new d(l,3,.5,!0)],p=[i,j,i,j,k,l,k,l],q=[j,j,j,j,l,l,l,l],r=[g,h,i,j,k,l,k,l],s=[h,h,j,j,l,l,l,l],t=[f,f,h,h,j,j,l,l];b.exports={DISPLAY:o[e],TEXT:o[g],SCRIPT:o[i],SCRIPTSCRIPT:o[k]}},{}],173:[function(a,b,c){var d=a("./domTree"),e=a("./fontMetrics"),f=a("./symbols"),g=function(a,b,c,g,h){f[c][a]&&f[c][a].replace&&(a=f[c][a].replace);var i,j=e.getCharacterMetrics(a,b);return j?i=new d.symbolNode(a,j.height,j.depth,j.italic,j.skew,h):("undefined"!=typeof console&&console.warn("No character metrics for '"+a+"' in style '"+b+"'"),i=new d.symbolNode(a,0,0,0,0,h)),g&&(i.style.color=g),i},h=function(a,b,c,d){return g(a,"Math-Italic",b,c,d.concat(["mathit"]))},i=function(a,b,c,d){return"main"===f[b][a].font?g(a,"Main-Regular",b,c,d):g(a,"AMS-Regular",b,c,d.concat(["amsrm"]));
},j=function(a){var b=0,c=0,d=0;if(a.children)for(var e=0;e<a.children.length;e++)a.children[e].height>b&&(b=a.children[e].height),a.children[e].depth>c&&(c=a.children[e].depth),a.children[e].maxFontSize>d&&(d=a.children[e].maxFontSize);a.height=b,a.depth=c,a.maxFontSize=d},k=function(a,b,c){var e=new d.span(a,b);return j(e),c&&(e.style.color=c),e},l=function(a){var b=new d.documentFragment(a);return j(b),b},m=function(a,b){var c=k([],[new d.symbolNode("​")]);c.style.fontSize=b/a.style.sizeMultiplier+"em";var e=k(["fontsize-ensurer","reset-"+a.size,"size5"],[c]);return e},n=function(a,b,c,e){var f,g,h;if("individualShift"===b){var i=a;for(a=[i[0]],f=-i[0].shift-i[0].elem.depth,g=f,h=1;h<i.length;h++){var j=-i[h].shift-g-i[h].elem.depth,l=j-(i[h-1].elem.height+i[h-1].elem.depth);g+=j,a.push({type:"kern",size:l}),a.push(i[h])}}else if("top"===b){var n=c;for(h=0;h<a.length;h++)n-="kern"===a[h].type?a[h].size:a[h].elem.height+a[h].elem.depth;f=n}else f="bottom"===b?-c:"shift"===b?-a[0].elem.depth-c:"firstBaseline"===b?-a[0].elem.depth:0;var o=0;for(h=0;h<a.length;h++)"elem"===a[h].type&&(o=Math.max(o,a[h].elem.maxFontSize));var p=m(e,o),q=[];for(g=f,h=0;h<a.length;h++)if("kern"===a[h].type)g+=a[h].size;else{var r=a[h].elem,s=-r.depth-g;g+=r.height+r.depth;var t=k([],[p,r]);t.height-=s,t.depth+=s,t.style.top=s+"em",q.push(t)}var u=k(["baseline-fix"],[p,new d.symbolNode("​")]);q.push(u);var v=k(["vlist"],q);return v.height=Math.max(g,v.height),v.depth=Math.max(-f,v.depth),v},o={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},p={"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}};b.exports={makeSymbol:g,mathit:h,mathrm:i,makeSpan:k,makeFragment:l,makeVList:n,sizingMultiplier:o,spacingFunctions:p}},{"./domTree":178,"./fontMetrics":180,"./symbols":186}],174:[function(a,b,c){var d=a("./Options"),e=a("./ParseError"),f=a("./Style"),g=a("./buildCommon"),h=a("./delimiter"),i=a("./domTree"),j=a("./fontMetrics"),k=a("./utils"),l=g.makeSpan,m=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e];d.push(u(f,b,c)),c=f}return d},n={mathord:"mord",textord:"mord",bin:"mbin",rel:"mrel",text:"mord",open:"mopen",close:"mclose",inner:"minner",genfrac:"mord",array:"mord",spacing:"mord",punct:"mpunct",ordgroup:"mord",op:"mop",katex:"mord",overline:"mord",rule:"mord",leftright:"minner",sqrt:"mord",accent:"mord"},o=function(a){return null==a?n.mathord:"supsub"===a.type?o(a.value.base):"llap"===a.type||"rlap"===a.type?o(a.value):"color"===a.type?o(a.value.value):"sizing"===a.type?o(a.value.value):"styling"===a.type?o(a.value.value):"delimsizing"===a.type?n[a.value.delimType]:n[a.type]},p=function(a,b){return a?"op"===a.type?a.value.limits&&b.style.size===f.DISPLAY.size:"accent"===a.type?r(a.value.base):null:!1},q=function(a){return a?"ordgroup"===a.type?1===a.value.length?q(a.value[0]):a:"color"===a.type&&1===a.value.value.length?q(a.value.value[0]):a:!1},r=function(a){var b=q(a);return"mathord"===b.type||"textord"===b.type||"bin"===b.type||"rel"===b.type||"inner"===b.type||"open"===b.type||"close"===b.type||"punct"===b.type},s=function(a){return l(["sizing","reset-"+a.size,"size5",a.style.reset(),f.TEXT.cls(),"nulldelimiter"])},t={mathord:function(a,b,c){return g.mathit(a.value,a.mode,b.getColor(),["mord"])},textord:function(a,b,c){return g.mathrm(a.value,a.mode,b.getColor(),["mord"])},bin:function(a,b,c){for(var d="mbin",e=c;e&&"color"===e.type;){var f=e.value.value;e=f[f.length-1]}return(!c||k.contains(["mbin","mopen","mrel","mop","mpunct"],o(e)))&&(a.type="textord",d="mord"),g.mathrm(a.value,a.mode,b.getColor(),[d])},rel:function(a,b,c){return g.mathrm(a.value,a.mode,b.getColor(),["mrel"])},open:function(a,b,c){return g.mathrm(a.value,a.mode,b.getColor(),["mopen"])},close:function(a,b,c){return g.mathrm(a.value,a.mode,b.getColor(),["mclose"])},inner:function(a,b,c){return g.mathrm(a.value,a.mode,b.getColor(),["minner"])},punct:function(a,b,c){return g.mathrm(a.value,a.mode,b.getColor(),["mpunct"])},ordgroup:function(a,b,c){return l(["mord",b.style.cls()],m(a.value,b.reset()))},text:function(a,b,c){return l(["text","mord",b.style.cls()],m(a.value.body,b.reset()))},color:function(a,b,c){var d=m(a.value.value,b.withColor(a.value.color),c);return new g.makeFragment(d)},supsub:function(a,b,c){if(p(a.value.base,b))return t[a.value.base.type](a,b,c);var d,e,h,k,m=u(a.value.base,b.reset());a.value.sup&&(h=u(a.value.sup,b.withStyle(b.style.sup())),d=l([b.style.reset(),b.style.sup().cls()],[h])),a.value.sub&&(k=u(a.value.sub,b.withStyle(b.style.sub())),e=l([b.style.reset(),b.style.sub().cls()],[k]));var n,q;r(a.value.base)?(n=0,q=0):(n=m.height-j.metrics.supDrop,q=m.depth+j.metrics.subDrop);var s;s=b.style===f.DISPLAY?j.metrics.sup1:b.style.cramped?j.metrics.sup3:j.metrics.sup2;var v,w=f.TEXT.sizeMultiplier*b.style.sizeMultiplier,x=.5/j.metrics.ptPerEm/w+"em";if(a.value.sup)if(a.value.sub){n=Math.max(n,s,h.depth+.25*j.metrics.xHeight),q=Math.max(q,j.metrics.sub2);var y=j.metrics.defaultRuleThickness;if(n-h.depth-(k.height-q)<4*y){q=4*y-(n-h.depth)+k.height;var z=.8*j.metrics.xHeight-(n-h.depth);z>0&&(n+=z,q-=z)}v=g.makeVList([{type:"elem",elem:e,shift:q},{type:"elem",elem:d,shift:-n}],"individualShift",null,b),m instanceof i.symbolNode&&(v.children[0].style.marginLeft=-m.italic+"em"),v.children[0].style.marginRight=x,v.children[1].style.marginRight=x}else n=Math.max(n,s,h.depth+.25*j.metrics.xHeight),v=g.makeVList([{type:"elem",elem:d}],"shift",-n,b),v.children[0].style.marginRight=x;else q=Math.max(q,j.metrics.sub1,k.height-.8*j.metrics.xHeight),v=g.makeVList([{type:"elem",elem:e}],"shift",q,b),v.children[0].style.marginRight=x,m instanceof i.symbolNode&&(v.children[0].style.marginLeft=-m.italic+"em");return l([o(a.value.base)],[m,v])},genfrac:function(a,b,c){var d=b.style;"display"===a.value.size?d=f.DISPLAY:"text"===a.value.size&&(d=f.TEXT);var e,i=d.fracNum(),k=d.fracDen(),m=u(a.value.numer,b.withStyle(i)),n=l([d.reset(),i.cls()],[m]),o=u(a.value.denom,b.withStyle(k)),p=l([d.reset(),k.cls()],[o]);e=a.value.hasBarLine?j.metrics.defaultRuleThickness/b.style.sizeMultiplier:0;var q,r,t;d.size===f.DISPLAY.size?(q=j.metrics.num1,r=e>0?3*e:7*j.metrics.defaultRuleThickness,t=j.metrics.denom1):(e>0?(q=j.metrics.num2,r=e):(q=j.metrics.num3,r=3*j.metrics.defaultRuleThickness),t=j.metrics.denom2);var v;if(0===e){var w=q-m.depth-(o.height-t);r>w&&(q+=.5*(r-w),t+=.5*(r-w)),v=g.makeVList([{type:"elem",elem:p,shift:t},{type:"elem",elem:n,shift:-q}],"individualShift",null,b)}else{var x=j.metrics.axisHeight;q-m.depth-(x+.5*e)<r&&(q+=r-(q-m.depth-(x+.5*e))),x-.5*e-(o.height-t)<r&&(t+=r-(x-.5*e-(o.height-t)));var y=l([b.style.reset(),f.TEXT.cls(),"frac-line"]);y.height=e;var z=-(x-.5*e);v=g.makeVList([{type:"elem",elem:p,shift:t},{type:"elem",elem:y,shift:z},{type:"elem",elem:n,shift:-q}],"individualShift",null,b)}v.height*=d.sizeMultiplier/b.style.sizeMultiplier,v.depth*=d.sizeMultiplier/b.style.sizeMultiplier;var A;A=d.size===f.DISPLAY.size?j.metrics.delim1:j.metrics.getDelim2(d);var B,C;return B=null==a.value.leftDelim?s(b):h.customSizedDelim(a.value.leftDelim,A,!0,b.withStyle(d),a.mode),C=null==a.value.rightDelim?s(b):h.customSizedDelim(a.value.rightDelim,A,!0,b.withStyle(d),a.mode),l(["mord",b.style.reset(),d.cls()],[B,l(["mfrac"],[v]),C],b.getColor())},array:function(a,b,c){var d,e,f=a.value.body.length,h=0,i=new Array(f),m=1/j.metrics.ptPerEm,n=5*m,o=12*m,p=k.deflt(a.value.arraystretch,1),q=p*o,r=.7*q,s=.3*q,t=0;for(d=0;d<a.value.body.length;++d){var v=a.value.body[d],w=r,x=s;h<v.length&&(h=v.length);var y=new Array(v.length);for(e=0;e<v.length;++e){var z=u(v[e],b);x<z.depth&&(x=z.depth),w<z.height&&(w=z.height),y[e]=z}var A=0;if(a.value.rowGaps[d]){switch(A=a.value.rowGaps[d].value,A.unit){case"em":A=A.number;break;case"ex":A=A.number*j.metrics.emPerEx;break;default:console.error("Can't handle unit "+A.unit),A=0}A>0&&(A+=s,A>x&&(x=A),A=0)}y.height=w,y.depth=x,t+=w,y.pos=t,t+=x+A,i[d]=y}var B,C=t/2+j.metrics.axisHeight,D=a.value.cols||[],E=[];for(e=0;h>e;++e){var F,G=D[e]||{};(e>0||a.value.hskipBeforeAndAfter)&&(F=k.deflt(G.pregap,n),0!==F&&(B=l(["arraycolsep"],[]),B.style.width=F+"em",E.push(B)));var H=[];for(d=0;f>d;++d){var I=i[d],J=I[e];if(J){var K=I.pos-C;J.depth=I.depth,J.height=I.height,H.push({type:"elem",elem:J,shift:K})}}H=g.makeVList(H,"individualShift",null,b),H=l(["col-align-"+(G.align||"c")],[H]),E.push(H),(h-1>e||a.value.hskipBeforeAndAfter)&&(F=k.deflt(G.postgap,n),0!==F&&(B=l(["arraycolsep"],[]),B.style.width=F+"em",E.push(B)))}return i=l(["mtable"],E),l(["mord"],[i],b.getColor())},spacing:function(a,b,c){return"\\ "===a.value||"\\space"===a.value||" "===a.value||"~"===a.value?l(["mord","mspace"],[g.mathrm(a.value,a.mode)]):l(["mord","mspace",g.spacingFunctions[a.value].className])},llap:function(a,b,c){var d=l(["inner"],[u(a.value.body,b.reset())]),e=l(["fix"],[]);return l(["llap",b.style.cls()],[d,e])},rlap:function(a,b,c){var d=l(["inner"],[u(a.value.body,b.reset())]),e=l(["fix"],[]);return l(["rlap",b.style.cls()],[d,e])},op:function(a,b,c){var d,e,h=!1;"supsub"===a.type&&(d=a.value.sup,e=a.value.sub,a=a.value.base,h=!0);var i=["\\smallint"],m=!1;b.style.size===f.DISPLAY.size&&a.value.symbol&&!k.contains(i,a.value.body)&&(m=!0);var n,o=0,p=0;if(a.value.symbol){var q=m?"Size2-Regular":"Size1-Regular";n=g.makeSymbol(a.value.body,q,"math",b.getColor(),["op-symbol",m?"large-op":"small-op","mop"]),o=(n.height-n.depth)/2-j.metrics.axisHeight*b.style.sizeMultiplier,p=n.italic}else{for(var r=[],s=1;s<a.value.body.length;s++)r.push(g.mathrm(a.value.body[s],a.mode));n=l(["mop"],r,b.getColor())}if(h){n=l([],[n]);var t,v,w,x;if(d){var y=u(d,b.withStyle(b.style.sup()));t=l([b.style.reset(),b.style.sup().cls()],[y]),v=Math.max(j.metrics.bigOpSpacing1,j.metrics.bigOpSpacing3-y.depth)}if(e){var z=u(e,b.withStyle(b.style.sub()));w=l([b.style.reset(),b.style.sub().cls()],[z]),x=Math.max(j.metrics.bigOpSpacing2,j.metrics.bigOpSpacing4-z.height)}var A,B,C;if(d)if(e){if(!d&&!e)return n;C=j.metrics.bigOpSpacing5+w.height+w.depth+x+n.depth+o,A=g.makeVList([{type:"kern",size:j.metrics.bigOpSpacing5},{type:"elem",elem:w},{type:"kern",size:x},{type:"elem",elem:n},{type:"kern",size:v},{type:"elem",elem:t},{type:"kern",size:j.metrics.bigOpSpacing5}],"bottom",C,b),A.children[0].style.marginLeft=-p+"em",A.children[2].style.marginLeft=p+"em"}else C=n.depth+o,A=g.makeVList([{type:"elem",elem:n},{type:"kern",size:v},{type:"elem",elem:t},{type:"kern",size:j.metrics.bigOpSpacing5}],"bottom",C,b),A.children[1].style.marginLeft=p+"em";else B=n.height-o,A=g.makeVList([{type:"kern",size:j.metrics.bigOpSpacing5},{type:"elem",elem:w},{type:"kern",size:x},{type:"elem",elem:n}],"top",B,b),A.children[0].style.marginLeft=-p+"em";return l(["mop","op-limits"],[A])}return a.value.symbol&&(n.style.top=o+"em"),n},katex:function(a,b,c){var d=l(["k"],[g.mathrm("K",a.mode)]),e=l(["a"],[g.mathrm("A",a.mode)]);e.height=.75*(e.height+.2),e.depth=.75*(e.height-.2);var f=l(["t"],[g.mathrm("T",a.mode)]),h=l(["e"],[g.mathrm("E",a.mode)]);h.height=h.height-.2155,h.depth=h.depth+.2155;var i=l(["x"],[g.mathrm("X",a.mode)]);return l(["katex-logo"],[d,e,f,h,i],b.getColor())},overline:function(a,b,c){var d=u(a.value.body,b.withStyle(b.style.cramp())),e=j.metrics.defaultRuleThickness/b.style.sizeMultiplier,h=l([b.style.reset(),f.TEXT.cls(),"overline-line"]);h.height=e,h.maxFontSize=1;var i=g.makeVList([{type:"elem",elem:d},{type:"kern",size:3*e},{type:"elem",elem:h},{type:"kern",size:e}],"firstBaseline",null,b);return l(["overline","mord"],[i],b.getColor())},sqrt:function(a,b,c){var d=u(a.value.body,b.withStyle(b.style.cramp())),e=j.metrics.defaultRuleThickness/b.style.sizeMultiplier,i=l([b.style.reset(),f.TEXT.cls(),"sqrt-line"],[],b.getColor());i.height=e,i.maxFontSize=1;var k=e;b.style.id<f.TEXT.id&&(k=j.metrics.xHeight);var m=e+k/4,n=(d.height+d.depth)*b.style.sizeMultiplier,o=n+m+e,p=l(["sqrt-sign"],[h.customSizedDelim("\\surd",o,!1,b,a.mode)],b.getColor()),q=p.height+p.depth-e;q>d.height+d.depth+m&&(m=(m+q-d.height-d.depth)/2);var r=-(d.height+m+e)+p.height;p.style.top=r+"em",p.height-=r,p.depth+=r;var s;if(s=0===d.height&&0===d.depth?l():g.makeVList([{type:"elem",elem:d},{type:"kern",size:m},{type:"elem",elem:i},{type:"kern",size:e}],"firstBaseline",null,b),a.value.index){var t=u(a.value.index,b.withStyle(f.SCRIPTSCRIPT)),v=l([b.style.reset(),f.SCRIPTSCRIPT.cls()],[t]),w=Math.max(p.height,s.height),x=Math.max(p.depth,s.depth),y=.6*(w-x),z=g.makeVList([{type:"elem",elem:v}],"shift",-y,b),A=l(["root"],[z]);return l(["sqrt","mord"],[A,p,s])}return l(["sqrt","mord"],[p,s])},sizing:function(a,b,c){var d=m(a.value.value,b.withSize(a.value.size),c),e=l(["mord"],[l(["sizing","reset-"+b.size,a.value.size,b.style.cls()],d)]),f=g.sizingMultiplier[a.value.size];return e.maxFontSize=f*b.style.sizeMultiplier,e},styling:function(a,b,c){var d={display:f.DISPLAY,text:f.TEXT,script:f.SCRIPT,scriptscript:f.SCRIPTSCRIPT},e=d[a.value.style],g=m(a.value.value,b.withStyle(e),c);return l([b.style.reset(),e.cls()],g)},delimsizing:function(a,b,c){var d=a.value.value;return"."===d?l([n[a.value.delimType]]):l([n[a.value.delimType]],[h.sizedDelim(d,a.value.size,b,a.mode)])},leftright:function(a,b,c){for(var d=m(a.value.body,b.reset()),e=0,f=0,g=0;g<d.length;g++)e=Math.max(d[g].height,e),f=Math.max(d[g].depth,f);e*=b.style.sizeMultiplier,f*=b.style.sizeMultiplier;var i;i="."===a.value.left?s(b):h.leftRightDelim(a.value.left,e,f,b,a.mode),d.unshift(i);var j;return j="."===a.value.right?s(b):h.leftRightDelim(a.value.right,e,f,b,a.mode),d.push(j),l(["minner",b.style.cls()],d,b.getColor())},rule:function(a,b,c){var d=l(["mord","rule"],[],b.getColor()),e=0;a.value.shift&&(e=a.value.shift.number,"ex"===a.value.shift.unit&&(e*=j.metrics.xHeight));var f=a.value.width.number;"ex"===a.value.width.unit&&(f*=j.metrics.xHeight);var g=a.value.height.number;return"ex"===a.value.height.unit&&(g*=j.metrics.xHeight),e/=b.style.sizeMultiplier,f/=b.style.sizeMultiplier,g/=b.style.sizeMultiplier,d.style.borderRightWidth=f+"em",d.style.borderTopWidth=g+"em",d.style.bottom=e+"em",d.width=f,d.height=g+e,d.depth=-e,d},accent:function(a,b,c){var d,e=a.value.base;if("supsub"===a.type){var f=a;a=f.value.base,e=a.value.base,f.value.base=e,d=u(f,b.reset(),c)}var h,i=u(e,b.withStyle(b.style.cramp()));if(r(e)){var k=q(e),m=u(k,b.withStyle(b.style.cramp()));h=m.skew}else h=0;var n=Math.min(i.height,j.metrics.xHeight),o=g.makeSymbol(a.value.accent,"Main-Regular","math",b.getColor());o.italic=0;var p="\\vec"===a.value.accent?"accent-vec":null,s=l(["accent-body",p],[l([],[o])]);s=g.makeVList([{type:"elem",elem:i},{type:"kern",size:-n},{type:"elem",elem:s}],"firstBaseline",null,b),s.children[1].style.marginLeft=2*h+"em";var t=l(["mord","accent"],[s]);return d?(d.children[0]=t,d.height=Math.max(t.height,d.height),d.classes[0]="mord",d):t},phantom:function(a,b,c){var d=m(a.value.value,b.withPhantom(),c);return new g.makeFragment(d)}},u=function(a,b,c){if(!a)return l();if(t[a.type]){var d,f=t[a.type](a,b,c);return b.style!==b.parentStyle&&(d=b.style.sizeMultiplier/b.parentStyle.sizeMultiplier,f.height*=d,f.depth*=d),b.size!==b.parentSize&&(d=g.sizingMultiplier[b.size]/g.sizingMultiplier[b.parentSize],f.height*=d,f.depth*=d),f}throw new e("Got group of unknown type: '"+a.type+"'")},v=function(a,b){a=JSON.parse(JSON.stringify(a));var c=f.TEXT;b.displayMode&&(c=f.DISPLAY);var e=new d({style:c,size:"size5"}),g=m(a,e),h=l(["base",e.style.cls()],g),i=l(["strut"]),j=l(["strut","bottom"]);i.style.height=h.height+"em",j.style.height=h.height+h.depth+"em",j.style.verticalAlign=-h.depth+"em";var k=l(["katex-html"],[i,j,h]);return k.setAttribute("aria-hidden","true"),k};b.exports=v},{"./Options":168,"./ParseError":169,"./Style":172,"./buildCommon":173,"./delimiter":177,"./domTree":178,"./fontMetrics":180,"./utils":187}],175:[function(a,b,c){var d=a("./buildCommon"),e=a("./mathMLTree"),f=a("./ParseError"),g=a("./symbols"),h=d.makeSpan,i=function(a,b){return g[b][a]&&g[b][a].replace&&(a=g[b][a].replace),new e.TextNode(a)},j={mathord:function(a){var b=new e.MathNode("mi",[i(a.value,a.mode)]);return b},textord:function(a){var b,c=i(a.value,a.mode);return/[0-9]/.test(a.value)?b=new e.MathNode("mn",[c]):(b=new e.MathNode("mi",[c]),b.setAttribute("mathvariant","normal")),b},bin:function(a){var b=new e.MathNode("mo",[i(a.value,a.mode)]);return b},rel:function(a){var b=new e.MathNode("mo",[i(a.value,a.mode)]);return b},open:function(a){var b=new e.MathNode("mo",[i(a.value,a.mode)]);return b},close:function(a){var b=new e.MathNode("mo",[i(a.value,a.mode)]);return b},inner:function(a){var b=new e.MathNode("mo",[i(a.value,a.mode)]);return b},punct:function(a){var b=new e.MathNode("mo",[i(a.value,a.mode)]);return b.setAttribute("separator","true"),b},ordgroup:function(a){var b=k(a.value),c=new e.MathNode("mrow",b);return c},text:function(a){var b=k(a.value.body),c=new e.MathNode("mtext",b);return c},color:function(a){var b=k(a.value.value),c=new e.MathNode("mstyle",b);return c.setAttribute("mathcolor",a.value.color),c},supsub:function(a){var b=[l(a.value.base)];a.value.sub&&b.push(l(a.value.sub)),a.value.sup&&b.push(l(a.value.sup));var c;c=a.value.sub?a.value.sup?"msubsup":"msub":"msup";var d=new e.MathNode(c,b);return d},genfrac:function(a){var b=new e.MathNode("mfrac",[l(a.value.numer),l(a.value.denom)]);if(a.value.hasBarLine||b.setAttribute("linethickness","0px"),null!=a.value.leftDelim||null!=a.value.rightDelim){var c=[];if(null!=a.value.leftDelim){var d=new e.MathNode("mo",[new e.TextNode(a.value.leftDelim)]);d.setAttribute("fence","true"),c.push(d)}if(c.push(b),null!=a.value.rightDelim){var f=new e.MathNode("mo",[new e.TextNode(a.value.rightDelim)]);f.setAttribute("fence","true"),c.push(f)}var g=new e.MathNode("mrow",c);return g}return b},array:function(a){return new e.MathNode("mtable",a.value.body.map(function(a){return new e.MathNode("mtr",a.map(function(a){return new e.MathNode("mtd",[l(a)])}))}))},sqrt:function(a){var b;return b=a.value.index?new e.MathNode("mroot",[l(a.value.body),l(a.value.index)]):new e.MathNode("msqrt",[l(a.value.body)])},leftright:function(a){var b=k(a.value.body);if("."!==a.value.left){var c=new e.MathNode("mo",[i(a.value.left,a.mode)]);c.setAttribute("fence","true"),b.unshift(c)}if("."!==a.value.right){var d=new e.MathNode("mo",[i(a.value.right,a.mode)]);d.setAttribute("fence","true"),b.push(d)}var f=new e.MathNode("mrow",b);return f},accent:function(a){var b=new e.MathNode("mo",[i(a.value.accent,a.mode)]),c=new e.MathNode("mover",[l(a.value.base),b]);return c.setAttribute("accent","true"),c},spacing:function(a){var b;return"\\ "===a.value||"\\space"===a.value||" "===a.value||"~"===a.value?b=new e.MathNode("mtext",[new e.TextNode(" ")]):(b=new e.MathNode("mspace"),b.setAttribute("width",d.spacingFunctions[a.value].size)),b},op:function(a){var b;return b=a.value.symbol?new e.MathNode("mo",[i(a.value.body,a.mode)]):new e.MathNode("mi",[new e.TextNode(a.value.body.slice(1))])},katex:function(a){var b=new e.MathNode("mtext",[new e.TextNode("KaTeX")]);return b},delimsizing:function(a){var b=[];"."!==a.value.value&&b.push(i(a.value.value,a.mode));var c=new e.MathNode("mo",b);return"open"===a.value.delimType||"close"===a.value.delimType?c.setAttribute("fence","true"):c.setAttribute("fence","false"),c},styling:function(a){var b=k(a.value.value,b),c=new e.MathNode("mstyle",b),d={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=d[a.value.style];return c.setAttribute("scriptlevel",f[0]),c.setAttribute("displaystyle",f[1]),c},sizing:function(a){var b=k(a.value.value),c=new e.MathNode("mstyle",b);return c.setAttribute("mathsize",d.sizingMultiplier[a.value.size]+"em"),c},overline:function(a){var b=new e.MathNode("mo",[new e.TextNode("‾")]);b.setAttribute("stretchy","true");var c=new e.MathNode("mover",[l(a.value.body),b]);return c.setAttribute("accent","true"),c},rule:function(a){var b=new e.MathNode("mrow");return b},llap:function(a){var b=new e.MathNode("mpadded",[l(a.value.body)]);return b.setAttribute("lspace","-1width"),b.setAttribute("width","0px"),b},rlap:function(a){var b=new e.MathNode("mpadded",[l(a.value.body)]);return b.setAttribute("width","0px"),b},phantom:function(a,b,c){var d=k(a.value.value);return new e.MathNode("mphantom",d)}},k=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(l(d))}return b},l=function(a){if(!a)return new e.MathNode("mrow");if(j[a.type])return j[a.type](a);throw new f("Got group of unknown type: '"+a.type+"'")},m=function(a,b,c){var d=k(a),f=new e.MathNode("mrow",d),g=new e.MathNode("annotation",[new e.TextNode(b)]);g.setAttribute("encoding","application/x-tex");var i=new e.MathNode("semantics",[f,g]),j=new e.MathNode("math",[i]);return h(["katex-mathml"],[j])};b.exports=m},{"./ParseError":169,"./buildCommon":173,"./mathMLTree":183,"./symbols":186}],176:[function(a,b,c){var d=a("./buildHTML"),e=a("./buildMathML"),f=a("./buildCommon"),g=f.makeSpan,h=function(a,b,c){var f=e(a,b,c),h=d(a,c),i=g(["katex"],[f,h]);return c.displayMode?g(["katex-display"],[i]):i};b.exports=h},{"./buildCommon":173,"./buildHTML":174,"./buildMathML":175}],177:[function(a,b,c){var d=a("./ParseError"),e=a("./Style"),f=a("./buildCommon"),g=a("./fontMetrics"),h=a("./symbols"),i=a("./utils"),j=f.makeSpan,k=function(a,b){return h.math[a]&&h.math[a].replace?g.getCharacterMetrics(h.math[a].replace,b):g.getCharacterMetrics(a,b)},l=function(a,b,c){return f.makeSymbol(a,"Size"+b+"-Regular",c)},m=function(a,b,c){var d=j(["style-wrap",c.style.reset(),b.cls()],[a]),e=b.sizeMultiplier/c.style.sizeMultiplier;return d.height*=e,d.depth*=e,d.maxFontSize=b.sizeMultiplier,d},n=function(a,b,c,d,e){var h=f.makeSymbol(a,"Main-Regular",e),i=m(h,b,d);if(c){var j=(1-d.style.sizeMultiplier/b.sizeMultiplier)*g.metrics.axisHeight;i.style.top=j+"em",i.height-=j,i.depth+=j}return i},o=function(a,b,c,d,f){var h=l(a,b,f),i=m(j(["delimsizing","size"+b],[h],d.getColor()),e.TEXT,d);if(c){var k=(1-d.style.sizeMultiplier)*g.metrics.axisHeight;i.style.top=k+"em",i.height-=k,i.depth+=k}return i},p=function(a,b,c){var d;"Size1-Regular"===b?d="delim-size1":"Size4-Regular"===b&&(d="delim-size4");var e=j(["delimsizinginner",d],[j([],[f.makeSymbol(a,b,c)])]);return{type:"elem",elem:e}},q=function(a,b,c,d,h){var i,l,n,o;i=n=o=a,l=null;var q="Size1-Regular";"\\uparrow"===a?n=o="⏐":"\\Uparrow"===a?n=o="‖":"\\downarrow"===a?i=n="⏐":"\\Downarrow"===a?i=n="‖":"\\updownarrow"===a?(i="\\uparrow",n="⏐",o="\\downarrow"):"\\Updownarrow"===a?(i="\\Uparrow",n="‖",o="\\Downarrow"):"["===a||"\\lbrack"===a?(i="⎡",n="⎢",o="⎣",q="Size4-Regular"):"]"===a||"\\rbrack"===a?(i="⎤",n="⎥",o="⎦",q="Size4-Regular"):"\\lfloor"===a?(n=i="⎢",o="⎣",q="Size4-Regular"):"\\lceil"===a?(i="⎡",n=o="⎢",q="Size4-Regular"):"\\rfloor"===a?(n=i="⎥",o="⎦",q="Size4-Regular"):"\\rceil"===a?(i="⎤",n=o="⎥",q="Size4-Regular"):"("===a?(i="⎛",n="⎜",o="⎝",q="Size4-Regular"):")"===a?(i="⎞",n="⎟",o="⎠",q="Size4-Regular"):"\\{"===a||"\\lbrace"===a?(i="⎧",l="⎨",o="⎩",n="⎪",q="Size4-Regular"):"\\}"===a||"\\rbrace"===a?(i="⎫",l="⎬",o="⎭",n="⎪",q="Size4-Regular"):"\\surd"===a&&(i="",o="⎷",n="",q="Size4-Regular");var r=k(i,q),s=r.height+r.depth,t=k(n,q),u=t.height+t.depth,v=k(o,q),w=v.height+v.depth,x=0,y=1;if(null!==l){var z=k(l,q);x=z.height+z.depth,y=2}var A=s+w+x,B=Math.ceil((b-A)/(y*u)),C=A+B*y*u,D=g.metrics.axisHeight;c&&(D*=d.style.sizeMultiplier);var E=C/2-D,F=[];F.push(p(o,q,h));var G;if(null===l)for(G=0;B>G;G++)F.push(p(n,q,h));else{for(G=0;B>G;G++)F.push(p(n,q,h));for(F.push(p(l,q,h)),G=0;B>G;G++)F.push(p(n,q,h))}F.push(p(i,q,h));var H=f.makeVList(F,"bottom",E,d);return m(j(["delimsizing","mult"],[H],d.getColor()),e.TEXT,d)},r=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],s=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert"],t=["<",">","\\langle","\\rangle","/","\\backslash"],u=[0,1.2,1.8,2.4,3],v=function(a,b,c,e){if("<"===a?a="\\langle":">"===a&&(a="\\rangle"),i.contains(r,a)||i.contains(t,a))return o(a,b,!1,c,e);if(i.contains(s,a))return q(a,u[b],!1,c,e);throw new d("Illegal delimiter: '"+a+"'")},w=[{type:"small",style:e.SCRIPTSCRIPT},{type:"small",style:e.SCRIPT},{type:"small",style:e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],x=[{type:"small",style:e.SCRIPTSCRIPT},{type:"small",style:e.SCRIPT},{type:"small",style:e.TEXT},{type:"stack"}],y=[{type:"small",style:e.SCRIPTSCRIPT},{type:"small",style:e.SCRIPT},{type:"small",style:e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],z=function(a){return"small"===a.type?"Main-Regular":"large"===a.type?"Size"+a.size+"-Regular":"stack"===a.type?"Size4-Regular":void 0},A=function(a,b,c,d){for(var e=Math.min(2,3-d.style.size),f=e;f<c.length&&"stack"!==c[f].type;f++){var g=k(a,z(c[f])),h=g.height+g.depth;if("small"===c[f].type&&(h*=c[f].style.sizeMultiplier),h>b)return c[f]}return c[c.length-1]},B=function(a,b,c,d,e){"<"===a?a="\\langle":">"===a&&(a="\\rangle");var f;f=i.contains(t,a)?w:i.contains(r,a)?y:x;var g=A(a,b,f,d);return"small"===g.type?n(a,g.style,c,d,e):"large"===g.type?o(a,g.size,c,d,e):"stack"===g.type?q(a,b,c,d,e):void 0},C=function(a,b,c,d,e){var f=g.metrics.axisHeight*d.style.sizeMultiplier,h=901,i=5/g.metrics.ptPerEm,j=Math.max(b-f,c+f),k=Math.max(j/500*h,2*j-i);return B(a,k,!0,d,e)};b.exports={sizedDelim:v,customSizedDelim:B,leftRightDelim:C}},{"./ParseError":169,"./Style":172,"./buildCommon":173,"./fontMetrics":180,"./symbols":186,"./utils":187}],178:[function(a,b,c){function d(a,b,c,d,e,f){this.classes=a||[],this.children=b||[],this.height=c||0,this.depth=d||0,this.maxFontSize=e||0,this.style=f||{},this.attributes={}}function e(a,b,c,d){this.children=a||[],this.height=b||0,this.depth=c||0,this.maxFontSize=d||0}function f(a,b,c,d,e,f,g){this.value=a||"",this.height=b||0,this.depth=c||0,this.italic=d||0,this.skew=e||0,this.classes=f||[],this.style=g||{},this.maxFontSize=0}var g=a("./utils"),h=function(a){a=a.slice();for(var b=a.length-1;b>=0;b--)a[b]||a.splice(b,1);return a.join(" ")};d.prototype.setAttribute=function(a,b){this.attributes[a]=b},d.prototype.toNode=function(){var a=document.createElement("span");a.className=h(this.classes);for(var b in this.style)Object.prototype.hasOwnProperty.call(this.style,b)&&(a.style[b]=this.style[b]);for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);for(var d=0;d<this.children.length;d++)a.appendChild(this.children[d].toNode());return a},d.prototype.toMarkup=function(){var a="<span";this.classes.length&&(a+=' class="',a+=g.escape(h(this.classes)),a+='"');var b="";for(var c in this.style)this.style.hasOwnProperty(c)&&(b+=g.hyphenate(c)+":"+this.style[c]+";");b&&(a+=' style="'+g.escape(b)+'"');for(var d in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,d)&&(a+=" "+d+'="',a+=g.escape(this.attributes[d]),a+='"');a+=">";for(var e=0;e<this.children.length;e++)a+=this.children[e].toMarkup();return a+="</span>"},e.prototype.toNode=function(){for(var a=document.createDocumentFragment(),b=0;b<this.children.length;b++)a.appendChild(this.children[b].toNode());return a},e.prototype.toMarkup=function(){for(var a="",b=0;b<this.children.length;b++)a+=this.children[b].toMarkup();return a},f.prototype.toNode=function(){var a=document.createTextNode(this.value),b=null;this.italic>0&&(b=document.createElement("span"),b.style.marginRight=this.italic+"em"),this.classes.length>0&&(b=b||document.createElement("span"),b.className=h(this.classes));for(var c in this.style)this.style.hasOwnProperty(c)&&(b=b||document.createElement("span"),b.style[c]=this.style[c]);return b?(b.appendChild(a),b):a},f.prototype.toMarkup=function(){var a=!1,b="<span";this.classes.length&&(a=!0,b+=' class="',b+=g.escape(h(this.classes)),b+='"');var c="";this.italic>0&&(c+="margin-right:"+this.italic+"em;");for(var d in this.style)this.style.hasOwnProperty(d)&&(c+=g.hyphenate(d)+":"+this.style[d]+";");c&&(a=!0,b+=' style="'+g.escape(c)+'"');var e=g.escape(this.value);return a?(b+=">",b+=e,b+="</span>"):e},b.exports={span:d,documentFragment:e,symbolNode:f}},{"./utils":187}],179:[function(a,b,c){function d(a,b,c,d){for(var e=[],f=[e],j=[];;){var k=a.parseExpression(b,c,!1,null);e.push(new h("ordgroup",k.result,c)),b=k.position;var l=k.peek.text;if("&"===l)b=k.peek.position;else{if("\\end"===l)break;if("\\\\"!==l&&"\\cr"!==l)throw new g("Expected & or \\\\ or \\end",a.lexer,k.peek.position);var m=a.parseFunction(b,c);j.push(m.result.value.size),b=m.position,e=[],f.push(e)}}return d.body=f,d.rowGaps=j,new i(new h(d.type,d,c),b)}var e=a("./fontMetrics"),f=a("./parseData"),g=a("./ParseError"),h=f.ParseNode,i=f.ParseResult,j=[{names:["array"],numArgs:1,handler:function(a,b,c,e,f){var h=this;e=e.value.map?e.value:[e];var i=e.map(function(a){var b=a.value;if(-1!=="lcr".indexOf(b))return{align:b};throw new g("Unknown column alignment: "+a.value,h.lexer,f[1])}),j={type:"array",cols:i,hskipBeforeAndAfter:!0};return j=d(h,a,b,j)}},{names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],handler:function(a,b,c){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[c],f={type:"array",hskipBeforeAndAfter:!1};return f=d(this,a,b,f),e&&(f.result=new h("leftright",{body:[f.result],left:e[0],right:e[1]},b)),f}},{names:["cases"],handler:function(a,b,c){var f={type:"array",arraystretch:1.2,cols:[{align:"l",pregap:0,postgap:e.metrics.quad},{align:"l",pregap:0,postgap:0}]};return f=d(this,a,b,f),f.result=new h("leftright",{body:[f.result],left:"\\{",right:"."},b),f}}];b.exports=function(){for(var a={},b=0;b<j.length;++b){var c=j[b];c.greediness=1,c.allowedInText=!!c.allowedInText,c.numArgs=c.numArgs||0,c.numOptionalArgs=c.numOptionalArgs||0;for(var d=0;d<c.names.length;++d)a[c.names[d]]=c}return a}()},{"./ParseError":169,"./fontMetrics":180,"./parseData":184}],180:[function(a,b,c){var d=a("./Style"),e=.431,f=1,g=.677,h=.394,i=.444,j=.686,k=.345,l=.413,m=.363,n=.289,o=.15,p=.247,q=.386,r=.05,s=2.39,t=1.01,u=.81,v=.71,w=.25,x=.04,y=.111,z=.166,A=.2,B=.6,C=.1,D=10,E={xHeight:e,quad:f,num1:g,num2:h,num3:i,denom1:j,denom2:k,sup1:l,sup2:m,sup3:n,sub1:o,sub2:p,supDrop:q,subDrop:r,axisHeight:w,defaultRuleThickness:x,bigOpSpacing1:y,bigOpSpacing2:z,bigOpSpacing3:A,bigOpSpacing4:B,bigOpSpacing5:C,ptPerEm:D,emPerEx:e/f,delim1:s,getDelim2:function(a){if(a.size===d.TEXT.size)return t;if(a.size===d.SCRIPT.size)return u;if(a.size===d.SCRIPTSCRIPT.size)return v;throw new Error("Unexpected style size: "+a.size)}},F=a("./fontMetricsData"),G=function(a,b){return F[b][a.charCodeAt(0)]};b.exports={metrics:E,getCharacterMetrics:G}},{"./Style":172,"./fontMetricsData":181}],181:[function(a,b,c){b.exports={"AMS-Regular":{65:{depth:0,height:.68889,italic:0,skew:0},66:{depth:0,height:.68889,italic:0,skew:0},67:{depth:0,height:.68889,italic:0,skew:0},68:{depth:0,height:.68889,italic:0,skew:0},69:{depth:0,height:.68889,italic:0,skew:0},70:{depth:0,height:.68889,italic:0,skew:0},71:{depth:0,height:.68889,italic:0,skew:0},72:{depth:0,height:.68889,italic:0,skew:0},73:{depth:0,height:.68889,italic:0,skew:0},74:{depth:.16667,height:.68889,italic:0,skew:0},75:{depth:0,height:.68889,italic:0,skew:0},76:{depth:0,height:.68889,italic:0,skew:0},77:{depth:0,height:.68889,italic:0,skew:0},78:{depth:0,height:.68889,italic:0,skew:0},79:{depth:.16667,height:.68889,italic:0,skew:0},80:{depth:0,height:.68889,italic:0,skew:0},81:{depth:.16667,height:.68889,italic:0,skew:0},82:{depth:0,height:.68889,italic:0,skew:0},83:{depth:0,height:.68889,
italic:0,skew:0},84:{depth:0,height:.68889,italic:0,skew:0},85:{depth:0,height:.68889,italic:0,skew:0},86:{depth:0,height:.68889,italic:0,skew:0},87:{depth:0,height:.68889,italic:0,skew:0},88:{depth:0,height:.68889,italic:0,skew:0},89:{depth:0,height:.68889,italic:0,skew:0},90:{depth:0,height:.68889,italic:0,skew:0},107:{depth:0,height:.68889,italic:0,skew:0},165:{depth:0,height:.675,italic:.025,skew:0},174:{depth:.15559,height:.69224,italic:0,skew:0},240:{depth:0,height:.68889,italic:0,skew:0},295:{depth:0,height:.68889,italic:0,skew:0},710:{depth:0,height:.825,italic:0,skew:0},732:{depth:0,height:.9,italic:0,skew:0},770:{depth:0,height:.825,italic:0,skew:0},771:{depth:0,height:.9,italic:0,skew:0},989:{depth:.08167,height:.58167,italic:0,skew:0},1008:{depth:0,height:.43056,italic:.04028,skew:0},8245:{depth:0,height:.54986,italic:0,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},8487:{depth:0,height:.68889,italic:0,skew:0},8498:{depth:0,height:.68889,italic:0,skew:0},8502:{depth:0,height:.68889,italic:0,skew:0},8503:{depth:0,height:.68889,italic:0,skew:0},8504:{depth:0,height:.68889,italic:0,skew:0},8513:{depth:0,height:.68889,italic:0,skew:0},8592:{depth:-.03598,height:.46402,italic:0,skew:0},8594:{depth:-.03598,height:.46402,italic:0,skew:0},8602:{depth:-.13313,height:.36687,italic:0,skew:0},8603:{depth:-.13313,height:.36687,italic:0,skew:0},8606:{depth:.01354,height:.52239,italic:0,skew:0},8608:{depth:.01354,height:.52239,italic:0,skew:0},8610:{depth:.01354,height:.52239,italic:0,skew:0},8611:{depth:.01354,height:.52239,italic:0,skew:0},8619:{depth:0,height:.54986,italic:0,skew:0},8620:{depth:0,height:.54986,italic:0,skew:0},8621:{depth:-.13313,height:.37788,italic:0,skew:0},8622:{depth:-.13313,height:.36687,italic:0,skew:0},8624:{depth:0,height:.69224,italic:0,skew:0},8625:{depth:0,height:.69224,italic:0,skew:0},8630:{depth:0,height:.43056,italic:0,skew:0},8631:{depth:0,height:.43056,italic:0,skew:0},8634:{depth:.08198,height:.58198,italic:0,skew:0},8635:{depth:.08198,height:.58198,italic:0,skew:0},8638:{depth:.19444,height:.69224,italic:0,skew:0},8639:{depth:.19444,height:.69224,italic:0,skew:0},8642:{depth:.19444,height:.69224,italic:0,skew:0},8643:{depth:.19444,height:.69224,italic:0,skew:0},8644:{depth:.1808,height:.675,italic:0,skew:0},8646:{depth:.1808,height:.675,italic:0,skew:0},8647:{depth:.1808,height:.675,italic:0,skew:0},8648:{depth:.19444,height:.69224,italic:0,skew:0},8649:{depth:.1808,height:.675,italic:0,skew:0},8650:{depth:.19444,height:.69224,italic:0,skew:0},8651:{depth:.01354,height:.52239,italic:0,skew:0},8652:{depth:.01354,height:.52239,italic:0,skew:0},8653:{depth:-.13313,height:.36687,italic:0,skew:0},8654:{depth:-.13313,height:.36687,italic:0,skew:0},8655:{depth:-.13313,height:.36687,italic:0,skew:0},8666:{depth:.13667,height:.63667,italic:0,skew:0},8667:{depth:.13667,height:.63667,italic:0,skew:0},8669:{depth:-.13313,height:.37788,italic:0,skew:0},8672:{depth:-.064,height:.437,italic:0,skew:0},8674:{depth:-.064,height:.437,italic:0,skew:0},8705:{depth:0,height:.825,italic:0,skew:0},8708:{depth:0,height:.68889,italic:0,skew:0},8709:{depth:.08167,height:.58167,italic:0,skew:0},8717:{depth:0,height:.43056,italic:0,skew:0},8722:{depth:-.03598,height:.46402,italic:0,skew:0},8724:{depth:.08198,height:.69224,italic:0,skew:0},8726:{depth:.08167,height:.58167,italic:0,skew:0},8733:{depth:0,height:.69224,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8737:{depth:0,height:.69224,italic:0,skew:0},8738:{depth:.03517,height:.52239,italic:0,skew:0},8739:{depth:.08167,height:.58167,italic:0,skew:0},8740:{depth:.25142,height:.74111,italic:0,skew:0},8741:{depth:.08167,height:.58167,italic:0,skew:0},8742:{depth:.25142,height:.74111,italic:0,skew:0},8756:{depth:0,height:.69224,italic:0,skew:0},8757:{depth:0,height:.69224,italic:0,skew:0},8764:{depth:-.13313,height:.36687,italic:0,skew:0},8765:{depth:-.13313,height:.37788,italic:0,skew:0},8769:{depth:-.13313,height:.36687,italic:0,skew:0},8770:{depth:-.03625,height:.46375,italic:0,skew:0},8774:{depth:.30274,height:.79383,italic:0,skew:0},8776:{depth:-.01688,height:.48312,italic:0,skew:0},8778:{depth:.08167,height:.58167,italic:0,skew:0},8782:{depth:.06062,height:.54986,italic:0,skew:0},8783:{depth:.06062,height:.54986,italic:0,skew:0},8785:{depth:.08198,height:.58198,italic:0,skew:0},8786:{depth:.08198,height:.58198,italic:0,skew:0},8787:{depth:.08198,height:.58198,italic:0,skew:0},8790:{depth:0,height:.69224,italic:0,skew:0},8791:{depth:.22958,height:.72958,italic:0,skew:0},8796:{depth:.08198,height:.91667,italic:0,skew:0},8806:{depth:.25583,height:.75583,italic:0,skew:0},8807:{depth:.25583,height:.75583,italic:0,skew:0},8808:{depth:.25142,height:.75726,italic:0,skew:0},8809:{depth:.25142,height:.75726,italic:0,skew:0},8812:{depth:.25583,height:.75583,italic:0,skew:0},8814:{depth:.20576,height:.70576,italic:0,skew:0},8815:{depth:.20576,height:.70576,italic:0,skew:0},8816:{depth:.30274,height:.79383,italic:0,skew:0},8817:{depth:.30274,height:.79383,italic:0,skew:0},8818:{depth:.22958,height:.72958,italic:0,skew:0},8819:{depth:.22958,height:.72958,italic:0,skew:0},8822:{depth:.1808,height:.675,italic:0,skew:0},8823:{depth:.1808,height:.675,italic:0,skew:0},8828:{depth:.13667,height:.63667,italic:0,skew:0},8829:{depth:.13667,height:.63667,italic:0,skew:0},8830:{depth:.22958,height:.72958,italic:0,skew:0},8831:{depth:.22958,height:.72958,italic:0,skew:0},8832:{depth:.20576,height:.70576,italic:0,skew:0},8833:{depth:.20576,height:.70576,italic:0,skew:0},8840:{depth:.30274,height:.79383,italic:0,skew:0},8841:{depth:.30274,height:.79383,italic:0,skew:0},8842:{depth:.13597,height:.63597,italic:0,skew:0},8843:{depth:.13597,height:.63597,italic:0,skew:0},8847:{depth:.03517,height:.54986,italic:0,skew:0},8848:{depth:.03517,height:.54986,italic:0,skew:0},8858:{depth:.08198,height:.58198,italic:0,skew:0},8859:{depth:.08198,height:.58198,italic:0,skew:0},8861:{depth:.08198,height:.58198,italic:0,skew:0},8862:{depth:0,height:.675,italic:0,skew:0},8863:{depth:0,height:.675,italic:0,skew:0},8864:{depth:0,height:.675,italic:0,skew:0},8865:{depth:0,height:.675,italic:0,skew:0},8872:{depth:0,height:.69224,italic:0,skew:0},8873:{depth:0,height:.69224,italic:0,skew:0},8874:{depth:0,height:.69224,italic:0,skew:0},8876:{depth:0,height:.68889,italic:0,skew:0},8877:{depth:0,height:.68889,italic:0,skew:0},8878:{depth:0,height:.68889,italic:0,skew:0},8879:{depth:0,height:.68889,italic:0,skew:0},8882:{depth:.03517,height:.54986,italic:0,skew:0},8883:{depth:.03517,height:.54986,italic:0,skew:0},8884:{depth:.13667,height:.63667,italic:0,skew:0},8885:{depth:.13667,height:.63667,italic:0,skew:0},8888:{depth:0,height:.54986,italic:0,skew:0},8890:{depth:.19444,height:.43056,italic:0,skew:0},8891:{depth:.19444,height:.69224,italic:0,skew:0},8892:{depth:.19444,height:.69224,italic:0,skew:0},8901:{depth:0,height:.54986,italic:0,skew:0},8903:{depth:.08167,height:.58167,italic:0,skew:0},8905:{depth:.08167,height:.58167,italic:0,skew:0},8906:{depth:.08167,height:.58167,italic:0,skew:0},8907:{depth:0,height:.69224,italic:0,skew:0},8908:{depth:0,height:.69224,italic:0,skew:0},8909:{depth:-.03598,height:.46402,italic:0,skew:0},8910:{depth:0,height:.54986,italic:0,skew:0},8911:{depth:0,height:.54986,italic:0,skew:0},8912:{depth:.03517,height:.54986,italic:0,skew:0},8913:{depth:.03517,height:.54986,italic:0,skew:0},8914:{depth:0,height:.54986,italic:0,skew:0},8915:{depth:0,height:.54986,italic:0,skew:0},8916:{depth:0,height:.69224,italic:0,skew:0},8918:{depth:.0391,height:.5391,italic:0,skew:0},8919:{depth:.0391,height:.5391,italic:0,skew:0},8920:{depth:.03517,height:.54986,italic:0,skew:0},8921:{depth:.03517,height:.54986,italic:0,skew:0},8922:{depth:.38569,height:.88569,italic:0,skew:0},8923:{depth:.38569,height:.88569,italic:0,skew:0},8926:{depth:.13667,height:.63667,italic:0,skew:0},8927:{depth:.13667,height:.63667,italic:0,skew:0},8928:{depth:.30274,height:.79383,italic:0,skew:0},8929:{depth:.30274,height:.79383,italic:0,skew:0},8934:{depth:.23222,height:.74111,italic:0,skew:0},8935:{depth:.23222,height:.74111,italic:0,skew:0},8936:{depth:.23222,height:.74111,italic:0,skew:0},8937:{depth:.23222,height:.74111,italic:0,skew:0},8938:{depth:.20576,height:.70576,italic:0,skew:0},8939:{depth:.20576,height:.70576,italic:0,skew:0},8940:{depth:.30274,height:.79383,italic:0,skew:0},8941:{depth:.30274,height:.79383,italic:0,skew:0},8994:{depth:.19444,height:.69224,italic:0,skew:0},8995:{depth:.19444,height:.69224,italic:0,skew:0},9416:{depth:.15559,height:.69224,italic:0,skew:0},9484:{depth:0,height:.69224,italic:0,skew:0},9488:{depth:0,height:.69224,italic:0,skew:0},9492:{depth:0,height:.37788,italic:0,skew:0},9496:{depth:0,height:.37788,italic:0,skew:0},9585:{depth:.19444,height:.68889,italic:0,skew:0},9586:{depth:.19444,height:.74111,italic:0,skew:0},9632:{depth:0,height:.675,italic:0,skew:0},9633:{depth:0,height:.675,italic:0,skew:0},9650:{depth:0,height:.54986,italic:0,skew:0},9651:{depth:0,height:.54986,italic:0,skew:0},9654:{depth:.03517,height:.54986,italic:0,skew:0},9660:{depth:0,height:.54986,italic:0,skew:0},9661:{depth:0,height:.54986,italic:0,skew:0},9664:{depth:.03517,height:.54986,italic:0,skew:0},9674:{depth:.11111,height:.69224,italic:0,skew:0},9733:{depth:.19444,height:.69224,italic:0,skew:0},10003:{depth:0,height:.69224,italic:0,skew:0},10016:{depth:0,height:.69224,italic:0,skew:0},10731:{depth:.11111,height:.69224,italic:0,skew:0},10846:{depth:.19444,height:.75583,italic:0,skew:0},10877:{depth:.13667,height:.63667,italic:0,skew:0},10878:{depth:.13667,height:.63667,italic:0,skew:0},10885:{depth:.25583,height:.75583,italic:0,skew:0},10886:{depth:.25583,height:.75583,italic:0,skew:0},10887:{depth:.13597,height:.63597,italic:0,skew:0},10888:{depth:.13597,height:.63597,italic:0,skew:0},10889:{depth:.26167,height:.75726,italic:0,skew:0},10890:{depth:.26167,height:.75726,italic:0,skew:0},10891:{depth:.48256,height:.98256,italic:0,skew:0},10892:{depth:.48256,height:.98256,italic:0,skew:0},10901:{depth:.13667,height:.63667,italic:0,skew:0},10902:{depth:.13667,height:.63667,italic:0,skew:0},10933:{depth:.25142,height:.75726,italic:0,skew:0},10934:{depth:.25142,height:.75726,italic:0,skew:0},10935:{depth:.26167,height:.75726,italic:0,skew:0},10936:{depth:.26167,height:.75726,italic:0,skew:0},10937:{depth:.26167,height:.75726,italic:0,skew:0},10938:{depth:.26167,height:.75726,italic:0,skew:0},10949:{depth:.25583,height:.75583,italic:0,skew:0},10950:{depth:.25583,height:.75583,italic:0,skew:0},10955:{depth:.28481,height:.79383,italic:0,skew:0},10956:{depth:.28481,height:.79383,italic:0,skew:0},57350:{depth:.08167,height:.58167,italic:0,skew:0},57351:{depth:.08167,height:.58167,italic:0,skew:0},57352:{depth:.08167,height:.58167,italic:0,skew:0},57353:{depth:0,height:.43056,italic:.04028,skew:0},57356:{depth:.25142,height:.75726,italic:0,skew:0},57357:{depth:.25142,height:.75726,italic:0,skew:0},57358:{depth:.41951,height:.91951,italic:0,skew:0},57359:{depth:.30274,height:.79383,italic:0,skew:0},57360:{depth:.30274,height:.79383,italic:0,skew:0},57361:{depth:.41951,height:.91951,italic:0,skew:0},57366:{depth:.25142,height:.75726,italic:0,skew:0},57367:{depth:.25142,height:.75726,italic:0,skew:0},57368:{depth:.25142,height:.75726,italic:0,skew:0},57369:{depth:.25142,height:.75726,italic:0,skew:0},57370:{depth:.13597,height:.63597,italic:0,skew:0},57371:{depth:.13597,height:.63597,italic:0,skew:0}},"Main-Bold":{33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.13333,height:.63333,italic:0,skew:0},44:{depth:.19444,height:.15556,italic:0,skew:0},45:{depth:0,height:.44444,italic:0,skew:0},46:{depth:0,height:.15556,italic:0,skew:0},47:{depth:.25,height:.75,italic:0,skew:0},48:{depth:0,height:.64444,italic:0,skew:0},49:{depth:0,height:.64444,italic:0,skew:0},50:{depth:0,height:.64444,italic:0,skew:0},51:{depth:0,height:.64444,italic:0,skew:0},52:{depth:0,height:.64444,italic:0,skew:0},53:{depth:0,height:.64444,italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:0,height:.64444,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},57:{depth:0,height:.64444,italic:0,skew:0},58:{depth:0,height:.44444,italic:0,skew:0},59:{depth:.19444,height:.44444,italic:0,skew:0},60:{depth:.08556,height:.58556,italic:0,skew:0},61:{depth:-.10889,height:.39111,italic:0,skew:0},62:{depth:.08556,height:.58556,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},65:{depth:0,height:.68611,italic:0,skew:0},66:{depth:0,height:.68611,italic:0,skew:0},67:{depth:0,height:.68611,italic:0,skew:0},68:{depth:0,height:.68611,italic:0,skew:0},69:{depth:0,height:.68611,italic:0,skew:0},70:{depth:0,height:.68611,italic:0,skew:0},71:{depth:0,height:.68611,italic:0,skew:0},72:{depth:0,height:.68611,italic:0,skew:0},73:{depth:0,height:.68611,italic:0,skew:0},74:{depth:0,height:.68611,italic:0,skew:0},75:{depth:0,height:.68611,italic:0,skew:0},76:{depth:0,height:.68611,italic:0,skew:0},77:{depth:0,height:.68611,italic:0,skew:0},78:{depth:0,height:.68611,italic:0,skew:0},79:{depth:0,height:.68611,italic:0,skew:0},80:{depth:0,height:.68611,italic:0,skew:0},81:{depth:.19444,height:.68611,italic:0,skew:0},82:{depth:0,height:.68611,italic:0,skew:0},83:{depth:0,height:.68611,italic:0,skew:0},84:{depth:0,height:.68611,italic:0,skew:0},85:{depth:0,height:.68611,italic:0,skew:0},86:{depth:0,height:.68611,italic:.01597,skew:0},87:{depth:0,height:.68611,italic:.01597,skew:0},88:{depth:0,height:.68611,italic:0,skew:0},89:{depth:0,height:.68611,italic:.02875,skew:0},90:{depth:0,height:.68611,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},92:{depth:.25,height:.75,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},95:{depth:.31,height:.13444,italic:.03194,skew:0},96:{depth:0,height:.69444,italic:0,skew:0},97:{depth:0,height:.44444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.44444,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},102:{depth:0,height:.69444,italic:.10903,skew:0},103:{depth:.19444,height:.44444,italic:.01597,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.69444,italic:0,skew:0},106:{depth:.19444,height:.69444,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,italic:0,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:0,skew:0},114:{depth:0,height:.44444,italic:0,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.63492,italic:0,skew:0},117:{depth:0,height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.01597,skew:0},119:{depth:0,height:.44444,italic:.01597,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.01597,skew:0},122:{depth:0,height:.44444,italic:0,skew:0},123:{depth:.25,height:.75,italic:0,skew:0},124:{depth:.25,height:.75,italic:0,skew:0},125:{depth:.25,height:.75,italic:0,skew:0},126:{depth:.35,height:.34444,italic:0,skew:0},168:{depth:0,height:.69444,italic:0,skew:0},172:{depth:0,height:.44444,italic:0,skew:0},175:{depth:0,height:.59611,italic:0,skew:0},176:{depth:0,height:.69444,italic:0,skew:0},177:{depth:.13333,height:.63333,italic:0,skew:0},180:{depth:0,height:.69444,italic:0,skew:0},215:{depth:.13333,height:.63333,italic:0,skew:0},247:{depth:.13333,height:.63333,italic:0,skew:0},305:{depth:0,height:.44444,italic:0,skew:0},567:{depth:.19444,height:.44444,italic:0,skew:0},710:{depth:0,height:.69444,italic:0,skew:0},711:{depth:0,height:.63194,italic:0,skew:0},713:{depth:0,height:.59611,italic:0,skew:0},714:{depth:0,height:.69444,italic:0,skew:0},715:{depth:0,height:.69444,italic:0,skew:0},728:{depth:0,height:.69444,italic:0,skew:0},729:{depth:0,height:.69444,italic:0,skew:0},730:{depth:0,height:.69444,italic:0,skew:0},732:{depth:0,height:.69444,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.69444,italic:0,skew:0},772:{depth:0,height:.59611,italic:0,skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.69444,italic:0,skew:0},776:{depth:0,height:.69444,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:0,skew:0},780:{depth:0,height:.63194,italic:0,skew:0},824:{depth:.19444,height:.69444,italic:0,skew:0},915:{depth:0,height:.68611,italic:0,skew:0},916:{depth:0,height:.68611,italic:0,skew:0},920:{depth:0,height:.68611,italic:0,skew:0},923:{depth:0,height:.68611,italic:0,skew:0},926:{depth:0,height:.68611,italic:0,skew:0},928:{depth:0,height:.68611,italic:0,skew:0},931:{depth:0,height:.68611,italic:0,skew:0},933:{depth:0,height:.68611,italic:0,skew:0},934:{depth:0,height:.68611,italic:0,skew:0},936:{depth:0,height:.68611,italic:0,skew:0},937:{depth:0,height:.68611,italic:0,skew:0},8211:{depth:0,height:.44444,italic:.03194,skew:0},8212:{depth:0,height:.44444,italic:.03194,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,italic:0,skew:0},8221:{depth:0,height:.69444,italic:0,skew:0},8224:{depth:.19444,height:.69444,italic:0,skew:0},8225:{depth:.19444,height:.69444,italic:0,skew:0},8242:{depth:0,height:.55556,italic:0,skew:0},8407:{depth:0,height:.72444,italic:.15486,skew:0},8463:{depth:0,height:.69444,italic:0,skew:0},8465:{depth:0,height:.69444,italic:0,skew:0},8467:{depth:0,height:.69444,italic:0,skew:0},8472:{depth:.19444,height:.44444,italic:0,skew:0},8476:{depth:0,height:.69444,italic:0,skew:0},8501:{depth:0,height:.69444,italic:0,skew:0},8592:{depth:-.10889,height:.39111,italic:0,skew:0},8593:{depth:.19444,height:.69444,italic:0,skew:0},8594:{depth:-.10889,height:.39111,italic:0,skew:0},8595:{depth:.19444,height:.69444,italic:0,skew:0},8596:{depth:-.10889,height:.39111,italic:0,skew:0},8597:{depth:.25,height:.75,italic:0,skew:0},8598:{depth:.19444,height:.69444,italic:0,skew:0},8599:{depth:.19444,height:.69444,italic:0,skew:0},8600:{depth:.19444,height:.69444,italic:0,skew:0},8601:{depth:.19444,height:.69444,italic:0,skew:0},8636:{depth:-.10889,height:.39111,italic:0,skew:0},8637:{depth:-.10889,height:.39111,italic:0,skew:0},8640:{depth:-.10889,height:.39111,italic:0,skew:0},8641:{depth:-.10889,height:.39111,italic:0,skew:0},8656:{depth:-.10889,height:.39111,italic:0,skew:0},8657:{depth:.19444,height:.69444,italic:0,skew:0},8658:{depth:-.10889,height:.39111,italic:0,skew:0},8659:{depth:.19444,height:.69444,italic:0,skew:0},8660:{depth:-.10889,height:.39111,italic:0,skew:0},8661:{depth:.25,height:.75,italic:0,skew:0},8704:{depth:0,height:.69444,italic:0,skew:0},8706:{depth:0,height:.69444,italic:.06389,skew:0},8707:{depth:0,height:.69444,italic:0,skew:0},8709:{depth:.05556,height:.75,italic:0,skew:0},8711:{depth:0,height:.68611,italic:0,skew:0},8712:{depth:.08556,height:.58556,italic:0,skew:0},8715:{depth:.08556,height:.58556,italic:0,skew:0},8722:{depth:.13333,height:.63333,italic:0,skew:0},8723:{depth:.13333,height:.63333,italic:0,skew:0},8725:{depth:.25,height:.75,italic:0,skew:0},8726:{depth:.25,height:.75,italic:0,skew:0},8727:{depth:-.02778,height:.47222,italic:0,skew:0},8728:{depth:-.02639,height:.47361,italic:0,skew:0},8729:{depth:-.02639,height:.47361,italic:0,skew:0},8730:{depth:.18,height:.82,italic:0,skew:0},8733:{depth:0,height:.44444,italic:0,skew:0},8734:{depth:0,height:.44444,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8739:{depth:.25,height:.75,italic:0,skew:0},8741:{depth:.25,height:.75,italic:0,skew:0},8743:{depth:0,height:.55556,italic:0,skew:0},8744:{depth:0,height:.55556,italic:0,skew:0},8745:{depth:0,height:.55556,italic:0,skew:0},8746:{depth:0,height:.55556,italic:0,skew:0},8747:{depth:.19444,height:.69444,italic:.12778,skew:0},8764:{depth:-.10889,height:.39111,italic:0,skew:0},8768:{depth:.19444,height:.69444,italic:0,skew:0},8771:{depth:.00222,height:.50222,italic:0,skew:0},8776:{depth:.02444,height:.52444,italic:0,skew:0},8781:{depth:.00222,height:.50222,italic:0,skew:0},8801:{depth:.00222,height:.50222,italic:0,skew:0},8804:{depth:.19667,height:.69667,italic:0,skew:0},8805:{depth:.19667,height:.69667,italic:0,skew:0},8810:{depth:.08556,height:.58556,italic:0,skew:0},8811:{depth:.08556,height:.58556,italic:0,skew:0},8826:{depth:.08556,height:.58556,italic:0,skew:0},8827:{depth:.08556,height:.58556,italic:0,skew:0},8834:{depth:.08556,height:.58556,italic:0,skew:0},8835:{depth:.08556,height:.58556,italic:0,skew:0},8838:{depth:.19667,height:.69667,italic:0,skew:0},8839:{depth:.19667,height:.69667,italic:0,skew:0},8846:{depth:0,height:.55556,italic:0,skew:0},8849:{depth:.19667,height:.69667,italic:0,skew:0},8850:{depth:.19667,height:.69667,italic:0,skew:0},8851:{depth:0,height:.55556,italic:0,skew:0},8852:{depth:0,height:.55556,italic:0,skew:0},8853:{depth:.13333,height:.63333,italic:0,skew:0},8854:{depth:.13333,height:.63333,italic:0,skew:0},8855:{depth:.13333,height:.63333,italic:0,skew:0},8856:{depth:.13333,height:.63333,italic:0,skew:0},8857:{depth:.13333,height:.63333,italic:0,skew:0},8866:{depth:0,height:.69444,italic:0,skew:0},8867:{depth:0,height:.69444,italic:0,skew:0},8868:{depth:0,height:.69444,italic:0,skew:0},8869:{depth:0,height:.69444,italic:0,skew:0},8900:{depth:-.02639,height:.47361,italic:0,skew:0},8901:{depth:-.02639,height:.47361,italic:0,skew:0},8902:{depth:-.02778,height:.47222,italic:0,skew:0},8968:{depth:.25,height:.75,italic:0,skew:0},8969:{depth:.25,height:.75,italic:0,skew:0},8970:{depth:.25,height:.75,italic:0,skew:0},8971:{depth:.25,height:.75,italic:0,skew:0},8994:{depth:-.13889,height:.36111,italic:0,skew:0},8995:{depth:-.13889,height:.36111,italic:0,skew:0},9651:{depth:.19444,height:.69444,italic:0,skew:0},9657:{depth:-.02778,height:.47222,italic:0,skew:0},9661:{depth:.19444,height:.69444,italic:0,skew:0},9667:{depth:-.02778,height:.47222,italic:0,skew:0},9711:{depth:.19444,height:.69444,italic:0,skew:0},9824:{depth:.12963,height:.69444,italic:0,skew:0},9825:{depth:.12963,height:.69444,italic:0,skew:0},9826:{depth:.12963,height:.69444,italic:0,skew:0},9827:{depth:.12963,height:.69444,italic:0,skew:0},9837:{depth:0,height:.75,italic:0,skew:0},9838:{depth:.19444,height:.69444,italic:0,skew:0},9839:{depth:.19444,height:.69444,italic:0,skew:0},10216:{depth:.25,height:.75,italic:0,skew:0},10217:{depth:.25,height:.75,italic:0,skew:0},10815:{depth:0,height:.68611,italic:0,skew:0},10927:{depth:.19667,height:.69667,italic:0,skew:0},10928:{depth:.19667,height:.69667,italic:0,skew:0}},"Main-Italic":{33:{depth:0,height:.69444,italic:.12417,skew:0},34:{depth:0,height:.69444,italic:.06961,skew:0},35:{depth:.19444,height:.69444,italic:.06616,skew:0},37:{depth:.05556,height:.75,italic:.13639,skew:0},38:{depth:0,height:.69444,italic:.09694,skew:0},39:{depth:0,height:.69444,italic:.12417,skew:0},40:{depth:.25,height:.75,italic:.16194,skew:0},41:{depth:.25,height:.75,italic:.03694,skew:0},42:{depth:0,height:.75,italic:.14917,skew:0},43:{depth:.05667,height:.56167,italic:.03694,skew:0},44:{depth:.19444,height:.10556,italic:0,skew:0},45:{depth:0,height:.43056,italic:.02826,skew:0},46:{depth:0,height:.10556,italic:0,skew:0},47:{depth:.25,height:.75,italic:.16194,skew:0},48:{depth:0,height:.64444,italic:.13556,skew:0},49:{depth:0,height:.64444,italic:.13556,skew:0},50:{depth:0,height:.64444,italic:.13556,skew:0},51:{depth:0,height:.64444,italic:.13556,skew:0},52:{depth:.19444,height:.64444,italic:.13556,skew:0},53:{depth:0,height:.64444,italic:.13556,skew:0},54:{depth:0,height:.64444,italic:.13556,skew:0},55:{depth:.19444,height:.64444,italic:.13556,skew:0},56:{depth:0,height:.64444,italic:.13556,skew:0},57:{depth:0,height:.64444,italic:.13556,skew:0},58:{depth:0,height:.43056,italic:.0582,skew:0},59:{depth:.19444,height:.43056,italic:.0582,skew:0},61:{depth:-.13313,height:.36687,italic:.06616,skew:0},63:{depth:0,height:.69444,italic:.1225,skew:0},64:{depth:0,height:.69444,italic:.09597,skew:0},65:{depth:0,height:.68333,italic:0,skew:0},66:{depth:0,height:.68333,italic:.10257,skew:0},67:{depth:0,height:.68333,italic:.14528,skew:0},68:{depth:0,height:.68333,italic:.09403,skew:0},69:{depth:0,height:.68333,italic:.12028,skew:0},70:{depth:0,height:.68333,italic:.13305,skew:0},71:{depth:0,height:.68333,italic:.08722,skew:0},72:{depth:0,height:.68333,italic:.16389,skew:0},73:{depth:0,height:.68333,italic:.15806,skew:0},74:{depth:0,height:.68333,italic:.14028,skew:0},75:{depth:0,height:.68333,italic:.14528,skew:0},76:{depth:0,height:.68333,italic:0,skew:0},77:{depth:0,height:.68333,italic:.16389,skew:0},78:{depth:0,height:.68333,italic:.16389,skew:0},79:{depth:0,height:.68333,italic:.09403,skew:0},80:{depth:0,height:.68333,italic:.10257,skew:0},81:{depth:.19444,height:.68333,italic:.09403,skew:0},82:{depth:0,height:.68333,italic:.03868,skew:0},83:{depth:0,height:.68333,italic:.11972,skew:0},84:{depth:0,height:.68333,italic:.13305,skew:0},85:{depth:0,height:.68333,italic:.16389,skew:0},86:{depth:0,height:.68333,italic:.18361,skew:0},87:{depth:0,height:.68333,italic:.18361,skew:0},88:{depth:0,height:.68333,italic:.15806,skew:0},89:{depth:0,height:.68333,italic:.19383,skew:0},90:{depth:0,height:.68333,italic:.14528,skew:0},91:{depth:.25,height:.75,italic:.1875,skew:0},93:{depth:.25,height:.75,italic:.10528,skew:0},94:{depth:0,height:.69444,italic:.06646,skew:0},95:{depth:.31,height:.12056,italic:.09208,skew:0},97:{depth:0,height:.43056,italic:.07671,skew:0},98:{depth:0,height:.69444,italic:.06312,skew:0},99:{depth:0,height:.43056,italic:.05653,skew:0},100:{depth:0,height:.69444,italic:.10333,skew:0},101:{depth:0,height:.43056,italic:.07514,skew:0},102:{depth:.19444,height:.69444,italic:.21194,skew:0},103:{depth:.19444,height:.43056,italic:.08847,skew:0},104:{depth:0,height:.69444,italic:.07671,skew:0},105:{depth:0,height:.65536,italic:.1019,skew:0},106:{depth:.19444,height:.65536,italic:.14467,skew:0},107:{depth:0,height:.69444,italic:.10764,skew:0},108:{depth:0,height:.69444,italic:.10333,skew:0},109:{depth:0,height:.43056,italic:.07671,skew:0},110:{depth:0,height:.43056,italic:.07671,skew:0},111:{depth:0,height:.43056,italic:.06312,skew:0},112:{depth:.19444,height:.43056,italic:.06312,skew:0},113:{depth:.19444,height:.43056,italic:.08847,skew:0},114:{depth:0,height:.43056,italic:.10764,skew:0},115:{depth:0,height:.43056,italic:.08208,skew:0},116:{depth:0,height:.61508,italic:.09486,skew:0},117:{depth:0,height:.43056,italic:.07671,skew:0},118:{depth:0,height:.43056,italic:.10764,skew:0},119:{depth:0,height:.43056,italic:.10764,skew:0},120:{depth:0,height:.43056,italic:.12042,skew:0},121:{depth:.19444,height:.43056,italic:.08847,skew:0},122:{depth:0,height:.43056,italic:.12292,skew:0},126:{depth:.35,height:.31786,italic:.11585,skew:0},163:{depth:0,height:.69444,italic:0,skew:0},305:{depth:0,height:.43056,italic:0,skew:.02778},567:{depth:.19444,height:.43056,italic:0,skew:.08334},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:.09694,skew:0},770:{depth:0,height:.69444,italic:.06646,skew:0},771:{depth:0,height:.66786,italic:.11585,skew:0},772:{depth:0,height:.56167,italic:.10333,skew:0},774:{depth:0,height:.69444,italic:.10806,skew:0},775:{depth:0,height:.66786,italic:.11752,skew:0},776:{depth:0,height:.66786,italic:.10474,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:.1225,skew:0},780:{depth:0,height:.62847,italic:.08295,skew:0},915:{depth:0,height:.68333,italic:.13305,skew:0},916:{depth:0,height:.68333,italic:0,skew:0},920:{depth:0,height:.68333,italic:.09403,skew:0},923:{depth:0,height:.68333,italic:0,skew:0},926:{depth:0,height:.68333,italic:.15294,skew:0},928:{depth:0,height:.68333,italic:.16389,skew:0},931:{depth:0,height:.68333,italic:.12028,skew:0},933:{depth:0,height:.68333,italic:.11111,skew:0},934:{depth:0,height:.68333,italic:.05986,skew:0},936:{depth:0,height:.68333,italic:.11111,skew:0},937:{depth:0,height:.68333,italic:.10257,skew:0},8211:{depth:0,height:.43056,italic:.09208,skew:0},8212:{depth:0,height:.43056,italic:.09208,skew:0},8216:{depth:0,height:.69444,italic:.12417,skew:0},8217:{depth:0,height:.69444,italic:.12417,skew:0},8220:{depth:0,height:.69444,italic:.1685,skew:0},8221:{depth:0,height:.69444,italic:.06961,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0}},"Main-Regular":{32:{depth:0,height:0,italic:0,skew:0},33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.08333,height:.58333,italic:0,skew:0},44:{depth:.19444,height:.10556,italic:0,skew:0},45:{depth:0,height:.43056,italic:0,skew:0},46:{depth:0,height:.10556,italic:0,skew:0},47:{depth:.25,height:.75,italic:0,skew:0},48:{depth:0,height:.64444,italic:0,skew:0},49:{depth:0,height:.64444,italic:0,skew:0},50:{depth:0,height:.64444,italic:0,skew:0},51:{depth:0,height:.64444,italic:0,skew:0},52:{depth:0,height:.64444,italic:0,skew:0},53:{depth:0,height:.64444,italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:0,height:.64444,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},57:{depth:0,height:.64444,italic:0,skew:0},58:{depth:0,height:.43056,italic:0,skew:0},59:{depth:.19444,height:.43056,italic:0,skew:0},60:{depth:.0391,height:.5391,italic:0,skew:0},61:{depth:-.13313,height:.36687,italic:0,skew:0},62:{depth:.0391,height:.5391,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},65:{depth:0,height:.68333,italic:0,skew:0},66:{depth:0,height:.68333,italic:0,skew:0},67:{depth:0,height:.68333,italic:0,skew:0},68:{depth:0,height:.68333,italic:0,skew:0},69:{depth:0,height:.68333,italic:0,skew:0},70:{depth:0,height:.68333,italic:0,skew:0},71:{depth:0,height:.68333,italic:0,skew:0},72:{depth:0,height:.68333,italic:0,skew:0},73:{depth:0,height:.68333,italic:0,skew:0},74:{depth:0,height:.68333,italic:0,skew:0},75:{depth:0,height:.68333,italic:0,skew:0},76:{depth:0,height:.68333,italic:0,skew:0},77:{depth:0,height:.68333,italic:0,skew:0},78:{depth:0,height:.68333,italic:0,skew:0},79:{depth:0,height:.68333,italic:0,skew:0},80:{depth:0,height:.68333,italic:0,skew:0},81:{depth:.19444,height:.68333,italic:0,skew:0},82:{depth:0,height:.68333,italic:0,skew:0},83:{depth:0,height:.68333,italic:0,skew:0},84:{depth:0,height:.68333,italic:0,skew:0},85:{depth:0,height:.68333,italic:0,skew:0},86:{depth:0,height:.68333,italic:.01389,skew:0},87:{depth:0,height:.68333,italic:.01389,skew:0},88:{depth:0,height:.68333,italic:0,skew:0},89:{depth:0,height:.68333,italic:.025,skew:0},90:{depth:0,height:.68333,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},92:{depth:.25,height:.75,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},95:{depth:.31,height:.12056,italic:.02778,skew:0},96:{depth:0,height:.69444,italic:0,skew:0},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.43056,italic:0,skew:0},102:{
depth:0,height:.69444,italic:.07778,skew:0},103:{depth:.19444,height:.43056,italic:.01389,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.66786,italic:0,skew:0},106:{depth:.19444,height:.66786,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,italic:0,skew:0},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:0},112:{depth:.19444,height:.43056,italic:0,skew:0},113:{depth:.19444,height:.43056,italic:0,skew:0},114:{depth:0,height:.43056,italic:0,skew:0},115:{depth:0,height:.43056,italic:0,skew:0},116:{depth:0,height:.61508,italic:0,skew:0},117:{depth:0,height:.43056,italic:0,skew:0},118:{depth:0,height:.43056,italic:.01389,skew:0},119:{depth:0,height:.43056,italic:.01389,skew:0},120:{depth:0,height:.43056,italic:0,skew:0},121:{depth:.19444,height:.43056,italic:.01389,skew:0},122:{depth:0,height:.43056,italic:0,skew:0},123:{depth:.25,height:.75,italic:0,skew:0},124:{depth:.25,height:.75,italic:0,skew:0},125:{depth:.25,height:.75,italic:0,skew:0},126:{depth:.35,height:.31786,italic:0,skew:0},160:{depth:0,height:0,italic:0,skew:0},168:{depth:0,height:.66786,italic:0,skew:0},172:{depth:0,height:.43056,italic:0,skew:0},175:{depth:0,height:.56778,italic:0,skew:0},176:{depth:0,height:.69444,italic:0,skew:0},177:{depth:.08333,height:.58333,italic:0,skew:0},180:{depth:0,height:.69444,italic:0,skew:0},215:{depth:.08333,height:.58333,italic:0,skew:0},247:{depth:.08333,height:.58333,italic:0,skew:0},305:{depth:0,height:.43056,italic:0,skew:0},567:{depth:.19444,height:.43056,italic:0,skew:0},710:{depth:0,height:.69444,italic:0,skew:0},711:{depth:0,height:.62847,italic:0,skew:0},713:{depth:0,height:.56778,italic:0,skew:0},714:{depth:0,height:.69444,italic:0,skew:0},715:{depth:0,height:.69444,italic:0,skew:0},728:{depth:0,height:.69444,italic:0,skew:0},729:{depth:0,height:.66786,italic:0,skew:0},730:{depth:0,height:.69444,italic:0,skew:0},732:{depth:0,height:.66786,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.66786,italic:0,skew:0},772:{depth:0,height:.56778,italic:0,skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.66786,italic:0,skew:0},776:{depth:0,height:.66786,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:0,skew:0},780:{depth:0,height:.62847,italic:0,skew:0},824:{depth:.19444,height:.69444,italic:0,skew:0},915:{depth:0,height:.68333,italic:0,skew:0},916:{depth:0,height:.68333,italic:0,skew:0},920:{depth:0,height:.68333,italic:0,skew:0},923:{depth:0,height:.68333,italic:0,skew:0},926:{depth:0,height:.68333,italic:0,skew:0},928:{depth:0,height:.68333,italic:0,skew:0},931:{depth:0,height:.68333,italic:0,skew:0},933:{depth:0,height:.68333,italic:0,skew:0},934:{depth:0,height:.68333,italic:0,skew:0},936:{depth:0,height:.68333,italic:0,skew:0},937:{depth:0,height:.68333,italic:0,skew:0},8211:{depth:0,height:.43056,italic:.02778,skew:0},8212:{depth:0,height:.43056,italic:.02778,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,italic:0,skew:0},8221:{depth:0,height:.69444,italic:0,skew:0},8224:{depth:.19444,height:.69444,italic:0,skew:0},8225:{depth:.19444,height:.69444,italic:0,skew:0},8230:{depth:0,height:.12,italic:0,skew:0},8242:{depth:0,height:.55556,italic:0,skew:0},8407:{depth:0,height:.71444,italic:.15382,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},8465:{depth:0,height:.69444,italic:0,skew:0},8467:{depth:0,height:.69444,italic:0,skew:.11111},8472:{depth:.19444,height:.43056,italic:0,skew:.11111},8476:{depth:0,height:.69444,italic:0,skew:0},8501:{depth:0,height:.69444,italic:0,skew:0},8592:{depth:-.13313,height:.36687,italic:0,skew:0},8593:{depth:.19444,height:.69444,italic:0,skew:0},8594:{depth:-.13313,height:.36687,italic:0,skew:0},8595:{depth:.19444,height:.69444,italic:0,skew:0},8596:{depth:-.13313,height:.36687,italic:0,skew:0},8597:{depth:.25,height:.75,italic:0,skew:0},8598:{depth:.19444,height:.69444,italic:0,skew:0},8599:{depth:.19444,height:.69444,italic:0,skew:0},8600:{depth:.19444,height:.69444,italic:0,skew:0},8601:{depth:.19444,height:.69444,italic:0,skew:0},8614:{depth:.011,height:.511,italic:0,skew:0},8617:{depth:.011,height:.511,italic:0,skew:0},8618:{depth:.011,height:.511,italic:0,skew:0},8636:{depth:-.13313,height:.36687,italic:0,skew:0},8637:{depth:-.13313,height:.36687,italic:0,skew:0},8640:{depth:-.13313,height:.36687,italic:0,skew:0},8641:{depth:-.13313,height:.36687,italic:0,skew:0},8652:{depth:.011,height:.671,italic:0,skew:0},8656:{depth:-.13313,height:.36687,italic:0,skew:0},8657:{depth:.19444,height:.69444,italic:0,skew:0},8658:{depth:-.13313,height:.36687,italic:0,skew:0},8659:{depth:.19444,height:.69444,italic:0,skew:0},8660:{depth:-.13313,height:.36687,italic:0,skew:0},8661:{depth:.25,height:.75,italic:0,skew:0},8704:{depth:0,height:.69444,italic:0,skew:0},8706:{depth:0,height:.69444,italic:.05556,skew:.08334},8707:{depth:0,height:.69444,italic:0,skew:0},8709:{depth:.05556,height:.75,italic:0,skew:0},8711:{depth:0,height:.68333,italic:0,skew:0},8712:{depth:.0391,height:.5391,italic:0,skew:0},8715:{depth:.0391,height:.5391,italic:0,skew:0},8722:{depth:.08333,height:.58333,italic:0,skew:0},8723:{depth:.08333,height:.58333,italic:0,skew:0},8725:{depth:.25,height:.75,italic:0,skew:0},8726:{depth:.25,height:.75,italic:0,skew:0},8727:{depth:-.03472,height:.46528,italic:0,skew:0},8728:{depth:-.05555,height:.44445,italic:0,skew:0},8729:{depth:-.05555,height:.44445,italic:0,skew:0},8730:{depth:.2,height:.8,italic:0,skew:0},8733:{depth:0,height:.43056,italic:0,skew:0},8734:{depth:0,height:.43056,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8739:{depth:.25,height:.75,italic:0,skew:0},8741:{depth:.25,height:.75,italic:0,skew:0},8743:{depth:0,height:.55556,italic:0,skew:0},8744:{depth:0,height:.55556,italic:0,skew:0},8745:{depth:0,height:.55556,italic:0,skew:0},8746:{depth:0,height:.55556,italic:0,skew:0},8747:{depth:.19444,height:.69444,italic:.11111,skew:0},8764:{depth:-.13313,height:.36687,italic:0,skew:0},8768:{depth:.19444,height:.69444,italic:0,skew:0},8771:{depth:-.03625,height:.46375,italic:0,skew:0},8773:{depth:-.022,height:.589,italic:0,skew:0},8776:{depth:-.01688,height:.48312,italic:0,skew:0},8781:{depth:-.03625,height:.46375,italic:0,skew:0},8784:{depth:-.133,height:.67,italic:0,skew:0},8800:{depth:.215,height:.716,italic:0,skew:0},8801:{depth:-.03625,height:.46375,italic:0,skew:0},8804:{depth:.13597,height:.63597,italic:0,skew:0},8805:{depth:.13597,height:.63597,italic:0,skew:0},8810:{depth:.0391,height:.5391,italic:0,skew:0},8811:{depth:.0391,height:.5391,italic:0,skew:0},8826:{depth:.0391,height:.5391,italic:0,skew:0},8827:{depth:.0391,height:.5391,italic:0,skew:0},8834:{depth:.0391,height:.5391,italic:0,skew:0},8835:{depth:.0391,height:.5391,italic:0,skew:0},8838:{depth:.13597,height:.63597,italic:0,skew:0},8839:{depth:.13597,height:.63597,italic:0,skew:0},8846:{depth:0,height:.55556,italic:0,skew:0},8849:{depth:.13597,height:.63597,italic:0,skew:0},8850:{depth:.13597,height:.63597,italic:0,skew:0},8851:{depth:0,height:.55556,italic:0,skew:0},8852:{depth:0,height:.55556,italic:0,skew:0},8853:{depth:.08333,height:.58333,italic:0,skew:0},8854:{depth:.08333,height:.58333,italic:0,skew:0},8855:{depth:.08333,height:.58333,italic:0,skew:0},8856:{depth:.08333,height:.58333,italic:0,skew:0},8857:{depth:.08333,height:.58333,italic:0,skew:0},8866:{depth:0,height:.69444,italic:0,skew:0},8867:{depth:0,height:.69444,italic:0,skew:0},8868:{depth:0,height:.69444,italic:0,skew:0},8869:{depth:0,height:.69444,italic:0,skew:0},8872:{depth:.249,height:.75,italic:0,skew:0},8900:{depth:-.05555,height:.44445,italic:0,skew:0},8901:{depth:-.05555,height:.44445,italic:0,skew:0},8902:{depth:-.03472,height:.46528,italic:0,skew:0},8904:{depth:.005,height:.505,italic:0,skew:0},8942:{depth:.03,height:.9,italic:0,skew:0},8943:{depth:-.19,height:.31,italic:0,skew:0},8945:{depth:-.1,height:.82,italic:0,skew:0},8968:{depth:.25,height:.75,italic:0,skew:0},8969:{depth:.25,height:.75,italic:0,skew:0},8970:{depth:.25,height:.75,italic:0,skew:0},8971:{depth:.25,height:.75,italic:0,skew:0},8994:{depth:-.14236,height:.35764,italic:0,skew:0},8995:{depth:-.14236,height:.35764,italic:0,skew:0},9136:{depth:.244,height:.744,italic:0,skew:0},9137:{depth:.244,height:.744,italic:0,skew:0},9651:{depth:.19444,height:.69444,italic:0,skew:0},9657:{depth:-.03472,height:.46528,italic:0,skew:0},9661:{depth:.19444,height:.69444,italic:0,skew:0},9667:{depth:-.03472,height:.46528,italic:0,skew:0},9711:{depth:.19444,height:.69444,italic:0,skew:0},9824:{depth:.12963,height:.69444,italic:0,skew:0},9825:{depth:.12963,height:.69444,italic:0,skew:0},9826:{depth:.12963,height:.69444,italic:0,skew:0},9827:{depth:.12963,height:.69444,italic:0,skew:0},9837:{depth:0,height:.75,italic:0,skew:0},9838:{depth:.19444,height:.69444,italic:0,skew:0},9839:{depth:.19444,height:.69444,italic:0,skew:0},10216:{depth:.25,height:.75,italic:0,skew:0},10217:{depth:.25,height:.75,italic:0,skew:0},10222:{depth:.244,height:.744,italic:0,skew:0},10223:{depth:.244,height:.744,italic:0,skew:0},10229:{depth:.011,height:.511,italic:0,skew:0},10230:{depth:.011,height:.511,italic:0,skew:0},10231:{depth:.011,height:.511,italic:0,skew:0},10232:{depth:.024,height:.525,italic:0,skew:0},10233:{depth:.024,height:.525,italic:0,skew:0},10234:{depth:.024,height:.525,italic:0,skew:0},10236:{depth:.011,height:.511,italic:0,skew:0},10815:{depth:0,height:.68333,italic:0,skew:0},10927:{depth:.13597,height:.63597,italic:0,skew:0},10928:{depth:.13597,height:.63597,italic:0,skew:0}},"Math-BoldItalic":{47:{depth:.19444,height:.69444,italic:0,skew:0},65:{depth:0,height:.68611,italic:0,skew:0},66:{depth:0,height:.68611,italic:.04835,skew:0},67:{depth:0,height:.68611,italic:.06979,skew:0},68:{depth:0,height:.68611,italic:.03194,skew:0},69:{depth:0,height:.68611,italic:.05451,skew:0},70:{depth:0,height:.68611,italic:.15972,skew:0},71:{depth:0,height:.68611,italic:0,skew:0},72:{depth:0,height:.68611,italic:.08229,skew:0},73:{depth:0,height:.68611,italic:.07778,skew:0},74:{depth:0,height:.68611,italic:.10069,skew:0},75:{depth:0,height:.68611,italic:.06979,skew:0},76:{depth:0,height:.68611,italic:0,skew:0},77:{depth:0,height:.68611,italic:.11424,skew:0},78:{depth:0,height:.68611,italic:.11424,skew:0},79:{depth:0,height:.68611,italic:.03194,skew:0},80:{depth:0,height:.68611,italic:.15972,skew:0},81:{depth:.19444,height:.68611,italic:0,skew:0},82:{depth:0,height:.68611,italic:.00421,skew:0},83:{depth:0,height:.68611,italic:.05382,skew:0},84:{depth:0,height:.68611,italic:.15972,skew:0},85:{depth:0,height:.68611,italic:.11424,skew:0},86:{depth:0,height:.68611,italic:.25555,skew:0},87:{depth:0,height:.68611,italic:.15972,skew:0},88:{depth:0,height:.68611,italic:.07778,skew:0},89:{depth:0,height:.68611,italic:.25555,skew:0},90:{depth:0,height:.68611,italic:.06979,skew:0},97:{depth:0,height:.44444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.44444,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},102:{depth:.19444,height:.69444,italic:.11042,skew:0},103:{depth:.19444,height:.44444,italic:.03704,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.69326,italic:0,skew:0},106:{depth:.19444,height:.69326,italic:.0622,skew:0},107:{depth:0,height:.69444,italic:.01852,skew:0},108:{depth:0,height:.69444,italic:.0088,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:.03704,skew:0},114:{depth:0,height:.44444,italic:.03194,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.63492,italic:0,skew:0},117:{depth:0,height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.03704,skew:0},119:{depth:0,height:.44444,italic:.02778,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.03704,skew:0},122:{depth:0,height:.44444,italic:.04213,skew:0},915:{depth:0,height:.68611,italic:.15972,skew:0},916:{depth:0,height:.68611,italic:0,skew:0},920:{depth:0,height:.68611,italic:.03194,skew:0},923:{depth:0,height:.68611,italic:0,skew:0},926:{depth:0,height:.68611,italic:.07458,skew:0},928:{depth:0,height:.68611,italic:.08229,skew:0},931:{depth:0,height:.68611,italic:.05451,skew:0},933:{depth:0,height:.68611,italic:.15972,skew:0},934:{depth:0,height:.68611,italic:0,skew:0},936:{depth:0,height:.68611,italic:.11653,skew:0},937:{depth:0,height:.68611,italic:.04835,skew:0},945:{depth:0,height:.44444,italic:0,skew:0},946:{depth:.19444,height:.69444,italic:.03403,skew:0},947:{depth:.19444,height:.44444,italic:.06389,skew:0},948:{depth:0,height:.69444,italic:.03819,skew:0},949:{depth:0,height:.44444,italic:0,skew:0},950:{depth:.19444,height:.69444,italic:.06215,skew:0},951:{depth:.19444,height:.44444,italic:.03704,skew:0},952:{depth:0,height:.69444,italic:.03194,skew:0},953:{depth:0,height:.44444,italic:0,skew:0},954:{depth:0,height:.44444,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.44444,italic:0,skew:0},957:{depth:0,height:.44444,italic:.06898,skew:0},958:{depth:.19444,height:.69444,italic:.03021,skew:0},959:{depth:0,height:.44444,italic:0,skew:0},960:{depth:0,height:.44444,italic:.03704,skew:0},961:{depth:.19444,height:.44444,italic:0,skew:0},962:{depth:.09722,height:.44444,italic:.07917,skew:0},963:{depth:0,height:.44444,italic:.03704,skew:0},964:{depth:0,height:.44444,italic:.13472,skew:0},965:{depth:0,height:.44444,italic:.03704,skew:0},966:{depth:.19444,height:.44444,italic:0,skew:0},967:{depth:.19444,height:.44444,italic:0,skew:0},968:{depth:.19444,height:.69444,italic:.03704,skew:0},969:{depth:0,height:.44444,italic:.03704,skew:0},977:{depth:0,height:.69444,italic:0,skew:0},981:{depth:.19444,height:.69444,italic:0,skew:0},982:{depth:0,height:.44444,italic:.03194,skew:0},1009:{depth:.19444,height:.44444,italic:0,skew:0},1013:{depth:0,height:.44444,italic:0,skew:0}},"Math-Italic":{47:{depth:.19444,height:.69444,italic:0,skew:0},65:{depth:0,height:.68333,italic:0,skew:.13889},66:{depth:0,height:.68333,italic:.05017,skew:.08334},67:{depth:0,height:.68333,italic:.07153,skew:.08334},68:{depth:0,height:.68333,italic:.02778,skew:.05556},69:{depth:0,height:.68333,italic:.05764,skew:.08334},70:{depth:0,height:.68333,italic:.13889,skew:.08334},71:{depth:0,height:.68333,italic:0,skew:.08334},72:{depth:0,height:.68333,italic:.08125,skew:.05556},73:{depth:0,height:.68333,italic:.07847,skew:.11111},74:{depth:0,height:.68333,italic:.09618,skew:.16667},75:{depth:0,height:.68333,italic:.07153,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.02778},77:{depth:0,height:.68333,italic:.10903,skew:.08334},78:{depth:0,height:.68333,italic:.10903,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.08334},80:{depth:0,height:.68333,italic:.13889,skew:.08334},81:{depth:.19444,height:.68333,italic:0,skew:.08334},82:{depth:0,height:.68333,italic:.00773,skew:.08334},83:{depth:0,height:.68333,italic:.05764,skew:.08334},84:{depth:0,height:.68333,italic:.13889,skew:.08334},85:{depth:0,height:.68333,italic:.10903,skew:.02778},86:{depth:0,height:.68333,italic:.22222,skew:0},87:{depth:0,height:.68333,italic:.13889,skew:0},88:{depth:0,height:.68333,italic:.07847,skew:.08334},89:{depth:0,height:.68333,italic:.22222,skew:0},90:{depth:0,height:.68333,italic:.07153,skew:.08334},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:.05556},100:{depth:0,height:.69444,italic:0,skew:.16667},101:{depth:0,height:.43056,italic:0,skew:.05556},102:{depth:.19444,height:.69444,italic:.10764,skew:.16667},103:{depth:.19444,height:.43056,italic:.03588,skew:.02778},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.65952,italic:0,skew:0},106:{depth:.19444,height:.65952,italic:.05724,skew:0},107:{depth:0,height:.69444,italic:.03148,skew:0},108:{depth:0,height:.69444,italic:.01968,skew:.08334},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:.05556},112:{depth:.19444,height:.43056,italic:0,skew:.08334},113:{depth:.19444,height:.43056,italic:.03588,skew:.08334},114:{depth:0,height:.43056,italic:.02778,skew:.05556},115:{depth:0,height:.43056,italic:0,skew:.05556},116:{depth:0,height:.61508,italic:0,skew:.08334},117:{depth:0,height:.43056,italic:0,skew:.02778},118:{depth:0,height:.43056,italic:.03588,skew:.02778},119:{depth:0,height:.43056,italic:.02691,skew:.08334},120:{depth:0,height:.43056,italic:0,skew:.02778},121:{depth:.19444,height:.43056,italic:.03588,skew:.05556},122:{depth:0,height:.43056,italic:.04398,skew:.05556},915:{depth:0,height:.68333,italic:.13889,skew:.08334},916:{depth:0,height:.68333,italic:0,skew:.16667},920:{depth:0,height:.68333,italic:.02778,skew:.08334},923:{depth:0,height:.68333,italic:0,skew:.16667},926:{depth:0,height:.68333,italic:.07569,skew:.08334},928:{depth:0,height:.68333,italic:.08125,skew:.05556},931:{depth:0,height:.68333,italic:.05764,skew:.08334},933:{depth:0,height:.68333,italic:.13889,skew:.05556},934:{depth:0,height:.68333,italic:0,skew:.08334},936:{depth:0,height:.68333,italic:.11,skew:.05556},937:{depth:0,height:.68333,italic:.05017,skew:.08334},945:{depth:0,height:.43056,italic:.0037,skew:.02778},946:{depth:.19444,height:.69444,italic:.05278,skew:.08334},947:{depth:.19444,height:.43056,italic:.05556,skew:0},948:{depth:0,height:.69444,italic:.03785,skew:.05556},949:{depth:0,height:.43056,italic:0,skew:.08334},950:{depth:.19444,height:.69444,italic:.07378,skew:.08334},951:{depth:.19444,height:.43056,italic:.03588,skew:.05556},952:{depth:0,height:.69444,italic:.02778,skew:.08334},953:{depth:0,height:.43056,italic:0,skew:.05556},954:{depth:0,height:.43056,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.43056,italic:0,skew:.02778},957:{depth:0,height:.43056,italic:.06366,skew:.02778},958:{depth:.19444,height:.69444,italic:.04601,skew:.11111},959:{depth:0,height:.43056,italic:0,skew:.05556},960:{depth:0,height:.43056,italic:.03588,skew:0},961:{depth:.19444,height:.43056,italic:0,skew:.08334},962:{depth:.09722,height:.43056,italic:.07986,skew:.08334},963:{depth:0,height:.43056,italic:.03588,skew:0},964:{depth:0,height:.43056,italic:.1132,skew:.02778},965:{depth:0,height:.43056,italic:.03588,skew:.02778},966:{depth:.19444,height:.43056,italic:0,skew:.08334},967:{depth:.19444,height:.43056,italic:0,skew:.05556},968:{depth:.19444,height:.69444,italic:.03588,skew:.11111},969:{depth:0,height:.43056,italic:.03588,skew:0},977:{depth:0,height:.69444,italic:0,skew:.08334},981:{depth:.19444,height:.69444,italic:0,skew:.08334},982:{depth:0,height:.43056,italic:.02778,skew:0},1009:{depth:.19444,height:.43056,italic:0,skew:.08334},1013:{depth:0,height:.43056,italic:0,skew:.05556}},"Math-Regular":{65:{depth:0,height:.68333,italic:0,skew:.13889},66:{depth:0,height:.68333,italic:.05017,skew:.08334},67:{depth:0,height:.68333,italic:.07153,skew:.08334},68:{depth:0,height:.68333,italic:.02778,skew:.05556},69:{depth:0,height:.68333,italic:.05764,skew:.08334},70:{depth:0,height:.68333,italic:.13889,skew:.08334},71:{depth:0,height:.68333,italic:0,skew:.08334},72:{depth:0,height:.68333,italic:.08125,skew:.05556},73:{depth:0,height:.68333,italic:.07847,skew:.11111},74:{depth:0,height:.68333,italic:.09618,skew:.16667},75:{depth:0,height:.68333,italic:.07153,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.02778},77:{depth:0,height:.68333,italic:.10903,skew:.08334},78:{depth:0,height:.68333,italic:.10903,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.08334},80:{depth:0,height:.68333,italic:.13889,skew:.08334},81:{depth:.19444,height:.68333,italic:0,skew:.08334},82:{depth:0,height:.68333,italic:.00773,skew:.08334},83:{depth:0,height:.68333,italic:.05764,skew:.08334},84:{depth:0,height:.68333,italic:.13889,skew:.08334},85:{depth:0,height:.68333,italic:.10903,skew:.02778},86:{depth:0,height:.68333,italic:.22222,skew:0},87:{depth:0,height:.68333,italic:.13889,skew:0},88:{depth:0,height:.68333,italic:.07847,skew:.08334},89:{depth:0,height:.68333,italic:.22222,skew:0},90:{depth:0,height:.68333,italic:.07153,skew:.08334},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:.05556},100:{depth:0,height:.69444,italic:0,skew:.16667},101:{depth:0,height:.43056,italic:0,skew:.05556},102:{depth:.19444,height:.69444,italic:.10764,skew:.16667},103:{depth:.19444,height:.43056,italic:.03588,skew:.02778},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.65952,italic:0,skew:0},106:{depth:.19444,height:.65952,italic:.05724,skew:0},107:{depth:0,height:.69444,italic:.03148,skew:0},108:{depth:0,height:.69444,italic:.01968,skew:.08334},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:.05556},112:{depth:.19444,height:.43056,italic:0,skew:.08334},113:{depth:.19444,height:.43056,italic:.03588,skew:.08334},114:{depth:0,height:.43056,italic:.02778,skew:.05556},115:{depth:0,height:.43056,italic:0,skew:.05556},116:{depth:0,height:.61508,italic:0,skew:.08334},117:{depth:0,height:.43056,italic:0,skew:.02778},118:{depth:0,height:.43056,italic:.03588,skew:.02778},119:{depth:0,height:.43056,italic:.02691,skew:.08334},120:{depth:0,height:.43056,italic:0,skew:.02778},121:{depth:.19444,height:.43056,italic:.03588,skew:.05556},122:{depth:0,height:.43056,italic:.04398,skew:.05556},915:{depth:0,height:.68333,italic:.13889,skew:.08334},916:{depth:0,height:.68333,italic:0,skew:.16667},920:{depth:0,height:.68333,italic:.02778,skew:.08334},923:{depth:0,height:.68333,italic:0,skew:.16667},926:{depth:0,height:.68333,italic:.07569,skew:.08334},928:{depth:0,height:.68333,italic:.08125,skew:.05556},931:{depth:0,height:.68333,italic:.05764,skew:.08334},933:{depth:0,height:.68333,italic:.13889,skew:.05556},934:{depth:0,height:.68333,italic:0,skew:.08334},936:{depth:0,height:.68333,italic:.11,skew:.05556},937:{depth:0,height:.68333,italic:.05017,skew:.08334},945:{depth:0,height:.43056,italic:.0037,skew:.02778},946:{depth:.19444,height:.69444,italic:.05278,skew:.08334},947:{depth:.19444,height:.43056,italic:.05556,skew:0},948:{depth:0,height:.69444,italic:.03785,skew:.05556},949:{depth:0,height:.43056,italic:0,skew:.08334},950:{depth:.19444,height:.69444,italic:.07378,skew:.08334},951:{depth:.19444,height:.43056,italic:.03588,skew:.05556},952:{depth:0,height:.69444,italic:.02778,skew:.08334},953:{depth:0,height:.43056,italic:0,skew:.05556},954:{depth:0,height:.43056,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.43056,italic:0,skew:.02778},957:{depth:0,height:.43056,italic:.06366,skew:.02778},958:{depth:.19444,height:.69444,italic:.04601,skew:.11111},959:{depth:0,height:.43056,italic:0,skew:.05556},960:{depth:0,height:.43056,italic:.03588,skew:0},961:{depth:.19444,height:.43056,italic:0,skew:.08334},962:{depth:.09722,height:.43056,italic:.07986,skew:.08334},963:{depth:0,height:.43056,italic:.03588,skew:0},964:{depth:0,height:.43056,italic:.1132,skew:.02778},965:{depth:0,height:.43056,italic:.03588,skew:.02778},966:{depth:.19444,height:.43056,italic:0,skew:.08334},967:{depth:.19444,height:.43056,italic:0,skew:.05556},968:{depth:.19444,height:.69444,italic:.03588,skew:.11111},969:{depth:0,height:.43056,italic:.03588,skew:0},977:{depth:0,height:.69444,italic:0,skew:.08334},981:{depth:.19444,height:.69444,italic:0,skew:.08334},982:{depth:0,height:.43056,italic:.02778,skew:0},1009:{depth:.19444,height:.43056,italic:0,skew:.08334},1013:{depth:0,height:.43056,italic:0,skew:.05556}},"Size1-Regular":{40:{depth:.35001,height:.85,italic:0,skew:0},41:{depth:.35001,height:.85,italic:0,skew:0},47:{depth:.35001,height:.85,italic:0,skew:0},91:{depth:.35001,height:.85,italic:0,skew:0},92:{depth:.35001,height:.85,italic:0,skew:0},93:{depth:.35001,height:.85,italic:0,skew:0},123:{depth:.35001,height:.85,italic:0,skew:0},125:{depth:.35001,height:.85,italic:0,skew:0},710:{depth:0,height:.72222,italic:0,skew:0},732:{depth:0,height:.72222,italic:0,skew:0},770:{depth:0,height:.72222,italic:0,skew:0},771:{depth:0,height:.72222,italic:0,skew:0},8214:{depth:-99e-5,height:.601,italic:0,skew:0},8593:{depth:1e-5,height:.6,italic:0,skew:0},8595:{depth:1e-5,height:.6,italic:0,skew:0},8657:{depth:1e-5,height:.6,italic:0,skew:0},8659:{depth:1e-5,height:.6,italic:0,skew:0},8719:{depth:.25001,height:.75,italic:0,skew:0},8720:{depth:.25001,height:.75,italic:0,skew:0},8721:{depth:.25001,height:.75,italic:0,skew:0},8730:{depth:.35001,height:.85,italic:0,skew:0},8739:{depth:-.00599,height:.606,italic:0,skew:0},8741:{depth:-.00599,height:.606,italic:0,skew:0},8747:{depth:.30612,height:.805,italic:.19445,skew:0},8748:{depth:.306,height:.805,italic:.19445,skew:0},8749:{depth:.306,height:.805,italic:.19445,skew:0},8750:{depth:.30612,height:.805,italic:.19445,skew:0},8896:{depth:.25001,height:.75,italic:0,skew:0},8897:{depth:.25001,height:.75,italic:0,skew:0},8898:{depth:.25001,height:.75,italic:0,skew:0},8899:{depth:.25001,height:.75,italic:0,skew:0},8968:{depth:.35001,height:.85,italic:0,skew:0},8969:{depth:.35001,height:.85,italic:0,skew:0},8970:{depth:.35001,height:.85,italic:0,skew:0},8971:{depth:.35001,height:.85,italic:0,skew:0},9168:{depth:-99e-5,height:.601,italic:0,skew:0},10216:{depth:.35001,height:.85,italic:0,skew:0},10217:{depth:.35001,height:.85,italic:0,skew:0},10752:{depth:.25001,height:.75,italic:0,skew:0},10753:{depth:.25001,height:.75,italic:0,skew:0},10754:{depth:.25001,height:.75,italic:0,skew:0},10756:{depth:.25001,height:.75,italic:0,skew:0},10758:{depth:.25001,height:.75,italic:0,skew:0}},"Size2-Regular":{40:{depth:.65002,height:1.15,italic:0,skew:0},41:{depth:.65002,height:1.15,italic:0,skew:0},47:{depth:.65002,height:1.15,italic:0,skew:0},91:{depth:.65002,height:1.15,italic:0,skew:0},92:{depth:.65002,height:1.15,italic:0,skew:0},93:{depth:.65002,height:1.15,italic:0,skew:0},123:{depth:.65002,height:1.15,italic:0,skew:0},125:{depth:.65002,height:1.15,italic:0,skew:0},710:{depth:0,height:.75,italic:0,skew:0},732:{depth:0,height:.75,italic:0,skew:0},770:{depth:0,height:.75,italic:0,skew:0},771:{depth:0,height:.75,italic:0,skew:0},8719:{depth:.55001,height:1.05,italic:0,skew:0},8720:{depth:.55001,height:1.05,italic:0,skew:0},8721:{depth:.55001,height:1.05,italic:0,skew:0},8730:{depth:.65002,height:1.15,italic:0,skew:0},8747:{depth:.86225,height:1.36,italic:.44445,skew:0},8748:{depth:.862,height:1.36,italic:.44445,skew:0},8749:{depth:.862,height:1.36,italic:.44445,skew:0},8750:{depth:.86225,height:1.36,italic:.44445,skew:0},8896:{depth:.55001,height:1.05,italic:0,skew:0},8897:{depth:.55001,height:1.05,italic:0,skew:0},8898:{depth:.55001,height:1.05,italic:0,skew:0},8899:{depth:.55001,height:1.05,italic:0,skew:0},8968:{depth:.65002,height:1.15,italic:0,skew:0},8969:{depth:.65002,height:1.15,italic:0,skew:0},8970:{depth:.65002,height:1.15,italic:0,skew:0},8971:{depth:.65002,height:1.15,italic:0,skew:0},10216:{depth:.65002,height:1.15,italic:0,skew:0},10217:{depth:.65002,height:1.15,italic:0,skew:0},10752:{depth:.55001,height:1.05,italic:0,skew:0},10753:{depth:.55001,height:1.05,italic:0,skew:0},10754:{depth:.55001,height:1.05,italic:0,skew:0},10756:{depth:.55001,height:1.05,italic:0,skew:0},10758:{depth:.55001,height:1.05,italic:0,skew:0}},"Size3-Regular":{40:{depth:.95003,height:1.45,italic:0,skew:0},41:{depth:.95003,height:1.45,italic:0,skew:0},47:{depth:.95003,height:1.45,italic:0,skew:0},91:{depth:.95003,height:1.45,italic:0,skew:0},92:{depth:.95003,height:1.45,italic:0,skew:0},93:{depth:.95003,height:1.45,italic:0,skew:0},123:{depth:.95003,height:1.45,italic:0,skew:0},125:{depth:.95003,height:1.45,italic:0,skew:0},710:{depth:0,height:.75,italic:0,skew:0},732:{depth:0,height:.75,italic:0,skew:0},770:{depth:0,height:.75,italic:0,skew:0},771:{depth:0,height:.75,italic:0,skew:0},8730:{depth:.95003,height:1.45,italic:0,skew:0},8968:{depth:.95003,height:1.45,italic:0,skew:0},8969:{depth:.95003,height:1.45,italic:0,skew:0},8970:{depth:.95003,height:1.45,italic:0,skew:0},8971:{depth:.95003,height:1.45,italic:0,skew:0},10216:{depth:.95003,height:1.45,italic:0,skew:0},10217:{depth:.95003,height:1.45,italic:0,skew:0}},"Size4-Regular":{40:{depth:1.25003,height:1.75,italic:0,skew:0},41:{depth:1.25003,height:1.75,italic:0,skew:0},47:{depth:1.25003,height:1.75,italic:0,skew:0},91:{depth:1.25003,height:1.75,italic:0,skew:0},92:{depth:1.25003,height:1.75,italic:0,skew:0},93:{depth:1.25003,height:1.75,italic:0,skew:0},123:{depth:1.25003,height:1.75,italic:0,skew:0},125:{depth:1.25003,height:1.75,italic:0,skew:0},710:{depth:0,height:.825,italic:0,skew:0},732:{depth:0,height:.825,italic:0,skew:0},770:{depth:0,height:.825,italic:0,skew:0},771:{depth:0,height:.825,italic:0,skew:0},8730:{depth:1.25003,height:1.75,italic:0,skew:0},8968:{depth:1.25003,height:1.75,italic:0,skew:0},8969:{depth:1.25003,height:1.75,italic:0,skew:0},8970:{depth:1.25003,height:1.75,italic:0,skew:0},8971:{depth:1.25003,height:1.75,italic:0,skew:0},9115:{depth:.64502,height:1.155,italic:0,skew:0},9116:{depth:1e-5,height:.6,italic:0,skew:0},9117:{depth:.64502,height:1.155,italic:0,skew:0},9118:{depth:.64502,height:1.155,italic:0,skew:0},9119:{depth:1e-5,height:.6,italic:0,skew:0},9120:{depth:.64502,height:1.155,italic:0,skew:0},9121:{depth:.64502,height:1.155,italic:0,skew:0},9122:{depth:-99e-5,height:.601,italic:0,skew:0},9123:{depth:.64502,height:1.155,italic:0,skew:0},9124:{depth:.64502,height:1.155,italic:0,skew:0},9125:{depth:-99e-5,height:.601,italic:0,skew:0},9126:{depth:.64502,height:1.155,italic:0,skew:0},9127:{depth:1e-5,height:.9,italic:0,skew:0},9128:{depth:.65002,height:1.15,italic:0,skew:0},9129:{depth:.90001,height:0,italic:0,skew:0},9130:{depth:0,height:.3,italic:0,skew:0},9131:{depth:1e-5,height:.9,italic:0,skew:0},9132:{depth:.65002,height:1.15,italic:0,skew:0},9133:{depth:.90001,height:0,italic:0,skew:0},9143:{depth:.88502,height:.915,italic:0,skew:0},10216:{depth:1.25003,height:1.75,italic:0,skew:0},10217:{depth:1.25003,height:1.75,italic:0,skew:0},57344:{depth:-.00499,height:.605,italic:0,skew:0},57345:{depth:-.00499,height:.605,italic:0,skew:0},57680:{depth:0,height:.12,italic:0,skew:0},57681:{depth:0,height:.12,italic:0,skew:0},57682:{depth:0,height:.12,italic:0,skew:0},57683:{depth:0,height:.12,italic:0,skew:0}}}},{}],182:[function(a,b,c){for(var d=a("./utils"),e=a("./ParseError"),f={"\\sqrt":{numArgs:1,numOptionalArgs:1,handler:function(a,b,c,d){return{type:"sqrt",body:c,index:b}}},"\\text":{numArgs:1,argTypes:["text"],greediness:2,handler:function(a,b){var c;return c="ordgroup"===b.type?b.value:[b],{type:"text",body:c}}},"\\color":{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"],handler:function(a,b,c){var d;return d="ordgroup"===c.type?c.value:[c],{type:"color",color:b.value,value:d}}},"\\overline":{numArgs:1,handler:function(a,b){return{type:"overline",body:b}}},"\\rule":{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"],handler:function(a,b,c,d){return{type:"rule",shift:b&&b.value,width:c.value,height:d.value}}},"\\KaTeX":{numArgs:0,handler:function(a){return{type:"katex"}}},"\\phantom":{numArgs:1,handler:function(a,b){var c;return c="ordgroup"===b.type?b.value:[b],{type:"phantom",value:c}}}},g={"\\bigl":{type:"open",size:1},"\\Bigl":{type:"open",size:2},"\\biggl":{type:"open",size:3},"\\Biggl":{type:"open",size:4},"\\bigr":{type:"close",size:1},"\\Bigr":{type:"close",size:2},"\\biggr":{type:"close",size:3},"\\Biggr":{type:"close",size:4},"\\bigm":{type:"rel",size:1},"\\Bigm":{
type:"rel",size:2},"\\biggm":{type:"rel",size:3},"\\Biggm":{type:"rel",size:4},"\\big":{type:"textord",size:1},"\\Big":{type:"textord",size:2},"\\bigg":{type:"textord",size:3},"\\Bigg":{type:"textord",size:4}},h=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],i=[{funcs:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],data:{numArgs:1,allowedInText:!0,greediness:3,handler:function(a,b){var c;return c="ordgroup"===b.type?b.value:[b],{type:"color",color:"katex-"+a.slice(1),value:c}}}},{funcs:["\\arcsin","\\arccos","\\arctan","\\arg","\\cos","\\cosh","\\cot","\\coth","\\csc","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\tan","\\tanh"],data:{numArgs:0,handler:function(a){return{type:"op",limits:!1,symbol:!1,body:a}}}},{funcs:["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],data:{numArgs:0,handler:function(a){return{type:"op",limits:!0,symbol:!1,body:a}}}},{funcs:["\\int","\\iint","\\iiint","\\oint"],data:{numArgs:0,handler:function(a){return{type:"op",limits:!1,symbol:!0,body:a}}}},{funcs:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],data:{numArgs:0,handler:function(a){return{type:"op",limits:!0,symbol:!0,body:a}}}},{funcs:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom"],data:{numArgs:2,greediness:2,handler:function(a,b,c){var d,e=null,f=null,g="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":d=!0;break;case"\\dbinom":case"\\binom":case"\\tbinom":d=!1,e="(",f=")";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":g="display";break;case"\\tfrac":case"\\tbinom":g="text"}return{type:"genfrac",numer:b,denom:c,hasBarLine:d,leftDelim:e,rightDelim:f,size:g}}}},{funcs:["\\llap","\\rlap"],data:{numArgs:1,allowedInText:!0,handler:function(a,b){return{type:a.slice(1),body:b}}}},{funcs:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg","\\left","\\right"],data:{numArgs:1,handler:function(a,b,c){if(!d.contains(h,b.value))throw new e("Invalid delimiter: '"+b.value+"' after '"+a+"'",this.lexer,c[1]);return"\\left"===a||"\\right"===a?{type:"leftright",value:b.value}:{type:"delimsizing",size:g[a].size,delimType:g[a].type,value:b.value}}}},{funcs:["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],data:{numArgs:0}},{funcs:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],data:{numArgs:0}},{funcs:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],data:{numArgs:1,handler:function(a,b){return{type:"accent",accent:a,base:b}}}},{funcs:["\\over","\\choose"],data:{numArgs:0,handler:function(a){var b;switch(a){case"\\over":b="\\frac";break;case"\\choose":b="\\binom";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:b}}}},{funcs:["\\\\","\\cr"],data:{numArgs:0,numOptionalArgs:1,argTypes:["size"],handler:function(a,b){return{type:"cr",size:b}}}},{funcs:["\\begin","\\end"],data:{numArgs:1,argTypes:["text"],handler:function(a,b,c){if("ordgroup"!==b.type)throw new e("Invalid environment name",this.lexer,c[1]);for(var d="",f=0;f<b.value.length;++f)d+=b.value[f].value;return{type:"environment",name:d,namepos:c[1]}}}}],j=function(a,b){for(var c=0;c<a.length;c++)f[a[c]]=b},k=0;k<i.length;k++)j(i[k].funcs,i[k].data);for(var l in f)if(f.hasOwnProperty(l)){var m=f[l];f[l]={numArgs:m.numArgs,argTypes:m.argTypes,greediness:void 0===m.greediness?1:m.greediness,allowedInText:m.allowedInText?m.allowedInText:!1,numOptionalArgs:void 0===m.numOptionalArgs?0:m.numOptionalArgs,handler:m.handler}}b.exports={funcs:f}},{"./ParseError":169,"./utils":187}],183:[function(a,b,c){function d(a,b){this.type=a,this.attributes={},this.children=b||[]}function e(a){this.text=a}var f=a("./utils");d.prototype.setAttribute=function(a,b){this.attributes[a]=b},d.prototype.toNode=function(){var a=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&a.setAttribute(b,this.attributes[b]);for(var c=0;c<this.children.length;c++)a.appendChild(this.children[c].toNode());return a},d.prototype.toMarkup=function(){var a="<"+this.type;for(var b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(a+=" "+b+'="',a+=f.escape(this.attributes[b]),a+='"');a+=">";for(var c=0;c<this.children.length;c++)a+=this.children[c].toMarkup();return a+="</"+this.type+">"},e.prototype.toNode=function(){return document.createTextNode(this.text)},e.prototype.toMarkup=function(){return f.escape(this.text)},b.exports={MathNode:d,TextNode:e}},{"./utils":187}],184:[function(a,b,c){function d(a,b,c){this.type=a,this.value=b,this.mode=c}function e(a,b,c){this.result=a,this.position=b}b.exports={ParseNode:d,ParseResult:e}},{}],185:[function(a,b,c){var d=a("./Parser"),e=function(a,b){var c=new d(a,b);return c.parse()};b.exports=e},{"./Parser":170}],186:[function(a,b,c){for(var d={math:{"\\equiv":{font:"main",group:"rel",replace:"≡"},"\\prec":{font:"main",group:"rel",replace:"≺"},"\\succ":{font:"main",group:"rel",replace:"≻"},"\\sim":{font:"main",group:"rel",replace:"∼"},"\\perp":{font:"main",group:"rel",replace:"⊥"},"\\preceq":{font:"main",group:"rel",replace:"⪯"},"\\succeq":{font:"main",group:"rel",replace:"⪰"},"\\simeq":{font:"main",group:"rel",replace:"≃"},"\\mid":{font:"main",group:"rel",replace:"∣"},"\\ll":{font:"main",group:"rel",replace:"≪"},"\\gg":{font:"main",group:"rel",replace:"≫"},"\\asymp":{font:"main",group:"rel",replace:"≍"},"\\parallel":{font:"main",group:"rel",replace:"∥"},"\\bowtie":{font:"main",group:"rel",replace:"⋈"},"\\smile":{font:"main",group:"rel",replace:"⌣"},"\\sqsubseteq":{font:"main",group:"rel",replace:"⊑"},"\\sqsupseteq":{font:"main",group:"rel",replace:"⊒"},"\\doteq":{font:"main",group:"rel",replace:"≐"},"\\frown":{font:"main",group:"rel",replace:"⌢"},"\\ni":{font:"main",group:"rel",replace:"∋"},"\\propto":{font:"main",group:"rel",replace:"∝"},"\\vdash":{font:"main",group:"rel",replace:"⊢"},"\\dashv":{font:"main",group:"rel",replace:"⊣"},"\\owns":{font:"main",group:"rel",replace:"∋"},"\\ldotp":{font:"main",group:"punct",replace:"."},"\\cdotp":{font:"main",group:"punct",replace:"⋅"},"\\#":{font:"main",group:"textord",replace:"#"},"\\&":{font:"main",group:"textord",replace:"&"},"\\aleph":{font:"main",group:"textord",replace:"ℵ"},"\\forall":{font:"main",group:"textord",replace:"∀"},"\\hbar":{font:"main",group:"textord",replace:"ℏ"},"\\exists":{font:"main",group:"textord",replace:"∃"},"\\nabla":{font:"main",group:"textord",replace:"∇"},"\\flat":{font:"main",group:"textord",replace:"♭"},"\\ell":{font:"main",group:"textord",replace:"ℓ"},"\\natural":{font:"main",group:"textord",replace:"♮"},"\\clubsuit":{font:"main",group:"textord",replace:"♣"},"\\wp":{font:"main",group:"textord",replace:"℘"},"\\sharp":{font:"main",group:"textord",replace:"♯"},"\\diamondsuit":{font:"main",group:"textord",replace:"♢"},"\\Re":{font:"main",group:"textord",replace:"ℜ"},"\\heartsuit":{font:"main",group:"textord",replace:"♡"},"\\Im":{font:"main",group:"textord",replace:"ℑ"},"\\spadesuit":{font:"main",group:"textord",replace:"♠"},"\\dag":{font:"main",group:"textord",replace:"†"},"\\ddag":{font:"main",group:"textord",replace:"‡"},"\\rmoustache":{font:"main",group:"close",replace:"⎱"},"\\lmoustache":{font:"main",group:"open",replace:"⎰"},"\\rgroup":{font:"main",group:"close",replace:"⟯"},"\\lgroup":{font:"main",group:"open",replace:"⟮"},"\\mp":{font:"main",group:"bin",replace:"∓"},"\\ominus":{font:"main",group:"bin",replace:"⊖"},"\\uplus":{font:"main",group:"bin",replace:"⊎"},"\\sqcap":{font:"main",group:"bin",replace:"⊓"},"\\ast":{font:"main",group:"bin",replace:"∗"},"\\sqcup":{font:"main",group:"bin",replace:"⊔"},"\\bigcirc":{font:"main",group:"bin",replace:"◯"},"\\bullet":{font:"main",group:"bin",replace:"∙"},"\\ddagger":{font:"main",group:"bin",replace:"‡"},"\\wr":{font:"main",group:"bin",replace:"≀"},"\\amalg":{font:"main",group:"bin",replace:"⨿"},"\\longleftarrow":{font:"main",group:"rel",replace:"⟵"},"\\Leftarrow":{font:"main",group:"rel",replace:"⇐"},"\\Longleftarrow":{font:"main",group:"rel",replace:"⟸"},"\\longrightarrow":{font:"main",group:"rel",replace:"⟶"},"\\Rightarrow":{font:"main",group:"rel",replace:"⇒"},"\\Longrightarrow":{font:"main",group:"rel",replace:"⟹"},"\\leftrightarrow":{font:"main",group:"rel",replace:"↔"},"\\longleftrightarrow":{font:"main",group:"rel",replace:"⟷"},"\\Leftrightarrow":{font:"main",group:"rel",replace:"⇔"},"\\Longleftrightarrow":{font:"main",group:"rel",replace:"⟺"},"\\mapsto":{font:"main",group:"rel",replace:"↦"},"\\longmapsto":{font:"main",group:"rel",replace:"⟼"},"\\nearrow":{font:"main",group:"rel",replace:"↗"},"\\hookleftarrow":{font:"main",group:"rel",replace:"↩"},"\\hookrightarrow":{font:"main",group:"rel",replace:"↪"},"\\searrow":{font:"main",group:"rel",replace:"↘"},"\\leftharpoonup":{font:"main",group:"rel",replace:"↼"},"\\rightharpoonup":{font:"main",group:"rel",replace:"⇀"},"\\swarrow":{font:"main",group:"rel",replace:"↙"},"\\leftharpoondown":{font:"main",group:"rel",replace:"↽"},"\\rightharpoondown":{font:"main",group:"rel",replace:"⇁"},"\\nwarrow":{font:"main",group:"rel",replace:"↖"},"\\rightleftharpoons":{font:"main",group:"rel",replace:"⇌"},"\\nless":{font:"ams",group:"rel",replace:"≮"},"\\nleqslant":{font:"ams",group:"rel",replace:""},"\\nleqq":{font:"ams",group:"rel",replace:""},"\\lneq":{font:"ams",group:"rel",replace:"⪇"},"\\lneqq":{font:"ams",group:"rel",replace:"≨"},"\\lvertneqq":{font:"ams",group:"rel",replace:""},"\\lnsim":{font:"ams",group:"rel",replace:"⋦"},"\\lnapprox":{font:"ams",group:"rel",replace:"⪉"},"\\nprec":{font:"ams",group:"rel",replace:"⊀"},"\\npreceq":{font:"ams",group:"rel",replace:"⋠"},"\\precnsim":{font:"ams",group:"rel",replace:"⋨"},"\\precnapprox":{font:"ams",group:"rel",replace:"⪹"},"\\nsim":{font:"ams",group:"rel",replace:"≁"},"\\nshortmid":{font:"ams",group:"rel",replace:""},"\\nmid":{font:"ams",group:"rel",replace:"∤"},"\\nvdash":{font:"ams",group:"rel",replace:"⊬"},"\\nvDash":{font:"ams",group:"rel",replace:"⊭"},"\\ntriangleleft":{font:"ams",group:"rel",replace:"⋪"},"\\ntrianglelefteq":{font:"ams",group:"rel",replace:"⋬"},"\\subsetneq":{font:"ams",group:"rel",replace:"⊊"},"\\varsubsetneq":{font:"ams",group:"rel",replace:""},"\\subsetneqq":{font:"ams",group:"rel",replace:"⫋"},"\\varsubsetneqq":{font:"ams",group:"rel",replace:""},"\\ngtr":{font:"ams",group:"rel",replace:"≯"},"\\ngeqslant":{font:"ams",group:"rel",replace:""},"\\ngeqq":{font:"ams",group:"rel",replace:""},"\\gneq":{font:"ams",group:"rel",replace:"⪈"},"\\gneqq":{font:"ams",group:"rel",replace:"≩"},"\\gvertneqq":{font:"ams",group:"rel",replace:""},"\\gnsim":{font:"ams",group:"rel",replace:"⋧"},"\\gnapprox":{font:"ams",group:"rel",replace:"⪊"},"\\nsucc":{font:"ams",group:"rel",replace:"⊁"},"\\nsucceq":{font:"ams",group:"rel",replace:"⋡"},"\\succnsim":{font:"ams",group:"rel",replace:"⋩"},"\\succnapprox":{font:"ams",group:"rel",replace:"⪺"},"\\ncong":{font:"ams",group:"rel",replace:"≆"},"\\nshortparallel":{font:"ams",group:"rel",replace:""},"\\nparallel":{font:"ams",group:"rel",replace:"∦"},"\\nVDash":{font:"ams",group:"rel",replace:"⊯"},"\\ntriangleright":{font:"ams",group:"rel",replace:"⋫"},"\\ntrianglerighteq":{font:"ams",group:"rel",replace:"⋭"},"\\nsupseteqq":{font:"ams",group:"rel",replace:""},"\\supsetneq":{font:"ams",group:"rel",replace:"⊋"},"\\varsupsetneq":{font:"ams",group:"rel",replace:""},"\\supsetneqq":{font:"ams",group:"rel",replace:"⫌"},"\\varsupsetneqq":{font:"ams",group:"rel",replace:""},"\\nVdash":{font:"ams",group:"rel",replace:"⊮"},"\\precneqq":{font:"ams",group:"rel",replace:"⪵"},"\\succneqq":{font:"ams",group:"rel",replace:"⪶"},"\\nsubseteqq":{font:"ams",group:"rel",replace:""},"\\unlhd":{font:"ams",group:"bin",replace:"⊴"},"\\unrhd":{font:"ams",group:"bin",replace:"⊵"},"\\nleftarrow":{font:"ams",group:"rel",replace:"↚"},"\\nrightarrow":{font:"ams",group:"rel",replace:"↛"},"\\nLeftarrow":{font:"ams",group:"rel",replace:"⇍"},"\\nRightarrow":{font:"ams",group:"rel",replace:"⇏"},"\\nleftrightarrow":{font:"ams",group:"rel",replace:"↮"},"\\nLeftrightarrow":{font:"ams",group:"rel",replace:"⇎"},"\\vartriangle":{font:"ams",group:"rel",replace:"△"},"\\hslash":{font:"ams",group:"textord",replace:"ℏ"},"\\triangledown":{font:"ams",group:"textord",replace:"▽"},"\\lozenge":{font:"ams",group:"textord",replace:"◊"},"\\circledS":{font:"ams",group:"textord",replace:"Ⓢ"},"\\circledR":{font:"ams",group:"textord",replace:"®"},"\\measuredangle":{font:"ams",group:"textord",replace:"∡"},"\\nexists":{font:"ams",group:"textord",replace:"∄"},"\\mho":{font:"ams",group:"textord",replace:"℧"},"\\Finv":{font:"ams",group:"textord",replace:"Ⅎ"},"\\Game":{font:"ams",group:"textord",replace:"⅁"},"\\Bbbk":{font:"ams",group:"textord",replace:"k"},"\\backprime":{font:"ams",group:"textord",replace:"‵"},"\\blacktriangle":{font:"ams",group:"textord",replace:"▲"},"\\blacktriangledown":{font:"ams",group:"textord",replace:"▼"},"\\blacksquare":{font:"ams",group:"textord",replace:"■"},"\\blacklozenge":{font:"ams",group:"textord",replace:"⧫"},"\\bigstar":{font:"ams",group:"textord",replace:"★"},"\\sphericalangle":{font:"ams",group:"textord",replace:"∢"},"\\complement":{font:"ams",group:"textord",replace:"∁"},"\\eth":{font:"ams",group:"textord",replace:"ð"},"\\diagup":{font:"ams",group:"textord",replace:"╱"},"\\diagdown":{font:"ams",group:"textord",replace:"╲"},"\\square":{font:"ams",group:"textord",replace:"□"},"\\Box":{font:"ams",group:"textord",replace:"□"},"\\Diamond":{font:"ams",group:"textord",replace:"◊"},"\\yen":{font:"ams",group:"textord",replace:"¥"},"\\checkmark":{font:"ams",group:"textord",replace:"✓"},"\\beth":{font:"ams",group:"textord",replace:"ℶ"},"\\daleth":{font:"ams",group:"textord",replace:"ℸ"},"\\gimel":{font:"ams",group:"textord",replace:"ℷ"},"\\digamma":{font:"ams",group:"textord",replace:"ϝ"},"\\varkappa":{font:"ams",group:"textord",replace:"ϰ"},"\\ulcorner":{font:"ams",group:"textord",replace:"┌"},"\\urcorner":{font:"ams",group:"textord",replace:"┐"},"\\llcorner":{font:"ams",group:"textord",replace:"└"},"\\lrcorner":{font:"ams",group:"textord",replace:"┘"},"\\leqq":{font:"ams",group:"rel",replace:"≦"},"\\leqslant":{font:"ams",group:"rel",replace:"⩽"},"\\eqslantless":{font:"ams",group:"rel",replace:"⪕"},"\\lesssim":{font:"ams",group:"rel",replace:"≲"},"\\lessapprox":{font:"ams",group:"rel",replace:"⪅"},"\\approxeq":{font:"ams",group:"rel",replace:"≊"},"\\lessdot":{font:"ams",group:"bin",replace:"⋖"},"\\lll":{font:"ams",group:"rel",replace:"⋘"},"\\lessgtr":{font:"ams",group:"rel",replace:"≶"},"\\lesseqgtr":{font:"ams",group:"rel",replace:"⋚"},"\\lesseqqgtr":{font:"ams",group:"rel",replace:"⪋"},"\\doteqdot":{font:"ams",group:"rel",replace:"≑"},"\\risingdotseq":{font:"ams",group:"rel",replace:"≓"},"\\fallingdotseq":{font:"ams",group:"rel",replace:"≒"},"\\backsim":{font:"ams",group:"rel",replace:"∽"},"\\backsimeq":{font:"ams",group:"rel",replace:"⋍"},"\\subseteqq":{font:"ams",group:"rel",replace:"⫅"},"\\Subset":{font:"ams",group:"rel",replace:"⋐"},"\\sqsubset":{font:"ams",group:"rel",replace:"⊏"},"\\preccurlyeq":{font:"ams",group:"rel",replace:"≼"},"\\curlyeqprec":{font:"ams",group:"rel",replace:"⋞"},"\\precsim":{font:"ams",group:"rel",replace:"≾"},"\\precapprox":{font:"ams",group:"rel",replace:"⪷"},"\\vartriangleleft":{font:"ams",group:"rel",replace:"⊲"},"\\trianglelefteq":{font:"ams",group:"rel",replace:"⊴"},"\\vDash":{font:"ams",group:"rel",replace:"⊨"},"\\Vvdash":{font:"ams",group:"rel",replace:"⊪"},"\\smallsmile":{font:"ams",group:"rel",replace:"⌣"},"\\smallfrown":{font:"ams",group:"rel",replace:"⌢"},"\\bumpeq":{font:"ams",group:"rel",replace:"≏"},"\\Bumpeq":{font:"ams",group:"rel",replace:"≎"},"\\geqq":{font:"ams",group:"rel",replace:"≧"},"\\geqslant":{font:"ams",group:"rel",replace:"⩾"},"\\eqslantgtr":{font:"ams",group:"rel",replace:"⪖"},"\\gtrsim":{font:"ams",group:"rel",replace:"≳"},"\\gtrapprox":{font:"ams",group:"rel",replace:"⪆"},"\\gtrdot":{font:"ams",group:"bin",replace:"⋗"},"\\ggg":{font:"ams",group:"rel",replace:"⋙"},"\\gtrless":{font:"ams",group:"rel",replace:"≷"},"\\gtreqless":{font:"ams",group:"rel",replace:"⋛"},"\\gtreqqless":{font:"ams",group:"rel",replace:"⪌"},"\\eqcirc":{font:"ams",group:"rel",replace:"≖"},"\\circeq":{font:"ams",group:"rel",replace:"≗"},"\\triangleq":{font:"ams",group:"rel",replace:"≜"},"\\thicksim":{font:"ams",group:"rel",replace:"∼"},"\\thickapprox":{font:"ams",group:"rel",replace:"≈"},"\\supseteqq":{font:"ams",group:"rel",replace:"⫆"},"\\Supset":{font:"ams",group:"rel",replace:"⋑"},"\\sqsupset":{font:"ams",group:"rel",replace:"⊐"},"\\succcurlyeq":{font:"ams",group:"rel",replace:"≽"},"\\curlyeqsucc":{font:"ams",group:"rel",replace:"⋟"},"\\succsim":{font:"ams",group:"rel",replace:"≿"},"\\succapprox":{font:"ams",group:"rel",replace:"⪸"},"\\vartriangleright":{font:"ams",group:"rel",replace:"⊳"},"\\trianglerighteq":{font:"ams",group:"rel",replace:"⊵"},"\\Vdash":{font:"ams",group:"rel",replace:"⊩"},"\\shortmid":{font:"ams",group:"rel",replace:"∣"},"\\shortparallel":{font:"ams",group:"rel",replace:"∥"},"\\between":{font:"ams",group:"rel",replace:"≬"},"\\pitchfork":{font:"ams",group:"rel",replace:"⋔"},"\\varpropto":{font:"ams",group:"rel",replace:"∝"},"\\blacktriangleleft":{font:"ams",group:"rel",replace:"◀"},"\\therefore":{font:"ams",group:"rel",replace:"∴"},"\\backepsilon":{font:"ams",group:"rel",replace:"∍"},"\\blacktriangleright":{font:"ams",group:"rel",replace:"▶"},"\\because":{font:"ams",group:"rel",replace:"∵"},"\\llless":{font:"ams",group:"rel",replace:"⋘"},"\\gggtr":{font:"ams",group:"rel",replace:"⋙"},"\\lhd":{font:"ams",group:"bin",replace:"⊲"},"\\rhd":{font:"ams",group:"bin",replace:"⊳"},"\\eqsim":{font:"ams",group:"rel",replace:"≂"},"\\Join":{font:"main",group:"rel",replace:"⋈"},"\\Doteq":{font:"ams",group:"rel",replace:"≑"},"\\dotplus":{font:"ams",group:"bin",replace:"∔"},"\\smallsetminus":{font:"ams",group:"bin",replace:"∖"},"\\Cap":{font:"ams",group:"bin",replace:"⋒"},"\\Cup":{font:"ams",group:"bin",replace:"⋓"},"\\doublebarwedge":{font:"ams",group:"bin",replace:"⩞"},"\\boxminus":{font:"ams",group:"bin",replace:"⊟"},"\\boxplus":{font:"ams",group:"bin",replace:"⊞"},"\\divideontimes":{font:"ams",group:"bin",replace:"⋇"},"\\ltimes":{font:"ams",group:"bin",replace:"⋉"},"\\rtimes":{font:"ams",group:"bin",replace:"⋊"},"\\leftthreetimes":{font:"ams",group:"bin",replace:"⋋"},"\\rightthreetimes":{font:"ams",group:"bin",replace:"⋌"},"\\curlywedge":{font:"ams",group:"bin",replace:"⋏"},"\\curlyvee":{font:"ams",group:"bin",replace:"⋎"},"\\circleddash":{font:"ams",group:"bin",replace:"⊝"},"\\circledast":{font:"ams",group:"bin",replace:"⊛"},"\\centerdot":{font:"ams",group:"bin",replace:"⋅"},"\\intercal":{font:"ams",group:"bin",replace:"⊺"},"\\doublecap":{font:"ams",group:"bin",replace:"⋒"},"\\doublecup":{font:"ams",group:"bin",replace:"⋓"},"\\boxtimes":{font:"ams",group:"bin",replace:"⊠"},"\\dashrightarrow":{font:"ams",group:"rel",replace:"⇢"},"\\dashleftarrow":{font:"ams",group:"rel",replace:"⇠"},"\\leftleftarrows":{font:"ams",group:"rel",replace:"⇇"},"\\leftrightarrows":{font:"ams",group:"rel",replace:"⇆"},"\\Lleftarrow":{font:"ams",group:"rel",replace:"⇚"},"\\twoheadleftarrow":{font:"ams",group:"rel",replace:"↞"},"\\leftarrowtail":{font:"ams",group:"rel",replace:"↢"},"\\looparrowleft":{font:"ams",group:"rel",replace:"↫"},"\\leftrightharpoons":{font:"ams",group:"rel",replace:"⇋"},"\\curvearrowleft":{font:"ams",group:"rel",replace:"↶"},"\\circlearrowleft":{font:"ams",group:"rel",replace:"↺"},"\\Lsh":{font:"ams",group:"rel",replace:"↰"},"\\upuparrows":{font:"ams",group:"rel",replace:"⇈"},"\\upharpoonleft":{font:"ams",group:"rel",replace:"↿"},"\\downharpoonleft":{font:"ams",group:"rel",replace:"⇃"},"\\multimap":{font:"ams",group:"rel",replace:"⊸"},"\\leftrightsquigarrow":{font:"ams",group:"rel",replace:"↭"},"\\rightrightarrows":{font:"ams",group:"rel",replace:"⇉"},"\\rightleftarrows":{font:"ams",group:"rel",replace:"⇄"},"\\twoheadrightarrow":{font:"ams",group:"rel",replace:"↠"},"\\rightarrowtail":{font:"ams",group:"rel",replace:"↣"},"\\looparrowright":{font:"ams",group:"rel",replace:"↬"},"\\curvearrowright":{font:"ams",group:"rel",replace:"↷"},"\\circlearrowright":{font:"ams",group:"rel",replace:"↻"},"\\Rsh":{font:"ams",group:"rel",replace:"↱"},"\\downdownarrows":{font:"ams",group:"rel",replace:"⇊"},"\\upharpoonright":{font:"ams",group:"rel",replace:"↾"},"\\downharpoonright":{font:"ams",group:"rel",replace:"⇂"},"\\rightsquigarrow":{font:"ams",group:"rel",replace:"⇝"},"\\leadsto":{font:"ams",group:"rel",replace:"⇝"},"\\Rrightarrow":{font:"ams",group:"rel",replace:"⇛"},"\\restriction":{font:"ams",group:"rel",replace:"↾"},"`":{font:"main",group:"textord",replace:"‘"},"\\$":{font:"main",group:"textord",replace:"$"},"\\%":{font:"main",group:"textord",replace:"%"},"\\_":{font:"main",group:"textord",replace:"_"},"\\angle":{font:"main",group:"textord",replace:"∠"},"\\infty":{font:"main",group:"textord",replace:"∞"},"\\prime":{font:"main",group:"textord",replace:"′"},"\\triangle":{font:"main",group:"textord",replace:"△"},"\\Gamma":{font:"main",group:"textord",replace:"Γ"},"\\Delta":{font:"main",group:"textord",replace:"Δ"},"\\Theta":{font:"main",group:"textord",replace:"Θ"},"\\Lambda":{font:"main",group:"textord",replace:"Λ"},"\\Xi":{font:"main",group:"textord",replace:"Ξ"},"\\Pi":{font:"main",group:"textord",replace:"Π"},"\\Sigma":{font:"main",group:"textord",replace:"Σ"},"\\Upsilon":{font:"main",group:"textord",replace:"Υ"},"\\Phi":{font:"main",group:"textord",replace:"Φ"},"\\Psi":{font:"main",group:"textord",replace:"Ψ"},"\\Omega":{font:"main",group:"textord",replace:"Ω"},"\\neg":{font:"main",group:"textord",replace:"¬"},"\\lnot":{font:"main",group:"textord",replace:"¬"},"\\top":{font:"main",group:"textord",replace:"⊤"},"\\bot":{font:"main",group:"textord",replace:"⊥"},"\\emptyset":{font:"main",group:"textord",replace:"∅"},"\\varnothing":{font:"ams",group:"textord",replace:"∅"},"\\alpha":{font:"main",group:"mathord",replace:"α"},"\\beta":{font:"main",group:"mathord",replace:"β"},"\\gamma":{font:"main",group:"mathord",replace:"γ"},"\\delta":{font:"main",group:"mathord",replace:"δ"},"\\epsilon":{font:"main",group:"mathord",replace:"ϵ"},"\\zeta":{font:"main",group:"mathord",replace:"ζ"},"\\eta":{font:"main",group:"mathord",replace:"η"},"\\theta":{font:"main",group:"mathord",replace:"θ"},"\\iota":{font:"main",group:"mathord",replace:"ι"},"\\kappa":{font:"main",group:"mathord",replace:"κ"},"\\lambda":{font:"main",group:"mathord",replace:"λ"},"\\mu":{font:"main",group:"mathord",replace:"μ"},"\\nu":{font:"main",group:"mathord",replace:"ν"},"\\xi":{font:"main",group:"mathord",replace:"ξ"},"\\omicron":{font:"main",group:"mathord",replace:"o"},"\\pi":{font:"main",group:"mathord",replace:"π"},"\\rho":{font:"main",group:"mathord",replace:"ρ"},"\\sigma":{font:"main",group:"mathord",replace:"σ"},"\\tau":{font:"main",group:"mathord",replace:"τ"},"\\upsilon":{font:"main",group:"mathord",replace:"υ"},"\\phi":{font:"main",group:"mathord",replace:"ϕ"},"\\chi":{font:"main",group:"mathord",replace:"χ"},"\\psi":{font:"main",group:"mathord",replace:"ψ"},"\\omega":{font:"main",group:"mathord",replace:"ω"},"\\varepsilon":{font:"main",group:"mathord",replace:"ε"},"\\vartheta":{font:"main",group:"mathord",replace:"ϑ"},"\\varpi":{font:"main",group:"mathord",replace:"ϖ"},"\\varrho":{font:"main",group:"mathord",replace:"ϱ"},"\\varsigma":{font:"main",group:"mathord",replace:"ς"},"\\varphi":{font:"main",group:"mathord",replace:"φ"},"*":{font:"main",group:"bin",replace:"∗"},"+":{font:"main",group:"bin"},"-":{font:"main",group:"bin",replace:"−"},"\\cdot":{font:"main",group:"bin",replace:"⋅"},"\\circ":{font:"main",group:"bin",replace:"∘"},"\\div":{font:"main",group:"bin",replace:"÷"},"\\pm":{font:"main",group:"bin",replace:"±"},"\\times":{font:"main",group:"bin",replace:"×"},"\\cap":{font:"main",group:"bin",replace:"∩"},"\\cup":{font:"main",group:"bin",replace:"∪"},"\\setminus":{font:"main",group:"bin",replace:"∖"},"\\land":{font:"main",group:"bin",replace:"∧"},"\\lor":{font:"main",group:"bin",replace:"∨"},"\\wedge":{font:"main",group:"bin",replace:"∧"},"\\vee":{font:"main",group:"bin",replace:"∨"},"\\surd":{font:"main",group:"textord",replace:"√"},"(":{font:"main",group:"open"},"[":{font:"main",group:"open"},"\\langle":{font:"main",group:"open",replace:"⟨"},"\\lvert":{font:"main",group:"open",replace:"∣"},")":{font:"main",group:"close"},"]":{font:"main",group:"close"},"?":{font:"main",group:"close"},"!":{font:"main",group:"close"},"\\rangle":{font:"main",group:"close",replace:"⟩"},"\\rvert":{font:"main",group:"close",replace:"∣"},"=":{font:"main",group:"rel"},"<":{font:"main",group:"rel"},">":{font:"main",group:"rel"},":":{font:"main",group:"rel"},"\\approx":{font:"main",group:"rel",replace:"≈"},"\\cong":{font:"main",group:"rel",replace:"≅"},"\\ge":{font:"main",group:"rel",replace:"≥"},"\\geq":{font:"main",group:"rel",replace:"≥"},"\\gets":{font:"main",group:"rel",replace:"←"},"\\in":{font:"main",group:"rel",replace:"∈"},"\\notin":{font:"main",group:"rel",replace:"∉"},"\\subset":{font:"main",group:"rel",replace:"⊂"},"\\supset":{font:"main",group:"rel",replace:"⊃"},"\\subseteq":{font:"main",group:"rel",replace:"⊆"},"\\supseteq":{font:"main",group:"rel",replace:"⊇"},"\\nsubseteq":{font:"ams",group:"rel",replace:"⊈"},"\\nsupseteq":{font:"ams",group:"rel",replace:"⊉"},"\\models":{font:"main",group:"rel",replace:"⊨"},"\\leftarrow":{font:"main",group:"rel",replace:"←"},"\\le":{font:"main",group:"rel",replace:"≤"},"\\leq":{font:"main",group:"rel",replace:"≤"},"\\ne":{font:"main",group:"rel",replace:"≠"},"\\neq":{font:"main",group:"rel",replace:"≠"},"\\rightarrow":{font:"main",group:"rel",replace:"→"},"\\to":{font:"main",group:"rel",replace:"→"},"\\ngeq":{font:"ams",group:"rel",replace:"≱"},"\\nleq":{font:"ams",group:"rel",replace:"≰"},"\\!":{font:"main",group:"spacing"},"\\ ":{font:"main",group:"spacing",replace:" "},"~":{font:"main",group:"spacing",replace:" "},"\\,":{font:"main",group:"spacing"},"\\:":{font:"main",group:"spacing"},"\\;":{font:"main",group:"spacing"},"\\enspace":{font:"main",group:"spacing"},"\\qquad":{font:"main",group:"spacing"},"\\quad":{font:"main",group:"spacing"},"\\space":{font:"main",group:"spacing",replace:" "},",":{font:"main",group:"punct"},";":{font:"main",group:"punct"},"\\colon":{font:"main",group:"punct",replace:":"},"\\barwedge":{font:"ams",group:"textord",replace:"⊼"},"\\veebar":{font:"ams",group:"textord",replace:"⊻"},"\\odot":{font:"main",group:"bin",replace:"⊙"},"\\oplus":{font:"main",group:"bin",replace:"⊕"},"\\otimes":{font:"main",group:"bin",replace:"⊗"},"\\partial":{font:"main",group:"textord",replace:"∂"},"\\oslash":{font:"main",group:"bin",replace:"⊘"},"\\circledcirc":{font:"ams",group:"textord",replace:"⊚"},"\\boxdot":{font:"ams",group:"textord",replace:"⊡"},"\\bigtriangleup":{font:"main",group:"bin",replace:"△"},"\\bigtriangledown":{font:"main",group:"bin",replace:"▽"},"\\dagger":{font:"main",group:"bin",replace:"†"},"\\diamond":{font:"main",group:"bin",replace:"⋄"},"\\star":{font:"main",group:"bin",replace:"⋆"},"\\triangleleft":{font:"main",group:"bin",replace:"◃"},"\\triangleright":{font:"main",group:"bin",replace:"▹"},"\\{":{font:"main",group:"open",replace:"{"},"\\}":{font:"main",group:"close",replace:"}"},"\\lbrace":{font:"main",group:"open",replace:"{"},"\\rbrace":{font:"main",group:"close",replace:"}"},"\\lbrack":{font:"main",group:"open",replace:"["},"\\rbrack":{font:"main",group:"close",replace:"]"},"\\lfloor":{font:"main",group:"open",replace:"⌊"},"\\rfloor":{font:"main",group:"close",replace:"⌋"},"\\lceil":{font:"main",group:"open",replace:"⌈"},"\\rceil":{font:"main",group:"close",replace:"⌉"},"\\backslash":{font:"main",group:"textord",replace:"\\"},"|":{font:"main",group:"textord",replace:"∣"},"\\vert":{font:"main",group:"textord",replace:"∣"},"\\|":{font:"main",group:"textord",replace:"∥"},"\\Vert":{font:"main",group:"textord",replace:"∥"},"\\uparrow":{font:"main",group:"textord",replace:"↑"},"\\Uparrow":{font:"main",group:"textord",replace:"⇑"},"\\downarrow":{font:"main",group:"textord",replace:"↓"},"\\Downarrow":{font:"main",group:"textord",replace:"⇓"},"\\updownarrow":{font:"main",group:"textord",replace:"↕"},"\\Updownarrow":{font:"main",group:"textord",replace:"⇕"},"\\coprod":{font:"math",group:"op",replace:"∐"},"\\bigvee":{font:"math",group:"op",replace:"⋁"},"\\bigwedge":{font:"math",group:"op",replace:"⋀"},"\\biguplus":{font:"math",group:"op",replace:"⨄"},"\\bigcap":{font:"math",group:"op",replace:"⋂"},"\\bigcup":{font:"math",group:"op",replace:"⋃"},"\\int":{font:"math",group:"op",replace:"∫"},"\\intop":{font:"math",group:"op",replace:"∫"},"\\iint":{font:"math",group:"op",replace:"∬"},"\\iiint":{font:"math",group:"op",replace:"∭"},"\\prod":{font:"math",group:"op",replace:"∏"},"\\sum":{font:"math",group:"op",replace:"∑"},"\\bigotimes":{font:"math",group:"op",replace:"⨂"},"\\bigoplus":{font:"math",group:"op",replace:"⨁"},"\\bigodot":{font:"math",group:"op",replace:"⨀"},"\\oint":{font:"math",group:"op",replace:"∮"},"\\bigsqcup":{font:"math",group:"op",replace:"⨆"},"\\smallint":{font:"math",group:"op",replace:"∫"},"\\ldots":{font:"main",group:"punct",replace:"…"},"\\cdots":{font:"main",group:"inner",replace:"⋯"},"\\ddots":{font:"main",group:"inner",replace:"⋱"},"\\vdots":{font:"main",group:"textord",replace:"⋮"},"\\acute":{font:"main",group:"accent",replace:"´"},"\\grave":{font:"main",group:"accent",replace:"`"},"\\ddot":{font:"main",group:"accent",replace:"¨"},"\\tilde":{font:"main",group:"accent",replace:"~"},"\\bar":{font:"main",group:"accent",replace:"¯"},"\\breve":{font:"main",group:"accent",replace:"˘"},"\\check":{font:"main",group:"accent",replace:"ˇ"},"\\hat":{font:"main",group:"accent",replace:"^"},"\\vec":{font:"main",group:"accent",replace:"⃗"},"\\dot":{font:"main",group:"accent",replace:"˙"}},text:{"\\ ":{font:"main",group:"spacing",replace:" "}," ":{font:"main",group:"spacing",replace:" "},"~":{font:"main",group:"spacing",replace:" "}}},e='0123456789/@."',f=0;f<e.length;f++){var g=e.charAt(f);d.math[g]={font:"main",group:"textord"}}for(var h="0123456789`!@*()-=+[]'\";:?/.,",f=0;f<h.length;f++){var g=h.charAt(f);d.text[g]={font:"main",group:"textord"}}for(var i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",f=0;f<i.length;f++){var g=i.charAt(f);d.math[g]={font:"main",group:"mathord"},d.text[g]={font:"main",group:"textord"}}b.exports=d},{}],187:[function(a,b,c){function d(a){return n[a]}function e(a){return(""+a).replace(o,d)}function f(a){g(a,"")}var g,h=Array.prototype.indexOf,i=function(a,b){if(null==a)return-1;if(h&&a.indexOf===h)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},j=function(a,b){return-1!==i(a,b)},k=function(a,b){return void 0===a?b:a},l=/([A-Z])/g,m=function(a){return a.replace(l,"-$1").toLowerCase()},n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;if("undefined"!=typeof document){
var p=document.createElement("span");g="textContent"in p?function(a,b){a.textContent=b}:function(a,b){a.innerText=b}}b.exports={contains:j,deflt:k,escape:e,hyphenate:m,indexOf:i,setTextContent:g,clearNode:f}},{}],188:[function(a,b,c){b.exports=a("./lib/ReactWithAddons")},{"./lib/ReactWithAddons":288}],189:[function(a,b,c){"use strict";var d=a("./focusNode"),e={componentDidMount:function(){this.props.autoFocus&&d(this.getDOMNode())}};b.exports=e},{"./focusNode":322}],190:[function(a,b,c){"use strict";function d(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function e(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function f(a){switch(a){case C.topCompositionStart:return D.compositionStart;case C.topCompositionEnd:return D.compositionEnd;case C.topCompositionUpdate:return D.compositionUpdate}}function g(a,b){return a===C.topKeyDown&&b.keyCode===v}function h(a,b){switch(a){case C.topKeyUp:return-1!==u.indexOf(b.keyCode);case C.topKeyDown:return b.keyCode!==v;case C.topKeyPress:case C.topMouseDown:case C.topBlur:return!0;default:return!1}}function i(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function j(a,b,c,d){var e,j;if(w?e=f(a):F?h(a,d)&&(e=D.compositionEnd):g(a,d)&&(e=D.compositionStart),!e)return null;z&&(F||e!==D.compositionStart?e===D.compositionEnd&&F&&(j=F.getData()):F=q.getPooled(b));var k=r.getPooled(e,c,d);if(j)k.data=j;else{var l=i(d);null!==l&&(k.data=l)}return o.accumulateTwoPhaseDispatches(k),k}function k(a,b){switch(a){case C.topCompositionEnd:return i(b);case C.topKeyPress:var c=b.which;return c!==A?null:(E=!0,B);case C.topTextInput:var d=b.data;return d===B&&E?null:d;default:return null}}function l(a,b){if(F){if(a===C.topCompositionEnd||h(a,b)){var c=F.getData();return q.release(F),F=null,c}return null}switch(a){case C.topPaste:return null;case C.topKeyPress:return b.which&&!e(b)?String.fromCharCode(b.which):null;case C.topCompositionEnd:return z?null:b.data;default:return null}}function m(a,b,c,d){var e;if(e=y?k(a,d):l(a,d),!e)return null;var f=s.getPooled(D.beforeInput,c,d);return f.data=e,o.accumulateTwoPhaseDispatches(f),f}var n=a("./EventConstants"),o=a("./EventPropagators"),p=a("./ExecutionEnvironment"),q=a("./FallbackCompositionState"),r=a("./SyntheticCompositionEvent"),s=a("./SyntheticInputEvent"),t=a("./keyOf"),u=[9,13,27,32],v=229,w=p.canUseDOM&&"CompositionEvent"in window,x=null;p.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var y=p.canUseDOM&&"TextEvent"in window&&!x&&!d(),z=p.canUseDOM&&(!w||x&&x>8&&11>=x),A=32,B=String.fromCharCode(A),C=n.topLevelTypes,D={beforeInput:{phasedRegistrationNames:{bubbled:t({onBeforeInput:null}),captured:t({onBeforeInputCapture:null})},dependencies:[C.topCompositionEnd,C.topKeyPress,C.topTextInput,C.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:t({onCompositionEnd:null}),captured:t({onCompositionEndCapture:null})},dependencies:[C.topBlur,C.topCompositionEnd,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:t({onCompositionStart:null}),captured:t({onCompositionStartCapture:null})},dependencies:[C.topBlur,C.topCompositionStart,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:t({onCompositionUpdate:null}),captured:t({onCompositionUpdateCapture:null})},dependencies:[C.topBlur,C.topCompositionUpdate,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]}},E=!1,F=null,G={eventTypes:D,extractEvents:function(a,b,c,d){return[j(a,b,c,d),m(a,b,c,d)]}};b.exports=G},{"./EventConstants":203,"./EventPropagators":208,"./ExecutionEnvironment":209,"./FallbackCompositionState":210,"./SyntheticCompositionEvent":294,"./SyntheticInputEvent":298,"./keyOf":345}],191:[function(a,b,c){var d=a("./invariant"),e={addClass:function(a,b){return d(!/\s/.test(b)),b&&(a.classList?a.classList.add(b):e.hasClass(a,b)||(a.className=a.className+" "+b)),a},removeClass:function(a,b){return d(!/\s/.test(b)),b&&(a.classList?a.classList.remove(b):e.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),a},conditionClass:function(a,b,c){return(c?e.addClass:e.removeClass)(a,b)},hasClass:function(a,b){return d(!/\s/.test(b)),a.classList?!!b&&a.classList.contains(b):(" "+a.className+" ").indexOf(" "+b+" ")>-1}};b.exports=e},{"./invariant":338}],192:[function(a,b,c){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var e={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(a){f.forEach(function(b){e[d(b,a)]=e[a]})});var g={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},h={isUnitlessNumber:e,shorthandPropertyExpansions:g};b.exports=h},{}],193:[function(a,b,c){"use strict";var d=a("./CSSProperty"),e=a("./ExecutionEnvironment"),f=(a("./camelizeStyleName"),a("./dangerousStyleValue")),g=a("./hyphenateStyleName"),h=a("./memoizeStringOnly"),i=(a("./warning"),h(function(a){return g(a)})),j="cssFloat";e.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(j="styleFloat");var k={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];null!=d&&(b+=i(c)+":",b+=f(c,d)+";")}return b||null},setValueForStyles:function(a,b){var c=a.style;for(var e in b)if(b.hasOwnProperty(e)){var g=f(e,b[e]);if("float"===e&&(e=j),g)c[e]=g;else{var h=d.shorthandPropertyExpansions[e];if(h)for(var i in h)c[i]="";else c[e]=""}}}};b.exports=k},{"./CSSProperty":192,"./ExecutionEnvironment":209,"./camelizeStyleName":309,"./dangerousStyleValue":316,"./hyphenateStyleName":336,"./memoizeStringOnly":347,"./warning":359}],194:[function(a,b,c){"use strict";function d(){this._callbacks=null,this._contexts=null}var e=a("./PooledClass"),f=a("./Object.assign"),g=a("./invariant");f(d.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){g(a.length===b.length),this._callbacks=null,this._contexts=null;for(var c=0,d=a.length;d>c;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{"./Object.assign":216,"./PooledClass":217,"./invariant":338}],195:[function(a,b,c){"use strict";function d(a){return"SELECT"===a.nodeName||"INPUT"===a.nodeName&&"file"===a.type}function e(a){var b=x.getPooled(C.change,E,a);u.accumulateTwoPhaseDispatches(b),w.batchedUpdates(f,b)}function f(a){t.enqueueEvents(a),t.processEventQueue()}function g(a,b){D=a,E=b,D.attachEvent("onchange",e)}function h(){D&&(D.detachEvent("onchange",e),D=null,E=null)}function i(a,b,c){return a===B.topChange?c:void 0}function j(a,b,c){a===B.topFocus?(h(),g(b,c)):a===B.topBlur&&h()}function k(a,b){D=a,E=b,F=a.value,G=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(D,"value",J),D.attachEvent("onpropertychange",m)}function l(){D&&(delete D.value,D.detachEvent("onpropertychange",m),D=null,E=null,F=null,G=null)}function m(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==F&&(F=b,e(a))}}function n(a,b,c){return a===B.topInput?c:void 0}function o(a,b,c){a===B.topFocus?(l(),k(b,c)):a===B.topBlur&&l()}function p(a,b,c){return a!==B.topSelectionChange&&a!==B.topKeyUp&&a!==B.topKeyDown||!D||D.value===F?void 0:(F=D.value,E)}function q(a){return"INPUT"===a.nodeName&&("checkbox"===a.type||"radio"===a.type)}function r(a,b,c){return a===B.topClick?c:void 0}var s=a("./EventConstants"),t=a("./EventPluginHub"),u=a("./EventPropagators"),v=a("./ExecutionEnvironment"),w=a("./ReactUpdates"),x=a("./SyntheticEvent"),y=a("./isEventSupported"),z=a("./isTextInputElement"),A=a("./keyOf"),B=s.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[B.topBlur,B.topChange,B.topClick,B.topFocus,B.topInput,B.topKeyDown,B.topKeyUp,B.topSelectionChange]}},D=null,E=null,F=null,G=null,H=!1;v.canUseDOM&&(H=y("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;v.canUseDOM&&(I=y("input")&&(!("documentMode"in document)||document.documentMode>9));var J={get:function(){return G.get.call(this)},set:function(a){F=""+a,G.set.call(this,a)}},K={eventTypes:C,extractEvents:function(a,b,c,e){var f,g;if(d(b)?H?f=i:g=j:z(b)?I?f=n:(f=p,g=o):q(b)&&(f=r),f){var h=f(a,b,c);if(h){var k=x.getPooled(C.change,h,e);return u.accumulateTwoPhaseDispatches(k),k}}g&&g(a,b,c)}};b.exports=K},{"./EventConstants":203,"./EventPluginHub":205,"./EventPropagators":208,"./ExecutionEnvironment":209,"./ReactUpdates":287,"./SyntheticEvent":296,"./isEventSupported":339,"./isTextInputElement":341,"./keyOf":345}],196:[function(a,b,c){"use strict";var d=0,e={createReactRootIndex:function(){return d++}};b.exports=e},{}],197:[function(a,b,c){"use strict";function d(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}var e=a("./Danger"),f=a("./ReactMultiChildUpdateTypes"),g=a("./setTextContent"),h=a("./invariant"),i={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:g,processUpdates:function(a,b){for(var c,i=null,j=null,k=0;k<a.length;k++)if(c=a[k],c.type===f.MOVE_EXISTING||c.type===f.REMOVE_NODE){var l=c.fromIndex,m=c.parentNode.childNodes[l],n=c.parentID;h(m),i=i||{},i[n]=i[n]||[],i[n][l]=m,j=j||[],j.push(m)}var o=e.dangerouslyRenderMarkup(b);if(j)for(var p=0;p<j.length;p++)j[p].parentNode.removeChild(j[p]);for(var q=0;q<a.length;q++)switch(c=a[q],c.type){case f.INSERT_MARKUP:d(c.parentNode,o[c.markupIndex],c.toIndex);break;case f.MOVE_EXISTING:d(c.parentNode,i[c.parentID][c.fromIndex],c.toIndex);break;case f.TEXT_CONTENT:g(c.parentNode,c.textContent);break;case f.REMOVE_NODE:}}};b.exports=i},{"./Danger":200,"./ReactMultiChildUpdateTypes":266,"./invariant":338,"./setTextContent":353}],198:[function(a,b,c){"use strict";function d(a,b){return(a&b)===b}var e=a("./invariant"),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=a.Properties||{},c=a.DOMAttributeNames||{},g=a.DOMPropertyNames||{},i=a.DOMMutationMethods||{};a.isCustomAttribute&&h._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var j in b){e(!h.isStandardName.hasOwnProperty(j)),h.isStandardName[j]=!0;var k=j.toLowerCase();if(h.getPossibleStandardName[k]=j,c.hasOwnProperty(j)){var l=c[j];h.getPossibleStandardName[l]=j,h.getAttributeName[j]=l}else h.getAttributeName[j]=k;h.getPropertyName[j]=g.hasOwnProperty(j)?g[j]:j,i.hasOwnProperty(j)?h.getMutationMethod[j]=i[j]:h.getMutationMethod[j]=null;var m=b[j];h.mustUseAttribute[j]=d(m,f.MUST_USE_ATTRIBUTE),h.mustUseProperty[j]=d(m,f.MUST_USE_PROPERTY),h.hasSideEffects[j]=d(m,f.HAS_SIDE_EFFECTS),h.hasBooleanValue[j]=d(m,f.HAS_BOOLEAN_VALUE),h.hasNumericValue[j]=d(m,f.HAS_NUMERIC_VALUE),h.hasPositiveNumericValue[j]=d(m,f.HAS_POSITIVE_NUMERIC_VALUE),h.hasOverloadedBooleanValue[j]=d(m,f.HAS_OVERLOADED_BOOLEAN_VALUE),e(!h.mustUseAttribute[j]||!h.mustUseProperty[j]),e(h.mustUseProperty[j]||!h.hasSideEffects[j]),e(!!h.hasBooleanValue[j]+!!h.hasNumericValue[j]+!!h.hasOverloadedBooleanValue[j]<=1)}}},g={},h={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<h._isCustomAttributeFunctions.length;b++){var c=h._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=g[a];return d||(g[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:f};b.exports=h},{"./invariant":338}],199:[function(a,b,c){"use strict";function d(a,b){return null==b||e.hasBooleanValue[a]&&!b||e.hasNumericValue[a]&&isNaN(b)||e.hasPositiveNumericValue[a]&&1>b||e.hasOverloadedBooleanValue[a]&&b===!1}var e=a("./DOMProperty"),f=a("./quoteAttributeValueForBrowser"),g=(a("./warning"),{createMarkupForID:function(a){return e.ID_ATTRIBUTE_NAME+"="+f(a)},createMarkupForProperty:function(a,b){if(e.isStandardName.hasOwnProperty(a)&&e.isStandardName[a]){if(d(a,b))return"";var c=e.getAttributeName[a];return e.hasBooleanValue[a]||e.hasOverloadedBooleanValue[a]&&b===!0?c:c+"="+f(b)}return e.isCustomAttribute(a)?null==b?"":a+"="+f(b):null},setValueForProperty:function(a,b,c){if(e.isStandardName.hasOwnProperty(b)&&e.isStandardName[b]){var f=e.getMutationMethod[b];if(f)f(a,c);else if(d(b,c))this.deleteValueForProperty(a,b);else if(e.mustUseAttribute[b])a.setAttribute(e.getAttributeName[b],""+c);else{var g=e.getPropertyName[b];e.hasSideEffects[b]&&""+a[g]==""+c||(a[g]=c)}}else e.isCustomAttribute(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))},deleteValueForProperty:function(a,b){if(e.isStandardName.hasOwnProperty(b)&&e.isStandardName[b]){var c=e.getMutationMethod[b];if(c)c(a,void 0);else if(e.mustUseAttribute[b])a.removeAttribute(e.getAttributeName[b]);else{var d=e.getPropertyName[b],f=e.getDefaultValueForProperty(a.nodeName,d);e.hasSideEffects[b]&&""+a[d]===f||(a[d]=f)}}else e.isCustomAttribute(b)&&a.removeAttribute(b)}});b.exports=g},{"./DOMProperty":198,"./quoteAttributeValueForBrowser":351,"./warning":359}],200:[function(a,b,c){"use strict";function d(a){return a.substring(1,a.indexOf(" "))}var e=a("./ExecutionEnvironment"),f=a("./createNodesFromMarkup"),g=a("./emptyFunction"),h=a("./getMarkupWrap"),i=a("./invariant"),j=/^(<[^ \/>]+)/,k="data-danger-index",l={dangerouslyRenderMarkup:function(a){i(e.canUseDOM);for(var b,c={},l=0;l<a.length;l++)i(a[l]),b=d(a[l]),b=h(b)?b:"*",c[b]=c[b]||[],c[b][l]=a[l];var m=[],n=0;for(b in c)if(c.hasOwnProperty(b)){var o,p=c[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(j,"$1 "+k+'="'+o+'" ')}for(var r=f(p.join(""),g),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(k)&&(o=+t.getAttribute(k),t.removeAttribute(k),i(!m.hasOwnProperty(o)),m[o]=t,n+=1)}}return i(n===m.length),i(m.length===a.length),m},dangerouslyReplaceNodeWithMarkup:function(a,b){i(e.canUseDOM),i(b),i("html"!==a.tagName.toLowerCase());var c=f(b,g)[0];a.parentNode.replaceChild(c,a)}};b.exports=l},{"./ExecutionEnvironment":209,"./createNodesFromMarkup":314,"./emptyFunction":317,"./getMarkupWrap":330,"./invariant":338}],201:[function(a,b,c){"use strict";var d=a("./keyOf"),e=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null}),d({AnalyticsEventPlugin:null}),d({MobileSafariClickEventPlugin:null})];b.exports=e},{"./keyOf":345}],202:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./EventPropagators"),f=a("./SyntheticMouseEvent"),g=a("./ReactMount"),h=a("./keyOf"),i=d.topLevelTypes,j=g.getFirstReactDOM,k={mouseEnter:{registrationName:h({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:h({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},l=[null,null],m={eventTypes:k,extractEvents:function(a,b,c,d){if(a===i.topMouseOver&&(d.relatedTarget||d.fromElement))return null;if(a!==i.topMouseOut&&a!==i.topMouseOver)return null;var h;if(b.window===b)h=b;else{var m=b.ownerDocument;h=m?m.defaultView||m.parentWindow:window}var n,o;if(a===i.topMouseOut?(n=b,o=j(d.relatedTarget||d.toElement)||h):(n=h,o=b),n===o)return null;var p=n?g.getID(n):"",q=o?g.getID(o):"",r=f.getPooled(k.mouseLeave,p,d);r.type="mouseleave",r.target=n,r.relatedTarget=o;var s=f.getPooled(k.mouseEnter,q,d);return s.type="mouseenter",s.target=o,s.relatedTarget=n,e.accumulateEnterLeaveDispatches(r,s,p,q),l[0]=r,l[1]=s,l}};b.exports=m},{"./EventConstants":203,"./EventPropagators":208,"./ReactMount":264,"./SyntheticMouseEvent":300,"./keyOf":345}],203:[function(a,b,c){"use strict";var d=a("./keyMirror"),e=d({bubbled:null,captured:null}),f=d({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),g={topLevelTypes:f,PropagationPhases:e};b.exports=g},{"./keyMirror":344}],204:[function(a,b,c){var d=a("./emptyFunction"),e={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):{remove:d}},registerDefault:function(){}};b.exports=e},{"./emptyFunction":317}],205:[function(a,b,c){"use strict";var d=a("./EventPluginRegistry"),e=a("./EventPluginUtils"),f=a("./accumulateInto"),g=a("./forEachAccumulated"),h=a("./invariant"),i={},j=null,k=function(a){if(a){var b=e.executeDispatch,c=d.getPluginModuleForEvent(a);c&&c.executeDispatch&&(b=c.executeDispatch),e.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a)}},l=null,m={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(a){l=a},getInstanceHandle:function(){return l},injectEventPluginOrder:d.injectEventPluginOrder,injectEventPluginsByName:d.injectEventPluginsByName},eventNameDispatchConfigs:d.eventNameDispatchConfigs,registrationNameModules:d.registrationNameModules,putListener:function(a,b,c){h(!c||"function"==typeof c);var d=i[b]||(i[b]={});d[a]=c},getListener:function(a,b){var c=i[b];return c&&c[a]},deleteListener:function(a,b){var c=i[b];c&&delete c[a]},deleteAllListeners:function(a){for(var b in i)delete i[b][a]},extractEvents:function(a,b,c,e){for(var g,h=d.plugins,i=0,j=h.length;j>i;i++){var k=h[i];if(k){var l=k.extractEvents(a,b,c,e);l&&(g=f(g,l))}}return g},enqueueEvents:function(a){a&&(j=f(j,a))},processEventQueue:function(){var a=j;j=null,g(a,k),h(!j)},__purge:function(){i={}},__getListenerBank:function(){return i}};b.exports=m},{"./EventPluginRegistry":206,"./EventPluginUtils":207,"./accumulateInto":306,"./forEachAccumulated":323,"./invariant":338}],206:[function(a,b,c){"use strict";function d(){if(h)for(var a in i){var b=i[a],c=h.indexOf(a);if(g(c>-1),!j.plugins[c]){g(b.extractEvents),j.plugins[c]=b;var d=b.eventTypes;for(var f in d)g(e(d[f],b,f))}}}function e(a,b,c){g(!j.eventNameDispatchConfigs.hasOwnProperty(c)),j.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var e in d)if(d.hasOwnProperty(e)){var h=d[e];f(h,b,c)}return!0}return a.registrationName?(f(a.registrationName,b,c),!0):!1}function f(a,b,c){g(!j.registrationNameModules[a]),j.registrationNameModules[a]=b,j.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var g=a("./invariant"),h=null,i={},j={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){g(!h),h=Array.prototype.slice.call(a),d()},injectEventPluginsByName:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];i.hasOwnProperty(c)&&i[c]===e||(g(!i[c]),i[c]=e,b=!0)}b&&d()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return j.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=j.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){h=null;for(var a in i)i.hasOwnProperty(a)&&delete i[a];j.plugins.length=0;var b=j.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=j.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};b.exports=j},{"./invariant":338}],207:[function(a,b,c){"use strict";function d(a){return a===q.topMouseUp||a===q.topTouchEnd||a===q.topTouchCancel}function e(a){return a===q.topMouseMove||a===q.topTouchMove}function f(a){return a===q.topMouseDown||a===q.topTouchStart}function g(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)b(a,c[e],d[e]);else c&&b(a,c,d)}function h(a,b,c){a.currentTarget=p.Mount.getNode(c);var d=b(a,c);return a.currentTarget=null,d}function i(a,b){g(a,b),a._dispatchListeners=null,a._dispatchIDs=null}function j(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function k(a){var b=j(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function l(a){var b=a._dispatchListeners,c=a._dispatchIDs;o(!Array.isArray(b));var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function m(a){return!!a._dispatchListeners}var n=a("./EventConstants"),o=a("./invariant"),p={Mount:null,injectMount:function(a){p.Mount=a}},q=n.topLevelTypes,r={isEndish:d,isMoveish:e,isStartish:f,executeDirectDispatch:l,executeDispatch:h,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:k,hasDispatches:m,injection:p,useTouchEvents:!1};b.exports=r},{"./EventConstants":203,"./invariant":338}],208:[function(a,b,c){"use strict";function d(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return q(a,d)}function e(a,b,c){var e=b?p.bubbled:p.captured,f=d(a,c,e);f&&(c._dispatchListeners=n(c._dispatchListeners,f),c._dispatchIDs=n(c._dispatchIDs,a))}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&m.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,e,a)}function g(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=q(a,d);e&&(c._dispatchListeners=n(c._dispatchListeners,e),c._dispatchIDs=n(c._dispatchIDs,a))}}function h(a){a&&a.dispatchConfig.registrationName&&g(a.dispatchMarker,null,a)}function i(a){o(a,f)}function j(a,b,c,d){m.injection.getInstanceHandle().traverseEnterLeave(c,d,g,a,b)}function k(a){o(a,h)}var l=a("./EventConstants"),m=a("./EventPluginHub"),n=a("./accumulateInto"),o=a("./forEachAccumulated"),p=l.PropagationPhases,q=m.getListener,r={accumulateTwoPhaseDispatches:i,accumulateDirectDispatches:k,accumulateEnterLeaveDispatches:j};b.exports=r},{"./EventConstants":203,"./EventPluginHub":205,"./accumulateInto":306,"./forEachAccumulated":323}],209:[function(a,b,c){"use strict";var d=!("undefined"==typeof window||!window.document||!window.document.createElement),e={canUseDOM:d,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:d&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d};b.exports=e},{}],210:[function(a,b,c){"use strict";function d(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var e=a("./PooledClass"),f=a("./Object.assign"),g=a("./getTextContentAccessor");f(d.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[g()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),e.addPoolingTo(d),b.exports=d},{"./Object.assign":216,"./PooledClass":217,"./getTextContentAccessor":333}],211:[function(a,b,c){"use strict";var d,e=a("./DOMProperty"),f=a("./ExecutionEnvironment"),g=e.injection.MUST_USE_ATTRIBUTE,h=e.injection.MUST_USE_PROPERTY,i=e.injection.HAS_BOOLEAN_VALUE,j=e.injection.HAS_SIDE_EFFECTS,k=e.injection.HAS_NUMERIC_VALUE,l=e.injection.HAS_POSITIVE_NUMERIC_VALUE,m=e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(f.canUseDOM){var n=document.implementation;d=n&&n.hasFeature&&n.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var o={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:g|i,allowTransparency:g,alt:null,async:i,autoComplete:null,autoPlay:i,cellPadding:null,cellSpacing:null,charSet:g,checked:h|i,classID:g,className:d?g:h,cols:g|l,colSpan:null,content:null,contentEditable:null,contextMenu:g,controls:h|i,coords:null,crossOrigin:null,data:null,dateTime:g,defer:i,dir:null,disabled:g|i,download:m,draggable:null,encType:null,form:g,formAction:g,formEncType:g,formMethod:g,formNoValidate:i,formTarget:g,frameBorder:g,headers:null,height:g,hidden:g|i,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:h,label:null,lang:null,list:g,loop:h|i,low:null,manifest:g,marginHeight:null,marginWidth:null,max:null,maxLength:g,media:g,mediaGroup:null,method:null,min:null,multiple:h|i,muted:h|i,name:null,noValidate:i,open:i,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:h|i,rel:null,required:i,role:g,rows:g|l,rowSpan:null,sandbox:null,scope:null,scoped:i,scrolling:null,seamless:g|i,selected:h|i,shape:null,size:g|l,sizes:g,span:l,spellCheck:null,src:null,srcDoc:h,srcSet:g,start:k,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:h|j,width:g,wmode:g,autoCapitalize:null,autoCorrect:null,itemProp:g,itemScope:g|i,itemType:g,itemID:g,itemRef:g,property:null,unselectable:g},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};b.exports=o},{"./DOMProperty":198,"./ExecutionEnvironment":209}],212:[function(a,b,c){"use strict";var d=a("./ReactLink"),e=a("./ReactStateSetters"),f={linkState:function(a){return new d(this.state[a],e.createStateKeySetter(this,a))}};b.exports=f},{"./ReactLink":262,"./ReactStateSetters":281}],213:[function(a,b,c){"use strict";function d(a){j(null==a.props.checkedLink||null==a.props.valueLink)}function e(a){d(a),j(null==a.props.value&&null==a.props.onChange)}function f(a){d(a),j(null==a.props.checked&&null==a.props.onChange)}function g(a){this.props.valueLink.requestChange(a.target.value)}function h(a){this.props.checkedLink.requestChange(a.target.checked)}var i=a("./ReactPropTypes"),j=a("./invariant"),k={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},l={Mixin:{propTypes:{value:function(a,b,c){return!a[b]||k[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func}},getValue:function(a){return a.props.valueLink?(e(a),a.props.valueLink.value):a.props.value},getChecked:function(a){return a.props.checkedLink?(f(a),a.props.checkedLink.value):a.props.checked},getOnChange:function(a){return a.props.valueLink?(e(a),g):a.props.checkedLink?(f(a),h):a.props.onChange}};b.exports=l},{"./ReactPropTypes":273,"./invariant":338}],214:[function(a,b,c){"use strict";function d(a){a.remove()}var e=a("./ReactBrowserEventEmitter"),f=a("./accumulateInto"),g=a("./forEachAccumulated"),h=a("./invariant"),i={trapBubbledEvent:function(a,b){h(this.isMounted());var c=this.getDOMNode();h(c);var d=e.trapBubbledEvent(a,b,c);this._localEventListeners=f(this._localEventListeners,d)},componentWillUnmount:function(){this._localEventListeners&&g(this._localEventListeners,d)}};b.exports=i},{"./ReactBrowserEventEmitter":220,"./accumulateInto":306,"./forEachAccumulated":323,"./invariant":338}],215:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./emptyFunction"),f=d.topLevelTypes,g={eventTypes:null,extractEvents:function(a,b,c,d){if(a===f.topTouchStart){var g=d.target;g&&!g.onclick&&(g.onclick=e)}}};b.exports=g},{"./EventConstants":203,"./emptyFunction":317}],216:[function(a,b,c){"use strict";function d(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}b.exports=d},{}],217:[function(a,b,c){"use strict";var d=a("./invariant"),e=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},f=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},g=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},h=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},i=function(a){var b=this;d(a instanceof b),a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},j=10,k=e,l=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||k,c.poolSize||(c.poolSize=j),c.release=i,c},m={addPoolingTo:l,oneArgumentPooler:e,twoArgumentPooler:f,threeArgumentPooler:g,fiveArgumentPooler:h};b.exports=m},{"./invariant":338}],218:[function(a,b,c){"use strict";var d=a("./EventPluginUtils"),e=a("./ReactChildren"),f=a("./ReactComponent"),g=a("./ReactClass"),h=a("./ReactContext"),i=a("./ReactCurrentOwner"),j=a("./ReactElement"),k=(a("./ReactElementValidator"),a("./ReactDOM")),l=a("./ReactDOMTextComponent"),m=a("./ReactDefaultInjection"),n=a("./ReactInstanceHandles"),o=a("./ReactMount"),p=a("./ReactPerf"),q=a("./ReactPropTypes"),r=a("./ReactReconciler"),s=a("./ReactServerRendering"),t=a("./Object.assign"),u=a("./findDOMNode"),v=a("./onlyChild");m.inject();var w=j.createElement,x=j.createFactory,y=j.cloneElement,z=p.measure("React","render",o.render),A={Children:{map:e.map,forEach:e.forEach,count:e.count,only:v},Component:f,DOM:k,PropTypes:q,initializeTouchEvents:function(a){d.useTouchEvents=a},createClass:g.createClass,createElement:w,cloneElement:y,createFactory:x,createMixin:function(a){return a},constructAndRenderComponent:o.constructAndRenderComponent,constructAndRenderComponentByID:o.constructAndRenderComponentByID,
findDOMNode:u,render:z,renderToString:s.renderToString,renderToStaticMarkup:s.renderToStaticMarkup,unmountComponentAtNode:o.unmountComponentAtNode,isValidElement:j.isValidElement,withContext:h.withContext,__spread:t};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:n,Mount:o,Reconciler:r,TextComponent:l});A.version="0.13.2",b.exports=A},{"./EventPluginUtils":207,"./ExecutionEnvironment":209,"./Object.assign":216,"./ReactChildren":224,"./ReactClass":225,"./ReactComponent":226,"./ReactContext":231,"./ReactCurrentOwner":232,"./ReactDOM":233,"./ReactDOMTextComponent":244,"./ReactDefaultInjection":247,"./ReactElement":250,"./ReactElementValidator":251,"./ReactInstanceHandles":259,"./ReactMount":264,"./ReactPerf":269,"./ReactPropTypes":273,"./ReactReconciler":276,"./ReactServerRendering":279,"./findDOMNode":320,"./onlyChild":348}],219:[function(a,b,c){"use strict";var d=a("./findDOMNode"),e={getDOMNode:function(){return d(this)}};b.exports=e},{"./findDOMNode":320}],220:[function(a,b,c){"use strict";function d(a){return Object.prototype.hasOwnProperty.call(a,p)||(a[p]=n++,l[a[p]]={}),l[a[p]]}var e=a("./EventConstants"),f=a("./EventPluginHub"),g=a("./EventPluginRegistry"),h=a("./ReactEventEmitterMixin"),i=a("./ViewportMetrics"),j=a("./Object.assign"),k=a("./isEventSupported"),l={},m=!1,n=0,o={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},p="_reactListenersID"+String(Math.random()).slice(2),q=j({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(q.handleTopLevel),q.ReactEventListener=a}},setEnabled:function(a){q.ReactEventListener&&q.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!q.ReactEventListener||!q.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,f=d(c),h=g.registrationNameDependencies[a],i=e.topLevelTypes,j=0,l=h.length;l>j;j++){var m=h[j];f.hasOwnProperty(m)&&f[m]||(m===i.topWheel?k("wheel")?q.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",c):k("mousewheel")?q.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",c):q.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",c):m===i.topScroll?k("scroll",!0)?q.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",c):q.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",q.ReactEventListener.WINDOW_HANDLE):m===i.topFocus||m===i.topBlur?(k("focus",!0)?(q.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",c),q.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",c)):k("focusin")&&(q.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",c),q.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",c)),f[i.topBlur]=!0,f[i.topFocus]=!0):o.hasOwnProperty(m)&&q.ReactEventListener.trapBubbledEvent(m,o[m],c),f[m]=!0)}},trapBubbledEvent:function(a,b,c){return q.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return q.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!m){var a=i.refreshScrollValues;q.ReactEventListener.monitorScrollValue(a),m=!0}},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});b.exports=q},{"./EventConstants":203,"./EventPluginHub":205,"./EventPluginRegistry":206,"./Object.assign":216,"./ReactEventEmitterMixin":254,"./ViewportMetrics":305,"./isEventSupported":339}],221:[function(a,b,c){"use strict";var d=a("./React"),e=a("./Object.assign"),f=d.createFactory(a("./ReactTransitionGroup")),g=d.createFactory(a("./ReactCSSTransitionGroupChild")),h=d.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:d.PropTypes.string.isRequired,transitionAppear:d.PropTypes.bool,transitionEnter:d.PropTypes.bool,transitionLeave:d.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(a){return g({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},a)},render:function(){return f(e({},this.props,{childFactory:this._wrapChild}))}});b.exports=h},{"./Object.assign":216,"./React":218,"./ReactCSSTransitionGroupChild":222,"./ReactTransitionGroup":285}],222:[function(a,b,c){"use strict";var d=a("./React"),e=a("./CSSCore"),f=a("./ReactTransitionEvents"),g=a("./onlyChild"),h=(a("./warning"),17),i=d.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(a,b){var c=this.getDOMNode(),d=this.props.name+"-"+a,g=d+"-active",h=function(a){a&&a.target!==c||(e.removeClass(c,d),e.removeClass(c,g),f.removeEndEventListener(c,h),b&&b())};f.addEndEventListener(c,h),e.addClass(c,d),this.queueClass(g)},queueClass:function(a){this.classNameQueue.push(a),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,h))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(e.addClass.bind(e,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(a){this.props.appear?this.transition("appear",a):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a):a()},render:function(){return g(this.props.children)}});b.exports=i},{"./CSSCore":191,"./React":218,"./ReactTransitionEvents":284,"./onlyChild":348,"./warning":359}],223:[function(a,b,c){"use strict";var d=a("./ReactReconciler"),e=a("./flattenChildren"),f=a("./instantiateReactComponent"),g=a("./shouldUpdateReactComponent"),h={instantiateChildren:function(a,b,c){var d=e(a);for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=f(h,null);d[g]=i}return d},updateChildren:function(a,b,c,h){var i=e(b);if(!i&&!a)return null;var j;for(j in i)if(i.hasOwnProperty(j)){var k=a&&a[j],l=k&&k._currentElement,m=i[j];if(g(l,m))d.receiveComponent(k,m,c,h),i[j]=k;else{k&&d.unmountComponent(k,j);var n=f(m,null);i[j]=n}}for(j in a)!a.hasOwnProperty(j)||i&&i.hasOwnProperty(j)||d.unmountComponent(a[j]);return i},unmountChildren:function(a){for(var b in a){var c=a[b];d.unmountComponent(c)}}};b.exports=h},{"./ReactReconciler":276,"./flattenChildren":321,"./instantiateReactComponent":337,"./shouldUpdateReactComponent":355}],224:[function(a,b,c){"use strict";function d(a,b){this.forEachFunction=a,this.forEachContext=b}function e(a,b,c,d){var e=a;e.forEachFunction.call(e.forEachContext,b,d)}function f(a,b,c){if(null==a)return a;var f=d.getPooled(b,c);n(a,e,f),d.release(f)}function g(a,b,c){this.mapResult=a,this.mapFunction=b,this.mapContext=c}function h(a,b,c,d){var e=a,f=e.mapResult,g=!f.hasOwnProperty(c);if(g){var h=e.mapFunction.call(e.mapContext,b,d);f[c]=h}}function i(a,b,c){if(null==a)return a;var d={},e=g.getPooled(d,b,c);return n(a,h,e),g.release(e),m.create(d)}function j(a,b,c,d){return null}function k(a,b){return n(a,j,null)}var l=a("./PooledClass"),m=a("./ReactFragment"),n=a("./traverseAllChildren"),o=(a("./warning"),l.twoArgumentPooler),p=l.threeArgumentPooler;l.addPoolingTo(d,o),l.addPoolingTo(g,p);var q={forEach:f,map:i,count:k};b.exports=q},{"./PooledClass":217,"./ReactFragment":256,"./traverseAllChildren":357,"./warning":359}],225:[function(a,b,c){"use strict";function d(a,b){var c=y.hasOwnProperty(b)?y[b]:null;A.hasOwnProperty(b)&&s(c===w.OVERRIDE_BASE),a.hasOwnProperty(b)&&s(c===w.DEFINE_MANY||c===w.DEFINE_MANY_MERGED)}function e(a,b){if(b){s("function"!=typeof b),s(!m.isValidElement(b));var c=a.prototype;b.hasOwnProperty(v)&&z.mixins(a,b.mixins);for(var e in b)if(b.hasOwnProperty(e)&&e!==v){var f=b[e];if(d(c,e),z.hasOwnProperty(e))z[e](a,f);else{var g=y.hasOwnProperty(e),j=c.hasOwnProperty(e),k=f&&f.__reactDontBind,l="function"==typeof f,n=l&&!g&&!j&&!k;if(n)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[e]=f,c[e]=f;else if(j){var o=y[e];s(g&&(o===w.DEFINE_MANY_MERGED||o===w.DEFINE_MANY)),o===w.DEFINE_MANY_MERGED?c[e]=h(c[e],f):o===w.DEFINE_MANY&&(c[e]=i(c[e],f))}else c[e]=f}}}}function f(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in z;s(!e);var f=c in a;s(!f),a[c]=d}}}function g(a,b){s(a&&b&&"object"==typeof a&&"object"==typeof b);for(var c in b)b.hasOwnProperty(c)&&(s(void 0===a[c]),a[c]=b[c]);return a}function h(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return g(e,c),g(e,d),e}}function i(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function j(a,b){var c=b.bind(a);return c}function k(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=j(a,n.guard(c,a.constructor.displayName+"."+b))}}var l=a("./ReactComponent"),m=(a("./ReactCurrentOwner"),a("./ReactElement")),n=a("./ReactErrorUtils"),o=a("./ReactInstanceMap"),p=a("./ReactLifeCycle"),q=(a("./ReactPropTypeLocations"),a("./ReactPropTypeLocationNames"),a("./ReactUpdateQueue")),r=a("./Object.assign"),s=a("./invariant"),t=a("./keyMirror"),u=a("./keyOf"),v=(a("./warning"),u({mixins:null})),w=t({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],y={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},z={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)e(a,b[c])},childContextTypes:function(a,b){a.childContextTypes=r({},a.childContextTypes,b)},contextTypes:function(a,b){a.contextTypes=r({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=h(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){a.propTypes=r({},a.propTypes,b)},statics:function(a,b){f(a,b)}},A={replaceState:function(a,b){q.enqueueReplaceState(this,a),b&&q.enqueueCallback(this,b)},isMounted:function(){var a=o.get(this);return a&&a!==p.currentlyMountingInstance},setProps:function(a,b){q.enqueueSetProps(this,a),b&&q.enqueueCallback(this,b)},replaceProps:function(a,b){q.enqueueReplaceProps(this,a),b&&q.enqueueCallback(this,b)}},B=function(){};r(B.prototype,l.prototype,A);var C={createClass:function(a){var b=function(a,b){this.__reactAutoBindMap&&k(this),this.props=a,this.context=b,this.state=null;var c=this.getInitialState?this.getInitialState():null;s("object"==typeof c&&!Array.isArray(c)),this.state=c};b.prototype=new B,b.prototype.constructor=b,x.forEach(e.bind(null,b)),e(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),s(b.prototype.render);for(var c in y)b.prototype[c]||(b.prototype[c]=null);return b.type=b,b},injection:{injectMixin:function(a){x.push(a)}}};b.exports=C},{"./Object.assign":216,"./ReactComponent":226,"./ReactCurrentOwner":232,"./ReactElement":250,"./ReactErrorUtils":253,"./ReactInstanceMap":260,"./ReactLifeCycle":261,"./ReactPropTypeLocationNames":271,"./ReactPropTypeLocations":272,"./ReactUpdateQueue":286,"./invariant":338,"./keyMirror":344,"./keyOf":345,"./warning":359}],226:[function(a,b,c){"use strict";function d(a,b){this.props=a,this.context=b}var e=a("./ReactUpdateQueue"),f=a("./invariant");a("./warning");d.prototype.setState=function(a,b){f("object"==typeof a||"function"==typeof a||null==a),e.enqueueSetState(this,a),b&&e.enqueueCallback(this,b)},d.prototype.forceUpdate=function(a){e.enqueueForceUpdate(this),a&&e.enqueueCallback(this,a)};b.exports=d},{"./ReactUpdateQueue":286,"./invariant":338,"./warning":359}],227:[function(a,b,c){"use strict";var d=a("./ReactDOMIDOperations"),e=a("./ReactMount"),f={processChildrenUpdates:d.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:d.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){e.purgeID(a)}};b.exports=f},{"./ReactDOMIDOperations":237,"./ReactMount":264}],228:[function(a,b,c){"use strict";var d=a("./invariant"),e=!1,f={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){d(!e),f.unmountIDFromEnvironment=a.unmountIDFromEnvironment,f.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,f.processChildrenUpdates=a.processChildrenUpdates,e=!0}}};b.exports=f},{"./invariant":338}],229:[function(a,b,c){"use strict";var d=a("./shallowEqual"),e={shouldComponentUpdate:function(a,b){return!d(this.props,a)||!d(this.state,b)}};b.exports=e},{"./shallowEqual":354}],230:[function(a,b,c){"use strict";function d(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}var e=a("./ReactComponentEnvironment"),f=a("./ReactContext"),g=a("./ReactCurrentOwner"),h=a("./ReactElement"),i=(a("./ReactElementValidator"),a("./ReactInstanceMap")),j=a("./ReactLifeCycle"),k=a("./ReactNativeComponent"),l=a("./ReactPerf"),m=a("./ReactPropTypeLocations"),n=(a("./ReactPropTypeLocationNames"),a("./ReactReconciler")),o=a("./ReactUpdates"),p=a("./Object.assign"),q=a("./emptyObject"),r=a("./invariant"),s=a("./shouldUpdateReactComponent"),t=(a("./warning"),1),u={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=t++,this._rootNodeID=a;var d=this._processProps(this._currentElement.props),e=this._processContext(this._currentElement._context),f=k.getComponentClassForElement(this._currentElement),g=new f(d,e);g.props=d,g.context=e,g.refs=q,this._instance=g,i.set(g,this);var h=g.state;void 0===h&&(g.state=h=null),r("object"==typeof h&&!Array.isArray(h)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var l,m=j.currentlyMountingInstance;j.currentlyMountingInstance=this;try{g.componentWillMount&&(g.componentWillMount(),this._pendingStateQueue&&(g.state=this._processPendingState(g.props,g.context))),l=this._renderValidatedComponent()}finally{j.currentlyMountingInstance=m}this._renderedComponent=this._instantiateReactComponent(l,this._currentElement.type);var o=n.mountComponent(this._renderedComponent,a,b,this._processChildContext(c));return g.componentDidMount&&b.getReactMountReady().enqueue(g.componentDidMount,g),o},unmountComponent:function(){var a=this._instance;if(a.componentWillUnmount){var b=j.currentlyUnmountingInstance;j.currentlyUnmountingInstance=this;try{a.componentWillUnmount()}finally{j.currentlyUnmountingInstance=b}}n.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,i.remove(a)},_setPropsInternal:function(a,b){var c=this._pendingElement||this._currentElement;this._pendingElement=h.cloneAndReplaceProps(c,p({},c.props,a)),o.enqueueUpdate(this,b)},_maskContext:function(a){var b=null;if("string"==typeof this._currentElement.type)return q;var c=this._currentElement.type.contextTypes;if(!c)return q;b={};for(var d in c)b[d]=a[d];return b},_processContext:function(a){var b=this._maskContext(a);return b},_processChildContext:function(a){var b=this._instance,c=b.getChildContext&&b.getChildContext();if(c){r("object"==typeof b.constructor.childContextTypes);for(var d in c)r(d in b.constructor.childContextTypes);return p({},a,c)}return a},_processProps:function(a){return a},_checkPropTypes:function(a,b,c){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{r("function"==typeof a[f]),g=a[f](b,f,e,c)}catch(h){g=h}if(g instanceof Error){d(this);c===m.prop}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&n.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(a,b){a=this._maskContext(a),b=this._maskContext(b);for(var c=Object.keys(b).sort(),d=(this.getName()||"ReactCompositeComponent",0);d<c.length;d++){c[d]}},updateComponent:function(a,b,c,d,e){var f=this._instance,g=f.context,h=f.props;b!==c&&(g=this._processContext(c._context),h=this._processProps(c.props),f.componentWillReceiveProps&&f.componentWillReceiveProps(h,g));var i=this._processPendingState(h,g),j=this._pendingForceUpdate||!f.shouldComponentUpdate||f.shouldComponentUpdate(h,i,g);j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,h,i,g,a,e)):(this._currentElement=c,this._context=e,f.props=h,f.state=i,f.context=g)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;for(var f=p({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];p(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g=this._instance,h=g.props,i=g.state,j=g.context;g.componentWillUpdate&&g.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,g.props=b,g.state=c,g.context=d,this._updateRenderedComponent(e,f),g.componentDidUpdate&&e.getReactMountReady().enqueue(g.componentDidUpdate.bind(g,h,i,j),g)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._renderValidatedComponent();if(s(d,e))n.receiveComponent(c,e,a,this._processChildContext(b));else{var f=this._rootNodeID,g=c._rootNodeID;n.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(e,this._currentElement.type);var h=n.mountComponent(this._renderedComponent,f,a,this._processChildContext(b));this._replaceNodeWithMarkupByID(g,h)}},_replaceNodeWithMarkupByID:function(a,b){e.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return b},_renderValidatedComponent:function(){var a,b=f.current;f.current=this._processChildContext(this._currentElement._context),g.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{f.current=b,g.current=null}return r(null===a||a===!1||h.isValidElement(a)),a},attachRef:function(a,b){var c=this.getPublicInstance(),d=c.refs===q?c.refs={}:c.refs;d[a]=b.getPublicInstance()},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};l.measureMethods(u,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var v={Mixin:u};b.exports=v},{"./Object.assign":216,"./ReactComponentEnvironment":228,"./ReactContext":231,"./ReactCurrentOwner":232,"./ReactElement":250,"./ReactElementValidator":251,"./ReactInstanceMap":260,"./ReactLifeCycle":261,"./ReactNativeComponent":267,"./ReactPerf":269,"./ReactPropTypeLocationNames":271,"./ReactPropTypeLocations":272,"./ReactReconciler":276,"./ReactUpdates":287,"./emptyObject":318,"./invariant":338,"./shouldUpdateReactComponent":355,"./warning":359}],231:[function(a,b,c){"use strict";var d=a("./Object.assign"),e=a("./emptyObject"),f=(a("./warning"),{current:e,withContext:function(a,b){var c,e=f.current;f.current=d({},e,a);try{c=b()}finally{f.current=e}return c}});b.exports=f},{"./Object.assign":216,"./emptyObject":318,"./warning":359}],232:[function(a,b,c){"use strict";var d={current:null};b.exports=d},{}],233:[function(a,b,c){"use strict";function d(a){return e.createFactory(a)}var e=a("./ReactElement"),f=(a("./ReactElementValidator"),a("./mapObject")),g=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},d);b.exports=g},{"./ReactElement":250,"./ReactElementValidator":251,"./mapObject":346}],234:[function(a,b,c){"use strict";var d=a("./AutoFocusMixin"),e=a("./ReactBrowserComponentMixin"),f=a("./ReactClass"),g=a("./ReactElement"),h=a("./keyMirror"),i=g.createFactory("button"),j=h({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),k=f.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[d,e],render:function(){var a={};for(var b in this.props)!this.props.hasOwnProperty(b)||this.props.disabled&&j[b]||(a[b]=this.props[b]);return i(a,this.props.children)}});b.exports=k},{"./AutoFocusMixin":189,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250,"./keyMirror":344}],235:[function(a,b,c){"use strict";function d(a){a&&(null!=a.dangerouslySetInnerHTML&&(r(null==a.children),r(null!=a.dangerouslySetInnerHTML.__html)),r(null==a.style||"object"==typeof a.style))}function e(a,b,c,d){var e=m.findReactContainerForID(a);if(e){var f=e.nodeType===y?e.ownerDocument:e;u(b,f)}d.getPutListenerQueue().enqueuePutListener(a,b,c)}function f(a){D.call(C,a)||(r(B.test(a)),C[a]=!0)}function g(a){f(a),this._tag=a,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var h=a("./CSSPropertyOperations"),i=a("./DOMProperty"),j=a("./DOMPropertyOperations"),k=a("./ReactBrowserEventEmitter"),l=a("./ReactComponentBrowserEnvironment"),m=a("./ReactMount"),n=a("./ReactMultiChild"),o=a("./ReactPerf"),p=a("./Object.assign"),q=a("./escapeTextContentForBrowser"),r=a("./invariant"),s=(a("./isEventSupported"),a("./keyOf")),t=(a("./warning"),k.deleteListener),u=k.listenTo,v=k.registrationNameModules,w={string:!0,number:!0},x=s({style:null}),y=1,z=null,A={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},B=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,C={},D={}.hasOwnProperty;g.displayName="ReactDOMComponent",g.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a,d(this._currentElement.props);var e=A[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(b)+this._createContentMarkup(b,c)+e},_createOpenTagMarkupAndPutListeners:function(a){var b=this._currentElement.props,c="<"+this._tag;for(var d in b)if(b.hasOwnProperty(d)){var f=b[d];if(null!=f)if(v.hasOwnProperty(d))e(this._rootNodeID,d,f,a);else{d===x&&(f&&(f=this._previousStyleCopy=p({},b.style)),f=h.createMarkupForStyles(f));var g=j.createMarkupForProperty(d,f);g&&(c+=" "+g)}}if(a.renderToStaticMarkup)return c+">";var i=j.createMarkupForID(this._rootNodeID);return c+" "+i+">"},_createContentMarkup:function(a,b){var c="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(c="\n");var d=this._currentElement.props,e=d.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html)return c+e.__html}else{var f=w[typeof d.children]?d.children:null,g=null!=f?null:d.children;if(null!=f)return c+q(f);if(null!=g){var h=this.mountChildren(g,a,b);return c+h.join("")}}return c},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,e){d(this._currentElement.props),this._updateDOMProperties(b.props,a),this._updateDOMChildren(b.props,a,e)},_updateDOMProperties:function(a,b){var c,d,f,g=this._currentElement.props;for(c in a)if(!g.hasOwnProperty(c)&&a.hasOwnProperty(c))if(c===x){var h=this._previousStyleCopy;for(d in h)h.hasOwnProperty(d)&&(f=f||{},f[d]="");this._previousStyleCopy=null}else v.hasOwnProperty(c)?t(this._rootNodeID,c):(i.isStandardName[c]||i.isCustomAttribute(c))&&z.deletePropertyByID(this._rootNodeID,c);for(c in g){var j=g[c],k=c===x?this._previousStyleCopy:a[c];if(g.hasOwnProperty(c)&&j!==k)if(c===x)if(j?j=this._previousStyleCopy=p({},j):this._previousStyleCopy=null,k){for(d in k)!k.hasOwnProperty(d)||j&&j.hasOwnProperty(d)||(f=f||{},f[d]="");for(d in j)j.hasOwnProperty(d)&&k[d]!==j[d]&&(f=f||{},f[d]=j[d])}else f=j;else v.hasOwnProperty(c)?e(this._rootNodeID,c,j,b):(i.isStandardName[c]||i.isCustomAttribute(c))&&z.updatePropertyByID(this._rootNodeID,c,j)}f&&z.updateStylesByID(this._rootNodeID,f)},_updateDOMChildren:function(a,b,c){var d=this._currentElement.props,e=w[typeof a.children]?a.children:null,f=w[typeof d.children]?d.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=d.dangerouslySetInnerHTML&&d.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:d.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,b,c):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&z.updateInnerHTMLByID(this._rootNodeID,h):null!=j&&this.updateChildren(j,b,c)},unmountComponent:function(){this.unmountChildren(),k.deleteAllListeners(this._rootNodeID),l.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},o.measureMethods(g,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),p(g.prototype,g.Mixin,n.Mixin),g.injection={injectIDOperations:function(a){g.BackendIDOperations=z=a}},b.exports=g},{"./CSSPropertyOperations":193,"./DOMProperty":198,"./DOMPropertyOperations":199,"./Object.assign":216,"./ReactBrowserEventEmitter":220,"./ReactComponentBrowserEnvironment":227,"./ReactMount":264,"./ReactMultiChild":265,"./ReactPerf":269,"./escapeTextContentForBrowser":319,"./invariant":338,"./isEventSupported":339,"./keyOf":345,"./warning":359}],236:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./LocalEventTrapMixin"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactClass"),h=a("./ReactElement"),i=h.createFactory("form"),j=g.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(d.topLevelTypes.topSubmit,"submit")}});b.exports=j},{"./EventConstants":203,"./LocalEventTrapMixin":214,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250}],237:[function(a,b,c){"use strict";var d=a("./CSSPropertyOperations"),e=a("./DOMChildrenOperations"),f=a("./DOMPropertyOperations"),g=a("./ReactMount"),h=a("./ReactPerf"),i=a("./invariant"),j=a("./setInnerHTML"),k={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(a,b,c){var d=g.getNode(a);i(!k.hasOwnProperty(b)),null!=c?f.setValueForProperty(d,b,c):f.deleteValueForProperty(d,b)},deletePropertyByID:function(a,b,c){var d=g.getNode(a);i(!k.hasOwnProperty(b)),f.deleteValueForProperty(d,b,c)},updateStylesByID:function(a,b){var c=g.getNode(a);d.setValueForStyles(c,b)},updateInnerHTMLByID:function(a,b){var c=g.getNode(a);j(c,b)},updateTextContentByID:function(a,b){var c=g.getNode(a);e.updateTextContent(c,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=g.getNode(a);e.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=g.getNode(a[c].parentID);e.processUpdates(a,b)}};h.measureMethods(l,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),b.exports=l},{"./CSSPropertyOperations":193,"./DOMChildrenOperations":197,"./DOMPropertyOperations":199,"./ReactMount":264,"./ReactPerf":269,"./invariant":338,"./setInnerHTML":352}],238:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./LocalEventTrapMixin"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactClass"),h=a("./ReactElement"),i=h.createFactory("iframe"),j=g.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topLoad,"load")}});b.exports=j},{"./EventConstants":203,"./LocalEventTrapMixin":214,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250}],239:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./LocalEventTrapMixin"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactClass"),h=a("./ReactElement"),i=h.createFactory("img"),j=g.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(d.topLevelTypes.topError,"error");
}});b.exports=j},{"./EventConstants":203,"./LocalEventTrapMixin":214,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250}],240:[function(a,b,c){"use strict";function d(){this.isMounted()&&this.forceUpdate()}var e=a("./AutoFocusMixin"),f=a("./DOMPropertyOperations"),g=a("./LinkedValueUtils"),h=a("./ReactBrowserComponentMixin"),i=a("./ReactClass"),j=a("./ReactElement"),k=a("./ReactMount"),l=a("./ReactUpdates"),m=a("./Object.assign"),n=a("./invariant"),o=j.createFactory("input"),p={},q=i.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[e,g.Mixin,h],getInitialState:function(){var a=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=a?a:null}},render:function(){var a=m({},this.props);a.defaultChecked=null,a.defaultValue=null;var b=g.getValue(this);a.value=null!=b?b:this.state.initialValue;var c=g.getChecked(this);return a.checked=null!=c?c:this.state.initialChecked,a.onChange=this._handleChange,o(a,this.props.children)},componentDidMount:function(){var a=k.getID(this.getDOMNode());p[a]=this},componentWillUnmount:function(){var a=this.getDOMNode(),b=k.getID(a);delete p[b]},componentDidUpdate:function(a,b,c){var d=this.getDOMNode();null!=this.props.checked&&f.setValueForProperty(d,"checked",this.props.checked||!1);var e=g.getValue(this);null!=e&&f.setValueForProperty(d,"value",""+e)},_handleChange:function(a){var b,c=g.getOnChange(this);c&&(b=c.call(this,a)),l.asap(d,this);var e=this.props.name;if("radio"===this.props.type&&null!=e){for(var f=this.getDOMNode(),h=f;h.parentNode;)h=h.parentNode;for(var i=h.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),j=0,m=i.length;m>j;j++){var o=i[j];if(o!==f&&o.form===f.form){var q=k.getID(o);n(q);var r=p[q];n(r),l.asap(d,r)}}}return b}});b.exports=q},{"./AutoFocusMixin":189,"./DOMPropertyOperations":199,"./LinkedValueUtils":213,"./Object.assign":216,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250,"./ReactMount":264,"./ReactUpdates":287,"./invariant":338}],241:[function(a,b,c){"use strict";var d=a("./ReactBrowserComponentMixin"),e=a("./ReactClass"),f=a("./ReactElement"),g=(a("./warning"),f.createFactory("option")),h=e.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[d],componentWillMount:function(){},render:function(){return g(this.props,this.props.children)}});b.exports=h},{"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250,"./warning":359}],242:[function(a,b,c){"use strict";function d(){if(this._pendingUpdate){this._pendingUpdate=!1;var a=h.getValue(this);null!=a&&this.isMounted()&&f(this,a)}}function e(a,b,c){if(null==a[b])return null;if(a.multiple){if(!Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function f(a,b){var c,d,e,f=a.getDOMNode().options;if(a.props.multiple){for(c={},d=0,e=b.length;e>d;d++)c[""+b[d]]=!0;for(d=0,e=f.length;e>d;d++){var g=c.hasOwnProperty(f[d].value);f[d].selected!==g&&(f[d].selected=g)}}else{for(c=""+b,d=0,e=f.length;e>d;d++)if(f[d].value===c)return void(f[d].selected=!0);f.length&&(f[0].selected=!0)}}var g=a("./AutoFocusMixin"),h=a("./LinkedValueUtils"),i=a("./ReactBrowserComponentMixin"),j=a("./ReactClass"),k=a("./ReactElement"),l=a("./ReactUpdates"),m=a("./Object.assign"),n=k.createFactory("select"),o=j.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[g,h.Mixin,i],propTypes:{defaultValue:e,value:e},render:function(){var a=m({},this.props);return a.onChange=this._handleChange,a.value=null,n(a,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var a=h.getValue(this);null!=a?f(this,a):null!=this.props.defaultValue&&f(this,this.props.defaultValue)},componentDidUpdate:function(a){var b=h.getValue(this);null!=b?(this._pendingUpdate=!1,f(this,b)):!a.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?f(this,this.props.defaultValue):f(this,this.props.multiple?[]:""))},_handleChange:function(a){var b,c=h.getOnChange(this);return c&&(b=c.call(this,a)),this._pendingUpdate=!0,l.asap(d,this),b}});b.exports=o},{"./AutoFocusMixin":189,"./LinkedValueUtils":213,"./Object.assign":216,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250,"./ReactUpdates":287}],243:[function(a,b,c){"use strict";function d(a,b,c,d){return a===c&&b===d}function e(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function f(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0),i=d(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),j=i?0:h.toString().length,k=h.cloneRange();k.selectNodeContents(a),k.setEnd(h.startContainer,h.startOffset);var l=d(k.startContainer,k.startOffset,k.endContainer,k.endOffset),m=l?0:k.toString().length,n=m+j,o=document.createRange();o.setStart(c,e),o.setEnd(f,g);var p=o.collapsed;return{start:p?n:m,end:p?m:n}}function g(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function h(a,b){if(window.getSelection){var c=window.getSelection(),d=a[k()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=j(a,e),i=j(a,f);if(h&&i){var l=document.createRange();l.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(i.node,i.offset)):(l.setEnd(i.node,i.offset),c.addRange(l))}}}var i=a("./ExecutionEnvironment"),j=a("./getNodeForCharacterOffset"),k=a("./getTextContentAccessor"),l=i.canUseDOM&&"selection"in document&&!("getSelection"in window),m={getOffsets:l?e:f,setOffsets:l?g:h};b.exports=m},{"./ExecutionEnvironment":209,"./getNodeForCharacterOffset":331,"./getTextContentAccessor":333}],244:[function(a,b,c){"use strict";var d=a("./DOMPropertyOperations"),e=a("./ReactComponentBrowserEnvironment"),f=a("./ReactDOMComponent"),g=a("./Object.assign"),h=a("./escapeTextContentForBrowser"),i=function(a){};g(i.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b,c){this._rootNodeID=a;var e=h(this._stringText);return b.renderToStaticMarkup?e:"<span "+d.createMarkupForID(a)+">"+e+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var c=""+a;c!==this._stringText&&(this._stringText=c,f.BackendIDOperations.updateTextContentByID(this._rootNodeID,c))}},unmountComponent:function(){e.unmountIDFromEnvironment(this._rootNodeID)}}),b.exports=i},{"./DOMPropertyOperations":199,"./Object.assign":216,"./ReactComponentBrowserEnvironment":227,"./ReactDOMComponent":235,"./escapeTextContentForBrowser":319}],245:[function(a,b,c){"use strict";function d(){this.isMounted()&&this.forceUpdate()}var e=a("./AutoFocusMixin"),f=a("./DOMPropertyOperations"),g=a("./LinkedValueUtils"),h=a("./ReactBrowserComponentMixin"),i=a("./ReactClass"),j=a("./ReactElement"),k=a("./ReactUpdates"),l=a("./Object.assign"),m=a("./invariant"),n=(a("./warning"),j.createFactory("textarea")),o=i.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[e,g.Mixin,h],getInitialState:function(){var a=this.props.defaultValue,b=this.props.children;null!=b&&(m(null==a),Array.isArray(b)&&(m(b.length<=1),b=b[0]),a=""+b),null==a&&(a="");var c=g.getValue(this);return{initialValue:""+(null!=c?c:a)}},render:function(){var a=l({},this.props);return m(null==a.dangerouslySetInnerHTML),a.defaultValue=null,a.value=null,a.onChange=this._handleChange,n(a,this.state.initialValue)},componentDidUpdate:function(a,b,c){var d=g.getValue(this);if(null!=d){var e=this.getDOMNode();f.setValueForProperty(e,"value",""+d)}},_handleChange:function(a){var b,c=g.getOnChange(this);return c&&(b=c.call(this,a)),k.asap(d,this),b}});b.exports=o},{"./AutoFocusMixin":189,"./DOMPropertyOperations":199,"./LinkedValueUtils":213,"./Object.assign":216,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactElement":250,"./ReactUpdates":287,"./invariant":338,"./warning":359}],246:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction()}var e=a("./ReactUpdates"),f=a("./Transaction"),g=a("./Object.assign"),h=a("./emptyFunction"),i={initialize:h,close:function(){m.isBatchingUpdates=!1}},j={initialize:h,close:e.flushBatchedUpdates.bind(e)},k=[j,i];g(d.prototype,f.Mixin,{getTransactionWrappers:function(){return k}});var l=new d,m={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e){var f=m.isBatchingUpdates;m.isBatchingUpdates=!0,f?a(b,c,d,e):l.perform(a,null,b,c,d,e)}};b.exports=m},{"./Object.assign":216,"./ReactUpdates":287,"./Transaction":304,"./emptyFunction":317}],247:[function(a,b,c){"use strict";function d(a){return o.createClass({tagName:a.toUpperCase(),render:function(){return new C(a,null,null,null,null,this.props)}})}function e(){E.EventEmitter.injectReactEventListener(D),E.EventPluginHub.injectEventPluginOrder(i),E.EventPluginHub.injectInstanceHandle(F),E.EventPluginHub.injectMount(G),E.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:K,EnterLeaveEventPlugin:j,ChangeEventPlugin:g,MobileSafariClickEventPlugin:m,SelectEventPlugin:I,BeforeInputEventPlugin:f}),E.NativeComponent.injectGenericComponentClass(r),E.NativeComponent.injectTextComponentClass(B),E.NativeComponent.injectAutoWrapper(d),E.Class.injectMixin(n),E.NativeComponent.injectComponentClasses({button:s,form:t,iframe:w,img:u,input:x,option:y,select:z,textarea:A,html:M("html"),head:M("head"),body:M("body")}),E.DOMProperty.injectDOMPropertyConfig(l),E.DOMProperty.injectDOMPropertyConfig(L),E.EmptyComponent.injectEmptyComponent("noscript"),E.Updates.injectReconcileTransaction(H),E.Updates.injectBatchingStrategy(q),E.RootIndex.injectCreateReactRootIndex(k.canUseDOM?h.createReactRootIndex:J.createReactRootIndex),E.Component.injectEnvironment(p),E.DOMComponent.injectIDOperations(v)}var f=a("./BeforeInputEventPlugin"),g=a("./ChangeEventPlugin"),h=a("./ClientReactRootIndex"),i=a("./DefaultEventPluginOrder"),j=a("./EnterLeaveEventPlugin"),k=a("./ExecutionEnvironment"),l=a("./HTMLDOMPropertyConfig"),m=a("./MobileSafariClickEventPlugin"),n=a("./ReactBrowserComponentMixin"),o=a("./ReactClass"),p=a("./ReactComponentBrowserEnvironment"),q=a("./ReactDefaultBatchingStrategy"),r=a("./ReactDOMComponent"),s=a("./ReactDOMButton"),t=a("./ReactDOMForm"),u=a("./ReactDOMImg"),v=a("./ReactDOMIDOperations"),w=a("./ReactDOMIframe"),x=a("./ReactDOMInput"),y=a("./ReactDOMOption"),z=a("./ReactDOMSelect"),A=a("./ReactDOMTextarea"),B=a("./ReactDOMTextComponent"),C=a("./ReactElement"),D=a("./ReactEventListener"),E=a("./ReactInjection"),F=a("./ReactInstanceHandles"),G=a("./ReactMount"),H=a("./ReactReconcileTransaction"),I=a("./SelectEventPlugin"),J=a("./ServerReactRootIndex"),K=a("./SimpleEventPlugin"),L=a("./SVGDOMPropertyConfig"),M=a("./createFullPageComponent");b.exports={inject:e}},{"./BeforeInputEventPlugin":190,"./ChangeEventPlugin":195,"./ClientReactRootIndex":196,"./DefaultEventPluginOrder":201,"./EnterLeaveEventPlugin":202,"./ExecutionEnvironment":209,"./HTMLDOMPropertyConfig":211,"./MobileSafariClickEventPlugin":215,"./ReactBrowserComponentMixin":219,"./ReactClass":225,"./ReactComponentBrowserEnvironment":227,"./ReactDOMButton":234,"./ReactDOMComponent":235,"./ReactDOMForm":236,"./ReactDOMIDOperations":237,"./ReactDOMIframe":238,"./ReactDOMImg":239,"./ReactDOMInput":240,"./ReactDOMOption":241,"./ReactDOMSelect":242,"./ReactDOMTextComponent":244,"./ReactDOMTextarea":245,"./ReactDefaultBatchingStrategy":246,"./ReactDefaultPerf":248,"./ReactElement":250,"./ReactEventListener":255,"./ReactInjection":257,"./ReactInstanceHandles":259,"./ReactMount":264,"./ReactReconcileTransaction":275,"./SVGDOMPropertyConfig":289,"./SelectEventPlugin":290,"./ServerReactRootIndex":291,"./SimpleEventPlugin":292,"./createFullPageComponent":313}],248:[function(a,b,c){"use strict";function d(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var f=a("./DOMProperty"),g=a("./ReactDefaultPerfAnalysis"),h=a("./ReactMount"),i=a("./ReactPerf"),j=a("./performanceNow"),k={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){k._injected||i.injection.injectMeasure(k.measure),k._allMeasurements.length=0,i.enableMeasure=!0},stop:function(){i.enableMeasure=!1},getLastMeasurements:function(){return k._allMeasurements},printExclusive:function(a){a=a||k._allMeasurements;var b=g.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":d(a.inclusive),"Exclusive mount time (ms)":d(a.exclusive),"Exclusive render time (ms)":d(a.render),"Mount time per instance (ms)":d(a.exclusive/a.count),"Render time per instance (ms)":d(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||k._allMeasurements;var b=g.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":d(a.time),Instances:a.count}})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=g.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||k._allMeasurements,console.table(k.getMeasurementsSummaryMap(a)),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||k._allMeasurements;var b=g.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[f.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=k._allMeasurements[k._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var d=[],f=0,g=arguments.length;g>f;f++)d.push(arguments[f]);var i,l,m;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return k._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),m=j(),l=c.apply(this,d),k._allMeasurements[k._allMeasurements.length-1].totalTime=j()-m,l;if("_mountImageIntoNode"===b||"ReactDOMIDOperations"===a){if(m=j(),l=c.apply(this,d),i=j()-m,"_mountImageIntoNode"===b){var n=h.getID(d[1]);k._recordWrite(n,b,i,d[0])}else"dangerouslyProcessChildrenUpdates"===b?d[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=d[1][a.markupIndex]),k._recordWrite(a.parentID,a.type,i,b)}):k._recordWrite(d[0],b,i,Array.prototype.slice.call(d,1));return l}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,d);if("string"==typeof this._currentElement.type)return c.apply(this,d);var o="mountComponent"===b?d[0]:this._rootNodeID,p="_renderValidatedComponent"===b,q="mountComponent"===b,r=k._mountStack,s=k._allMeasurements[k._allMeasurements.length-1];if(p?e(s.counts,o,1):q&&r.push(0),m=j(),l=c.apply(this,d),i=j()-m,p)e(s.render,o,i);else if(q){var t=r.pop();r[r.length-1]+=i,e(s.exclusive,o,i-t),e(s.inclusive,o,i)}else e(s.inclusive,o,i);return s.displayNames[o]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};b.exports=k},{"./DOMProperty":198,"./ReactDefaultPerfAnalysis":249,"./ReactMount":264,"./ReactPerf":269,"./performanceNow":350}],249:[function(a,b,c){function d(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function e(a){for(var b=[],c=0;c<a.length;c++){var d,e=a[c];for(d in e.writes)e.writes[d].forEach(function(a){b.push({id:d,type:k[a.type]||a.type,args:a.args})})}return b}function f(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=i({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var h=[];for(b in c)c[b].exclusive>=j&&h.push(c[b]);return h.sort(function(a,b){return b.exclusive-a.exclusive}),h}function g(a,b){for(var c,d={},e=0;e<a.length;e++){var f,g=a[e],k=i({},g.exclusive,g.inclusive);b&&(f=h(g));for(var l in k)if(!b||f[l]){var m=g.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},g.inclusive[l]&&(d[c].time+=g.inclusive[l]),g.counts[l]&&(d[c].count+=g.counts[l])}}var n=[];for(c in d)d[c].time>=j&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function h(a){var b={},c=Object.keys(a.writes),d=i({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}!f&&a.counts[e]>0&&(b[e]=!0)}return b}var i=a("./Object.assign"),j=1.2,k={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},l={getExclusiveSummary:f,getInclusiveSummary:g,getDOMSummary:e,getTotalTime:d};b.exports=l},{"./Object.assign":216}],250:[function(a,b,c){"use strict";var d=a("./ReactContext"),e=a("./ReactCurrentOwner"),f=a("./Object.assign"),g=(a("./warning"),{key:!0,ref:!0}),h=function(a,b,c,d,e,f){this.type=a,this.key=b,this.ref=c,this._owner=d,this._context=e,this.props=f};h.prototype={_isReactElement:!0},h.createElement=function(a,b,c){var f,i={},j=null,k=null;if(null!=b){k=void 0===b.ref?null:b.ref,j=void 0===b.key?null:""+b.key;for(f in b)b.hasOwnProperty(f)&&!g.hasOwnProperty(f)&&(i[f]=b[f])}var l=arguments.length-2;if(1===l)i.children=c;else if(l>1){for(var m=Array(l),n=0;l>n;n++)m[n]=arguments[n+2];i.children=m}if(a&&a.defaultProps){var o=a.defaultProps;for(f in o)"undefined"==typeof i[f]&&(i[f]=o[f])}return new h(a,j,k,e.current,d.current,i)},h.createFactory=function(a){var b=h.createElement.bind(null,a);return b.type=a,b},h.cloneAndReplaceProps=function(a,b){var c=new h(a.type,a.key,a.ref,a._owner,a._context,b);return c},h.cloneElement=function(a,b,c){var d,i=f({},a.props),j=a.key,k=a.ref,l=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,l=e.current),void 0!==b.key&&(j=""+b.key);for(d in b)b.hasOwnProperty(d)&&!g.hasOwnProperty(d)&&(i[d]=b[d])}var m=arguments.length-2;if(1===m)i.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];i.children=n}return new h(a.type,j,k,l,a._context,i)},h.isValidElement=function(a){var b=!(!a||!a._isReactElement);return b},b.exports=h},{"./Object.assign":216,"./ReactContext":231,"./ReactCurrentOwner":232,"./warning":359}],251:[function(a,b,c){"use strict";function d(){if(s.current){var a=s.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function e(a){var b=a&&a.getPublicInstance();if(b){var c=b.constructor;if(c)return c.displayName||c.name||void 0}}function f(){var a=s.current;return a&&e(a)||void 0}function g(a,b){a._store.validated||null!=a.key||(a._store.validated=!0,i('Each child in an array or iterator should have a unique "key" prop.',a,b))}function h(a,b,c){y.test(a)&&i("Child objects should have non-numeric keys so ordering is preserved.",b,c)}function i(a,b,c){var d=f(),g="string"==typeof c?c:c.displayName||c.name,h=d||g,i=w[a]||(w[a]={});if(!i.hasOwnProperty(h)){i[h]=!0;var j="";if(b&&b._owner&&b._owner!==s.current){var k=e(b._owner);j=" It was passed a child from "+k+"."}}}function j(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];p.isValidElement(d)&&g(d,b)}else if(p.isValidElement(a))a._store.validated=!0;else if(a){var e=u(a);if(e){if(e!==a.entries)for(var f,i=e.call(a);!(f=i.next()).done;)p.isValidElement(f.value)&&g(f.value,b)}else if("object"==typeof a){var j=q.extractIfFragment(a);for(var k in j)j.hasOwnProperty(k)&&h(k,j[k],b)}}}function k(a,b,c,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{v("function"==typeof b[f]),g=b[f](c,f,a,e)}catch(h){g=h}if(g instanceof Error&&!(g.message in x)){x[g.message]=!0;d(this)}}}function l(a,b){var c=b.type,d="string"==typeof c?c:c.displayName,e=b._owner?b._owner.getPublicInstance().constructor.displayName:null,f=a+"|"+d+"|"+e;if(!z.hasOwnProperty(f)){z[f]=!0;var g="";d&&(g=" <"+d+" />");var h="";e&&(h=" The element was created by "+e+".")}}function m(a,b){return a!==a?b!==b:0===a&&0===b?1/a===1/b:a===b}function n(a){if(a._store){var b=a._store.originalProps,c=a.props;for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(d)&&m(b[d],c[d])||(l(d,a),b[d]=c[d]))}}function o(a){if(null!=a.type){var b=t.getComponentClassForElement(a),c=b.displayName||b.name;b.propTypes&&k(c,b.propTypes,a.props,r.prop),"function"==typeof b.getDefaultProps}}var p=a("./ReactElement"),q=a("./ReactFragment"),r=a("./ReactPropTypeLocations"),s=(a("./ReactPropTypeLocationNames"),a("./ReactCurrentOwner")),t=a("./ReactNativeComponent"),u=a("./getIteratorFn"),v=a("./invariant"),w=(a("./warning"),{}),x={},y=/^\d+$/,z={},A={checkAndWarnForMutatedProps:n,createElement:function(a,b,c){var d=p.createElement.apply(this,arguments);if(null==d)return d;for(var e=2;e<arguments.length;e++)j(arguments[e],a);return o(d),d},createFactory:function(a){var b=A.createElement.bind(null,a);return b.type=a,b},cloneElement:function(a,b,c){for(var d=p.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)j(arguments[e],d.type);return o(d),d}};b.exports=A},{"./ReactCurrentOwner":232,"./ReactElement":250,"./ReactFragment":256,"./ReactNativeComponent":267,"./ReactPropTypeLocationNames":271,"./ReactPropTypeLocations":272,"./getIteratorFn":329,"./invariant":338,"./warning":359}],252:[function(a,b,c){"use strict";function d(a){k[a]=!0}function e(a){delete k[a]}function f(a){return!!k[a]}var g,h=a("./ReactElement"),i=a("./ReactInstanceMap"),j=a("./invariant"),k={},l={injectEmptyComponent:function(a){g=h.createFactory(a)}},m=function(){};m.prototype.componentDidMount=function(){var a=i.get(this);a&&d(a._rootNodeID)},m.prototype.componentWillUnmount=function(){var a=i.get(this);a&&e(a._rootNodeID)},m.prototype.render=function(){return j(g),g()};var n=h.createElement(m),o={emptyElement:n,injection:l,isNullComponentID:f};b.exports=o},{"./ReactElement":250,"./ReactInstanceMap":260,"./invariant":338}],253:[function(a,b,c){"use strict";var d={guard:function(a,b){return a}};b.exports=d},{}],254:[function(a,b,c){"use strict";function d(a){e.enqueueEvents(a),e.processEventQueue()}var e=a("./EventPluginHub"),f={handleTopLevel:function(a,b,c,f){var g=e.extractEvents(a,b,c,f);d(g)}};b.exports=f},{"./EventPluginHub":205}],255:[function(a,b,c){"use strict";function d(a){var b=l.getID(a),c=k.getReactRootIDFromNodeID(b),d=l.findReactContainerForID(c),e=l.getFirstReactDOM(d);return e}function e(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function f(a){for(var b=l.getFirstReactDOM(o(a.nativeEvent))||window,c=b;c;)a.ancestors.push(c),c=d(c);for(var e=0,f=a.ancestors.length;f>e;e++){b=a.ancestors[e];var g=l.getID(b)||"";q._handleTopLevel(a.topLevelType,b,g,a.nativeEvent)}}function g(a){var b=p(window);a(b)}var h=a("./EventListener"),i=a("./ExecutionEnvironment"),j=a("./PooledClass"),k=a("./ReactInstanceHandles"),l=a("./ReactMount"),m=a("./ReactUpdates"),n=a("./Object.assign"),o=a("./getEventTarget"),p=a("./getUnboundedScrollPosition");n(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),j.addPoolingTo(e,j.twoArgumentPooler);var q={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(a){q._handleTopLevel=a},setEnabled:function(a){q._enabled=!!a},isEnabled:function(){return q._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?h.listen(d,b,q.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?h.capture(d,b,q.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=g.bind(null,a);h.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(q._enabled){var c=e.getPooled(a,b);try{m.batchedUpdates(f,c)}finally{e.release(c)}}}};b.exports=q},{"./EventListener":204,"./ExecutionEnvironment":209,"./Object.assign":216,"./PooledClass":217,"./ReactInstanceHandles":259,"./ReactMount":264,"./ReactUpdates":287,"./getEventTarget":328,"./getUnboundedScrollPosition":334}],256:[function(a,b,c){"use strict";var d=(a("./ReactElement"),a("./warning"),{create:function(a){return a},extract:function(a){return a},extractIfFragment:function(a){return a}});b.exports=d},{"./ReactElement":250,"./warning":359}],257:[function(a,b,c){"use strict";var d=a("./DOMProperty"),e=a("./EventPluginHub"),f=a("./ReactComponentEnvironment"),g=a("./ReactClass"),h=a("./ReactEmptyComponent"),i=a("./ReactBrowserEventEmitter"),j=a("./ReactNativeComponent"),k=a("./ReactDOMComponent"),l=a("./ReactPerf"),m=a("./ReactRootIndex"),n=a("./ReactUpdates"),o={Component:f.injection,Class:g.injection,DOMComponent:k.injection,DOMProperty:d.injection,EmptyComponent:h.injection,EventPluginHub:e.injection,EventEmitter:i.injection,NativeComponent:j.injection,Perf:l.injection,RootIndex:m.injection,Updates:n.injection};b.exports=o},{"./DOMProperty":198,"./EventPluginHub":205,"./ReactBrowserEventEmitter":220,"./ReactClass":225,"./ReactComponentEnvironment":228,"./ReactDOMComponent":235,"./ReactEmptyComponent":252,"./ReactNativeComponent":267,"./ReactPerf":269,"./ReactRootIndex":278,"./ReactUpdates":287}],258:[function(a,b,c){"use strict";function d(a){return f(document.documentElement,a)}var e=a("./ReactDOMSelection"),f=a("./containsNode"),g=a("./focusNode"),h=a("./getActiveElement"),i={hasSelectionCapabilities:function(a){return a&&("INPUT"===a.nodeName&&"text"===a.type||"TEXTAREA"===a.nodeName||"true"===a.contentEditable)},getSelectionInformation:function(){var a=h();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){var b=h(),c=a.focusedElem,e=a.selectionRange;b!==c&&d(c)&&(i.hasSelectionCapabilities(c)&&i.setSelection(c,e),g(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&"INPUT"===a.nodeName){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=e.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;if("undefined"==typeof d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else if(document.selection&&"INPUT"===a.nodeName){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",d-c),f.select()}else e.setOffsets(a,b)}};b.exports=i},{"./ReactDOMSelection":243,"./containsNode":311,"./focusNode":322,"./getActiveElement":324}],259:[function(a,b,c){"use strict";function d(a){return n+a.toString(36)}function e(a,b){return a.charAt(b)===n||b===a.length}function f(a){return""===a||a.charAt(0)===n&&a.charAt(a.length-1)!==n}function g(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function h(a){return a?a.substr(0,a.lastIndexOf(n)):""}function i(a,b){if(m(f(a)&&f(b)),m(g(a,b)),a===b)return a;var c,d=a.length+o;for(c=d;c<b.length&&!e(b,c);c++);return b.substr(0,c)}function j(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var d=0,g=0;c>=g;g++)if(e(a,g)&&e(b,g))d=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,d);return m(f(h)),h}function k(a,b,c,d,e,f){a=a||"",b=b||"",m(a!==b);var j=g(b,a);m(j||g(a,b));for(var k=0,l=j?h:i,n=a;;n=l(n,b)){var o;if(e&&n===a||f&&n===b||(o=c(n,j,d)),o===!1||n===b)break;m(k++<p)}}var l=a("./ReactRootIndex"),m=a("./invariant"),n=".",o=n.length,p=100,q={createReactRootID:function(){return d(l.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===n&&a.length>1){var b=a.indexOf(n,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=j(a,b);f!==a&&k(a,f,c,d,!1,!0),f!==b&&k(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(k("",a,b,c,!0,!1),k(a,"",b,c,!1,!0))},traverseAncestors:function(a,b,c){k("",a,b,c,!0,!1)},_getFirstCommonAncestorID:j,_getNextDescendantID:i,isAncestorIDOf:g,SEPARATOR:n};b.exports=q},{"./ReactRootIndex":278,"./invariant":338}],260:[function(a,b,c){"use strict";var d={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};b.exports=d},{}],261:[function(a,b,c){"use strict";var d={currentlyMountingInstance:null,currentlyUnmountingInstance:null};b.exports=d},{}],262:[function(a,b,c){"use strict";function d(a,b){this.value=a,this.requestChange=b}function e(a){var b={value:"undefined"==typeof a?f.PropTypes.any.isRequired:a.isRequired,requestChange:f.PropTypes.func.isRequired};return f.PropTypes.shape(b)}var f=a("./React");d.PropTypes={link:e},b.exports=d},{"./React":218}],263:[function(a,b,c){"use strict";var d=a("./adler32"),e={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=d(a);return a.replace(">"," "+e.CHECKSUM_ATTR_NAME+'="'+b+'">')},canReuseMarkup:function(a,b){var c=b.getAttribute(e.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var f=d(a);return f===c}};b.exports=e},{"./adler32":307}],264:[function(a,b,c){"use strict";function d(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function e(a){var b=D(a);return b&&R.getID(b)}function f(a){var b=g(a);if(b)if(K.hasOwnProperty(b)){var c=K[b];c!==a&&(F(!k(c,b)),K[b]=a)}else K[b]=a;return b}function g(a){return a&&a.getAttribute&&a.getAttribute(J)||""}function h(a,b){var c=g(a);c!==b&&delete K[c],a.setAttribute(J,b),K[b]=a}function i(a){return K.hasOwnProperty(a)&&k(K[a],a)||(K[a]=R.findReactNodeByID(a)),K[a]}function j(a){var b=v.get(a)._rootNodeID;return t.isNullComponentID(b)?null:(K.hasOwnProperty(b)&&k(K[b],b)||(K[b]=R.findReactNodeByID(b)),K[b])}function k(a,b){if(a){F(g(a)===b);var c=R.findReactContainerForID(b);if(c&&C(c,a))return!0}return!1}function l(a){delete K[a]}function m(a){var b=K[a];return b&&k(b,a)?void(Q=b):!1}function n(a){Q=null,u.traverseAncestors(a,m);var b=Q;return Q=null,b}function o(a,b,c,d,e){var f=y.mountComponent(a,b,d,B);a._isTopLevel=!0,R._mountImageIntoNode(f,c,e)}function p(a,b,c,d){var e=A.ReactReconcileTransaction.getPooled();e.perform(o,null,a,b,c,e,d),A.ReactReconcileTransaction.release(e)}var q=a("./DOMProperty"),r=a("./ReactBrowserEventEmitter"),s=(a("./ReactCurrentOwner"),a("./ReactElement")),t=(a("./ReactElementValidator"),a("./ReactEmptyComponent")),u=a("./ReactInstanceHandles"),v=a("./ReactInstanceMap"),w=a("./ReactMarkupChecksum"),x=a("./ReactPerf"),y=a("./ReactReconciler"),z=a("./ReactUpdateQueue"),A=a("./ReactUpdates"),B=a("./emptyObject"),C=a("./containsNode"),D=a("./getReactRootElementInContainer"),E=a("./instantiateReactComponent"),F=a("./invariant"),G=a("./setInnerHTML"),H=a("./shouldUpdateReactComponent"),I=(a("./warning"),u.SEPARATOR),J=q.ID_ATTRIBUTE_NAME,K={},L=1,M=9,N={},O={},P=[],Q=null,R={_instancesByReactRootID:N,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return R.scrollMonitor(c,function(){
z.enqueueElementInternal(a,b),d&&z.enqueueCallbackInternal(a,d)}),a},_registerComponent:function(a,b){F(b&&(b.nodeType===L||b.nodeType===M)),r.ensureScrollValueMonitoring();var c=R.registerContainer(b);return N[c]=a,c},_renderNewRootComponent:function(a,b,c){var d=E(a,null),e=R._registerComponent(d,b);return A.batchedUpdates(p,d,e,b,c),d},render:function(a,b,c){F(s.isValidElement(a));var d=N[e(b)];if(d){var f=d._currentElement;if(H(f,a))return R._updateRootComponent(d,a,b,c).getPublicInstance();R.unmountComponentAtNode(b)}var g=D(b),h=g&&R.isRenderedByReact(g),i=h&&!d,j=R._renderNewRootComponent(a,b,i).getPublicInstance();return c&&c.call(j),j},constructAndRenderComponent:function(a,b,c){var d=s.createElement(a,b);return R.render(d,c)},constructAndRenderComponentByID:function(a,b,c){var d=document.getElementById(c);return F(d),R.constructAndRenderComponent(a,b,d)},registerContainer:function(a){var b=e(a);return b&&(b=u.getReactRootIDFromNodeID(b)),b||(b=u.createReactRootID()),O[b]=a,b},unmountComponentAtNode:function(a){F(a&&(a.nodeType===L||a.nodeType===M));var b=e(a),c=N[b];return c?(R.unmountComponentFromNode(c,a),delete N[b],delete O[b],!0):!1},unmountComponentFromNode:function(a,b){for(y.unmountComponent(a),b.nodeType===M&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)},findReactContainerForID:function(a){var b=u.getReactRootIDFromNodeID(a),c=O[b];return c},findReactNodeByID:function(a){var b=R.findReactContainerForID(a);return R.findComponentRoot(b,a)},isRenderedByReact:function(a){if(1!==a.nodeType)return!1;var b=R.getID(a);return b?b.charAt(0)===I:!1},getFirstReactDOM:function(a){for(var b=a;b&&b.parentNode!==b;){if(R.isRenderedByReact(b))return b;b=b.parentNode}return null},findComponentRoot:function(a,b){var c=P,d=0,e=n(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=R.getID(g);h?b===h?f=g:u.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,F(!1)},_mountImageIntoNode:function(a,b,c){if(F(b&&(b.nodeType===L||b.nodeType===M)),c){var e=D(b);if(w.canReuseMarkup(a,e))return;var f=e.getAttribute(w.CHECKSUM_ATTR_NAME);e.removeAttribute(w.CHECKSUM_ATTR_NAME);var g=e.outerHTML;e.setAttribute(w.CHECKSUM_ATTR_NAME,f);var h=d(a,g);" (client) "+a.substring(h-20,h+20)+"\n (server) "+g.substring(h-20,h+20);F(b.nodeType!==M)}F(b.nodeType!==M),G(b,a)},getReactRootID:e,getID:f,setID:h,getNode:i,getNodeFromInstance:j,purgeID:l};x.measureMethods(R,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),b.exports=R},{"./DOMProperty":198,"./ReactBrowserEventEmitter":220,"./ReactCurrentOwner":232,"./ReactElement":250,"./ReactElementValidator":251,"./ReactEmptyComponent":252,"./ReactInstanceHandles":259,"./ReactInstanceMap":260,"./ReactMarkupChecksum":263,"./ReactPerf":269,"./ReactReconciler":276,"./ReactUpdateQueue":286,"./ReactUpdates":287,"./containsNode":311,"./emptyObject":318,"./getReactRootElementInContainer":332,"./instantiateReactComponent":337,"./invariant":338,"./setInnerHTML":352,"./shouldUpdateReactComponent":355,"./warning":359}],265:[function(a,b,c){"use strict";function d(a,b,c){o.push({parentID:a,parentNode:null,type:k.INSERT_MARKUP,markupIndex:p.push(b)-1,textContent:null,fromIndex:null,toIndex:c})}function e(a,b,c){o.push({parentID:a,parentNode:null,type:k.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:b,toIndex:c})}function f(a,b){o.push({parentID:a,parentNode:null,type:k.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:b,toIndex:null})}function g(a,b){o.push({parentID:a,parentNode:null,type:k.TEXT_CONTENT,markupIndex:null,textContent:b,fromIndex:null,toIndex:null})}function h(){o.length&&(j.processChildrenUpdates(o,p),i())}function i(){o.length=0,p.length=0}var j=a("./ReactComponentEnvironment"),k=a("./ReactMultiChildUpdateTypes"),l=a("./ReactReconciler"),m=a("./ReactChildReconciler"),n=0,o=[],p=[],q={Mixin:{mountChildren:function(a,b,c){var d=m.instantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=l.mountComponent(h,i,b,c);h._mountIndex=f,e.push(j),f++}return e},updateTextContent:function(a){n++;var b=!0;try{var c=this._renderedChildren;m.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setTextContent(a),b=!1}finally{n--,n||(b?i():h())}},updateChildren:function(a,b,c){n++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{n--,n||(d?i():h())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=m.updateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChildByName(i,f)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChildByName(d[f],f)}},unmountChildren:function(){var a=this._renderedChildren;m.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){d(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){f(this._rootNodeID,a._mountIndex)},setTextContent:function(a){g(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=l.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChildByName:function(a,b){this.removeChild(a),a._mountIndex=null}}};b.exports=q},{"./ReactChildReconciler":223,"./ReactComponentEnvironment":228,"./ReactMultiChildUpdateTypes":266,"./ReactReconciler":276}],266:[function(a,b,c){"use strict";var d=a("./keyMirror"),e=d({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});b.exports=e},{"./keyMirror":344}],267:[function(a,b,c){"use strict";function d(a){if("function"==typeof a.type)return a.type;var b=a.type,c=l[b];return null==c&&(l[b]=c=j(b)),c}function e(a){return i(k),new k(a.type,a.props)}function f(a){return new m(a)}function g(a){return a instanceof m}var h=a("./Object.assign"),i=a("./invariant"),j=null,k=null,l={},m=null,n={injectGenericComponentClass:function(a){k=a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){h(l,a)},injectAutoWrapper:function(a){j=a}},o={getComponentClassForElement:d,createInternalComponent:e,createInstanceForText:f,isTextComponent:g,injection:n};b.exports=o},{"./Object.assign":216,"./invariant":338}],268:[function(a,b,c){"use strict";var d=a("./invariant"),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){d(e.isValidOwner(c)),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){d(e.isValidOwner(c)),c.getPublicInstance().refs[b]===a.getPublicInstance()&&c.detachRef(b)}};b.exports=e},{"./invariant":338}],269:[function(a,b,c){"use strict";function d(a,b,c){return c}var e={enableMeasure:!1,storedMeasure:d,measureMethods:function(a,b,c){},measure:function(a,b,c){return c},injection:{injectMeasure:function(a){e.storedMeasure=a}}};b.exports=e},{}],270:[function(a,b,c){"use strict";function d(a){return function(b,c,d){b.hasOwnProperty(c)?b[c]=a(b[c],d):b[c]=d}}function e(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=j[c];d&&j.hasOwnProperty(c)?d(a,c,b[c]):a.hasOwnProperty(c)||(a[c]=b[c])}return a}var f=a("./Object.assign"),g=a("./emptyFunction"),h=a("./joinClasses"),i=d(function(a,b){return f({},b,a)}),j={children:g,className:d(h),style:i},k={mergeProps:function(a,b){return e(f({},a),b)}};b.exports=k},{"./Object.assign":216,"./emptyFunction":317,"./joinClasses":343}],271:[function(a,b,c){"use strict";var d={};b.exports=d},{}],272:[function(a,b,c){"use strict";var d=a("./keyMirror"),e=d({prop:null,context:null,childContext:null});b.exports=e},{"./keyMirror":344}],273:[function(a,b,c){"use strict";function d(a){function b(b,c,d,e,f){if(e=e||v,null==c[d]){var g=t[f];return b?new Error("Required "+g+" `"+d+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function e(a){function b(b,c,d,e){var f=b[c],g=p(f);if(g!==a){var h=t[e],i=q(f);return new Error("Invalid "+h+" `"+c+"` of type `"+i+"` "+("supplied to `"+d+"`, expected `"+a+"`."))}return null}return d(b)}function f(){return d(u.thatReturns(null))}function g(a){function b(b,c,d,e){var f=b[c];if(!Array.isArray(f)){var g=t[e],h=p(f);return new Error("Invalid "+g+" `"+c+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an array."))}for(var i=0;i<f.length;i++){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return d(b)}function h(){function a(a,b,c,d){if(!r.isValidElement(a[b])){var e=t[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactElement."))}return null}return d(a)}function i(a){function b(b,c,d,e){if(!(b[c]instanceof a)){var f=t[e],g=a.name||v;return new Error("Invalid "+f+" `"+c+"` supplied to "+("`"+d+"`, expected instance of `"+g+"`."))}return null}return d(b)}function j(a){function b(b,c,d,e){for(var f=b[c],g=0;g<a.length;g++)if(f===a[g])return null;var h=t[e],i=JSON.stringify(a);return new Error("Invalid "+h+" `"+c+"` of value `"+f+"` "+("supplied to `"+d+"`, expected one of "+i+"."))}return d(b)}function k(a){function b(b,c,d,e){var f=b[c],g=p(f);if("object"!==g){var h=t[e];return new Error("Invalid "+h+" `"+c+"` of type "+("`"+g+"` supplied to `"+d+"`, expected an object."))}for(var i in f)if(f.hasOwnProperty(i)){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return d(b)}function l(a){function b(b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f];if(null==g(b,c,d,e))return null}var h=t[e];return new Error("Invalid "+h+" `"+c+"` supplied to "+("`"+d+"`."))}return d(b)}function m(){function a(a,b,c,d){if(!o(a[b])){var e=t[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return d(a)}function n(a){function b(b,c,d,e){var f=b[c],g=p(f);if("object"!==g){var h=t[e];return new Error("Invalid "+h+" `"+c+"` of type `"+g+"` "+("supplied to `"+d+"`, expected `object`."))}for(var i in a){var j=a[i];if(j){var k=j(f,i,d,e);if(k)return k}}return null}return d(b)}function o(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(o);if(null===a||r.isValidElement(a))return!0;a=s.extractIfFragment(a);for(var b in a)if(!o(a[b]))return!1;return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function q(a){var b=p(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}var r=a("./ReactElement"),s=a("./ReactFragment"),t=a("./ReactPropTypeLocationNames"),u=a("./emptyFunction"),v="<<anonymous>>",w=h(),x=m(),y={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:f(),arrayOf:g,element:w,instanceOf:i,node:x,objectOf:k,oneOf:j,oneOfType:l,shape:n};b.exports=y},{"./ReactElement":250,"./ReactFragment":256,"./ReactPropTypeLocationNames":271,"./emptyFunction":317}],274:[function(a,b,c){"use strict";function d(){this.listenersToPut=[]}var e=a("./PooledClass"),f=a("./ReactBrowserEventEmitter"),g=a("./Object.assign");g(d.prototype,{enqueuePutListener:function(a,b,c){this.listenersToPut.push({rootNodeID:a,propKey:b,propValue:c})},putListeners:function(){for(var a=0;a<this.listenersToPut.length;a++){var b=this.listenersToPut[a];f.putListener(b.rootNodeID,b.propKey,b.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{"./Object.assign":216,"./PooledClass":217,"./ReactBrowserEventEmitter":220}],275:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.putListenerQueue=i.getPooled()}var e=a("./CallbackQueue"),f=a("./PooledClass"),g=a("./ReactBrowserEventEmitter"),h=a("./ReactInputSelection"),i=a("./ReactPutListenerQueue"),j=a("./Transaction"),k=a("./Object.assign"),l={initialize:h.getSelectionInformation,close:h.restoreSelection},m={initialize:function(){var a=g.isEnabled();return g.setEnabled(!1),a},close:function(a){g.setEnabled(a)}},n={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},o={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},p=[o,l,m,n],q={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null,i.release(this.putListenerQueue),this.putListenerQueue=null}};k(d.prototype,j.Mixin,q),f.addPoolingTo(d),b.exports=d},{"./CallbackQueue":194,"./Object.assign":216,"./PooledClass":217,"./ReactBrowserEventEmitter":220,"./ReactInputSelection":258,"./ReactPutListenerQueue":274,"./Transaction":304}],276:[function(a,b,c){"use strict";function d(){e.attachRefs(this,this._currentElement)}var e=a("./ReactRef"),f=(a("./ReactElementValidator"),{mountComponent:function(a,b,c,e){var f=a.mountComponent(b,c,e);return c.getReactMountReady().enqueue(d,a),f},unmountComponent:function(a){e.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,c,f){var g=a._currentElement;if(b!==g||null==b._owner){var h=e.shouldUpdateRefs(g,b);h&&e.detachRefs(a,g),a.receiveComponent(b,c,f),h&&c.getReactMountReady().enqueue(d,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}});b.exports=f},{"./ReactElementValidator":251,"./ReactRef":277}],277:[function(a,b,c){"use strict";function d(a,b,c){"function"==typeof a?a(b.getPublicInstance()):f.addComponentAsRefTo(b,a,c)}function e(a,b,c){"function"==typeof a?a(null):f.removeComponentAsRefFrom(b,a,c)}var f=a("./ReactOwner"),g={};g.attachRefs=function(a,b){var c=b.ref;null!=c&&d(c,a,b._owner)},g.shouldUpdateRefs=function(a,b){return b._owner!==a._owner||b.ref!==a.ref},g.detachRefs=function(a,b){var c=b.ref;null!=c&&e(c,a,b._owner)},b.exports=g},{"./ReactOwner":268}],278:[function(a,b,c){"use strict";var d={injectCreateReactRootIndex:function(a){e.createReactRootIndex=a}},e={createReactRootIndex:null,injection:d};b.exports=e},{}],279:[function(a,b,c){"use strict";function d(a){l(f.isValidElement(a));var b;try{var c=g.createReactRootID();return b=i.getPooled(!1),b.perform(function(){var d=k(a,null),e=d.mountComponent(c,b,j);return h.addChecksumToMarkup(e)},null)}finally{i.release(b)}}function e(a){l(f.isValidElement(a));var b;try{var c=g.createReactRootID();return b=i.getPooled(!0),b.perform(function(){var d=k(a,null);return d.mountComponent(c,b,j)},null)}finally{i.release(b)}}var f=a("./ReactElement"),g=a("./ReactInstanceHandles"),h=a("./ReactMarkupChecksum"),i=a("./ReactServerRenderingTransaction"),j=a("./emptyObject"),k=a("./instantiateReactComponent"),l=a("./invariant");b.exports={renderToString:d,renderToStaticMarkup:e}},{"./ReactElement":250,"./ReactInstanceHandles":259,"./ReactMarkupChecksum":263,"./ReactServerRenderingTransaction":280,"./emptyObject":318,"./instantiateReactComponent":337,"./invariant":338}],280:[function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=f.getPooled(null),this.putListenerQueue=g.getPooled()}var e=a("./PooledClass"),f=a("./CallbackQueue"),g=a("./ReactPutListenerQueue"),h=a("./Transaction"),i=a("./Object.assign"),j=a("./emptyFunction"),k={initialize:function(){this.reactMountReady.reset()},close:j},l={initialize:function(){this.putListenerQueue.reset()},close:j},m=[l,k],n={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){f.release(this.reactMountReady),this.reactMountReady=null,g.release(this.putListenerQueue),this.putListenerQueue=null}};i(d.prototype,h.Mixin,n),e.addPoolingTo(d),b.exports=d},{"./CallbackQueue":194,"./Object.assign":216,"./PooledClass":217,"./ReactPutListenerQueue":274,"./Transaction":304,"./emptyFunction":317}],281:[function(a,b,c){"use strict";function d(a,b){var c={};return function(d){c[b]=d,a.setState(c)}}var e={createStateSetter:function(a,b){return function(c,d,e,f,g,h){var i=b.call(a,c,d,e,f,g,h);i&&a.setState(i)}},createStateKeySetter:function(a,b){var c=a.__keySetters||(a.__keySetters={});return c[b]||(c[b]=d(a,b))}};e.Mixin={createStateSetter:function(a){return e.createStateSetter(this,a)},createStateKeySetter:function(a){return e.createStateKeySetter(this,a)}},b.exports=e},{}],282:[function(a,b,c){"use strict";function d(a){}function e(a){return function(b,c){var e;w.isDOMComponent(b)?e=b.getDOMNode():b.tagName&&(e=b);var f=new d;f.target=e;var g=new t(n.eventNameDispatchConfigs[a],r.getID(e),f);u(g,c),j.accumulateTwoPhaseDispatches(g),s.batchedUpdates(function(){i.enqueueEvents(g),i.processEventQueue()})}}function f(){w.Simulate={};var a;for(a in n.eventNameDispatchConfigs)w.Simulate[a]=e(a)}function g(a){return function(b,c){var e=new d(a);u(e,c),w.isDOMComponent(b)?w.simulateNativeEventOnDOMComponent(a,b,e):b.tagName&&w.simulateNativeEventOnNode(a,b,e)}}var h=a("./EventConstants"),i=a("./EventPluginHub"),j=a("./EventPropagators"),k=a("./React"),l=a("./ReactElement"),m=a("./ReactEmptyComponent"),n=a("./ReactBrowserEventEmitter"),o=a("./ReactCompositeComponent"),p=a("./ReactInstanceHandles"),q=a("./ReactInstanceMap"),r=a("./ReactMount"),s=a("./ReactUpdates"),t=a("./SyntheticEvent"),u=a("./Object.assign"),v=h.topLevelTypes,w={renderIntoDocument:function(a){var b=document.createElement("div");return k.render(a,b)},isElement:function(a){return l.isValidElement(a)},isElementOfType:function(a,b){return l.isValidElement(a)&&a.type===b},isDOMComponent:function(a){return!!(a&&a.tagName&&a.getDOMNode)},isDOMComponentElement:function(a){return!!(a&&l.isValidElement(a)&&a.tagName)},isCompositeComponent:function(a){return"function"==typeof a.render&&"function"==typeof a.setState},isCompositeComponentWithType:function(a,b){return!(!w.isCompositeComponent(a)||a.constructor!==b)},isCompositeComponentElement:function(a){if(!l.isValidElement(a))return!1;var b=a.type.prototype;return"function"==typeof b.render&&"function"==typeof b.setState},isCompositeComponentElementWithType:function(a,b){return!(!w.isCompositeComponentElement(a)||a.constructor!==b)},getRenderedChildOfCompositeComponent:function(a){if(!w.isCompositeComponent(a))return null;var b=q.get(a);return b._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(a,b){if(!a)return[];var c=b(a)?[a]:[];if(w.isDOMComponent(a)){var d,e=q.get(a),f=e._renderedComponent._renderedChildren;for(d in f)f.hasOwnProperty(d)&&f[d].getPublicInstance&&(c=c.concat(w.findAllInRenderedTree(f[d].getPublicInstance(),b)))}else w.isCompositeComponent(a)&&(c=c.concat(w.findAllInRenderedTree(w.getRenderedChildOfCompositeComponent(a),b)));return c},scryRenderedDOMComponentsWithClass:function(a,b){return w.findAllInRenderedTree(a,function(a){var c=a.props.className;return w.isDOMComponent(a)&&c&&-1!==(" "+c+" ").indexOf(" "+b+" ")})},findRenderedDOMComponentWithClass:function(a,b){var c=w.scryRenderedDOMComponentsWithClass(a,b);if(1!==c.length)throw new Error("Did not find exactly one match (found: "+c.length+") for class:"+b);return c[0]},scryRenderedDOMComponentsWithTag:function(a,b){return w.findAllInRenderedTree(a,function(a){return w.isDOMComponent(a)&&a.tagName===b.toUpperCase()})},findRenderedDOMComponentWithTag:function(a,b){var c=w.scryRenderedDOMComponentsWithTag(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for tag:"+b);return c[0]},scryRenderedComponentsWithType:function(a,b){return w.findAllInRenderedTree(a,function(a){return w.isCompositeComponentWithType(a,b)})},findRenderedComponentWithType:function(a,b){var c=w.scryRenderedComponentsWithType(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for componentType:"+b);return c[0]},mockComponent:function(a,b){return b=b||a.mockTagName||"div",a.prototype.render.mockImplementation(function(){return k.createElement(b,null,this.props.children)}),this},simulateNativeEventOnNode:function(a,b,c){c.target=b,n.ReactEventListener.dispatchEvent(a,c)},simulateNativeEventOnDOMComponent:function(a,b,c){w.simulateNativeEventOnNode(a,b.getDOMNode(),c)},nativeTouchData:function(a,b){return{touches:[{pageX:a,pageY:b}]}},createRenderer:function(){return new x},Simulate:null,SimulateNative:{}},x=function(){this._instance=null};x.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var y=function(a){this._renderedOutput=a,this._currentElement=null===a||a===!1?m.emptyElement:a};y.prototype={mountComponent:function(){},receiveComponent:function(a){this._renderedOutput=a,this._currentElement=null===a||a===!1?m.emptyElement:a},unmountComponent:function(){}};var z=function(){};u(z.prototype,o.Mixin,{_instantiateReactComponent:function(a){return new y(a)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:o.Mixin._renderValidatedComponentWithoutOwnerOrContext}),x.prototype.render=function(a,b){var c=s.ReactReconcileTransaction.getPooled();this._render(a,c,b),s.ReactReconcileTransaction.release(c)},x.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},x.prototype._render=function(a,b,c){if(this._instance)this._instance.receiveComponent(a,b,c);else{var d=p.createReactRootID(),e=new z(a.type);e.construct(a),e.mountComponent(d,b,c),this._instance=e}};var A=i.injection.injectEventPluginOrder;i.injection.injectEventPluginOrder=function(){A.apply(this,arguments),f()};var B=i.injection.injectEventPluginsByName;i.injection.injectEventPluginsByName=function(){B.apply(this,arguments),f()},f();var C;for(C in v){var D=0===C.indexOf("top")?C.charAt(3).toLowerCase()+C.substr(4):C;w.SimulateNative[D]=g(C)}b.exports=w},{"./EventConstants":203,"./EventPluginHub":205,"./EventPropagators":208,"./Object.assign":216,"./React":218,"./ReactBrowserEventEmitter":220,"./ReactCompositeComponent":230,"./ReactElement":250,"./ReactEmptyComponent":252,"./ReactInstanceHandles":259,"./ReactInstanceMap":260,"./ReactMount":264,"./ReactUpdates":287,"./SyntheticEvent":296}],283:[function(a,b,c){"use strict";var d=a("./ReactChildren"),e=a("./ReactFragment"),f={getChildMapping:function(a){return a?e.extract(d.map(a,function(a){return a})):a},mergeChildMappings:function(a,b){function c(c){return b.hasOwnProperty(c)?b[c]:a[c]}a=a||{},b=b||{};var d={},e=[];for(var f in a)b.hasOwnProperty(f)?e.length&&(d[f]=e,e=[]):e.push(f);var g,h={};for(var i in b){if(d.hasOwnProperty(i))for(g=0;g<d[i].length;g++){var j=d[i][g];h[d[i][g]]=c(j)}h[i]=c(i)}for(g=0;g<e.length;g++)h[e[g]]=c(e[g]);return h}};b.exports=f},{"./ReactChildren":224,"./ReactFragment":256}],284:[function(a,b,c){"use strict";function d(){var a=document.createElement("div"),b=a.style;"AnimationEvent"in window||delete h.animationend.animation,"TransitionEvent"in window||delete h.transitionend.transition;for(var c in h){var d=h[c];for(var e in d)if(e in b){i.push(d[e]);break}}}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}var g=a("./ExecutionEnvironment"),h={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[];g.canUseDOM&&d();var j={addEndEventListener:function(a,b){return 0===i.length?void window.setTimeout(b,0):void i.forEach(function(c){e(a,c,b)})},removeEndEventListener:function(a,b){0!==i.length&&i.forEach(function(c){f(a,c,b)})}};b.exports=j},{"./ExecutionEnvironment":209}],285:[function(a,b,c){"use strict";var d=a("./React"),e=a("./ReactTransitionChildMapping"),f=a("./Object.assign"),g=a("./cloneWithProps"),h=a("./emptyFunction"),i=d.createClass({displayName:"ReactTransitionGroup",propTypes:{component:d.PropTypes.any,childFactory:d.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:h.thatReturnsArgument}},getInitialState:function(){return{children:e.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var a=this.state.children;for(var b in a)a[b]&&this.performAppear(b)},componentWillReceiveProps:function(a){var b=e.getChildMapping(a.children),c=this.state.children;this.setState({children:e.mergeChildMappings(c,b)});var d;for(d in b){var f=c&&c.hasOwnProperty(d);!b[d]||f||this.currentlyTransitioningKeys[d]||this.keysToEnter.push(d)}for(d in c){var g=b&&b.hasOwnProperty(d);!c[d]||g||this.currentlyTransitioningKeys[d]||this.keysToLeave.push(d)}},componentDidUpdate:function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var b=this.keysToLeave;this.keysToLeave=[],b.forEach(this.performLeave)},performAppear:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillAppear?b.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},_handleDoneAppearing:function(a){var b=this.refs[a];b.componentDidAppear&&b.componentDidAppear(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performEnter:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillEnter?b.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},_handleDoneEntering:function(a){var b=this.refs[a];b.componentDidEnter&&b.componentDidEnter(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performLeave:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillLeave?b.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)},_handleDoneLeaving:function(a){var b=this.refs[a];b.componentDidLeave&&b.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);if(c&&c.hasOwnProperty(a))this.performEnter(a);else{var d=f({},this.state.children);delete d[a],this.setState({children:d})}},render:function(){var a=[];for(var b in this.state.children){var c=this.state.children[b];c&&a.push(g(this.props.childFactory(c),{ref:b,key:b}))}return d.createElement(this.props.component,this.props,a)}});b.exports=i},{"./Object.assign":216,"./React":218,"./ReactTransitionChildMapping":283,"./cloneWithProps":310,"./emptyFunction":317}],286:[function(a,b,c){"use strict";function d(a){a!==f.currentlyMountingInstance&&j.enqueueUpdate(a)}function e(a,b){l(null==g.current);var c=i.get(a);return c?c===f.currentlyUnmountingInstance?null:c:null}var f=a("./ReactLifeCycle"),g=a("./ReactCurrentOwner"),h=a("./ReactElement"),i=a("./ReactInstanceMap"),j=a("./ReactUpdates"),k=a("./Object.assign"),l=a("./invariant"),m=(a("./warning"),{enqueueCallback:function(a,b){l("function"==typeof b);var c=e(a);return c&&c!==f.currentlyMountingInstance?(c._pendingCallbacks?c._pendingCallbacks.push(b):c._pendingCallbacks=[b],void d(c)):null},enqueueCallbackInternal:function(a,b){l("function"==typeof b),a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],d(a)},enqueueForceUpdate:function(a){var b=e(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,d(b))},enqueueReplaceState:function(a,b){var c=e(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,d(c))},enqueueSetState:function(a,b){var c=e(a,"setState");if(c){var f=c._pendingStateQueue||(c._pendingStateQueue=[]);f.push(b),d(c)}},enqueueSetProps:function(a,b){var c=e(a,"setProps");if(c){l(c._isTopLevel);var f=c._pendingElement||c._currentElement,g=k({},f.props,b);c._pendingElement=h.cloneAndReplaceProps(f,g),d(c)}},enqueueReplaceProps:function(a,b){var c=e(a,"replaceProps");if(c){l(c._isTopLevel);var f=c._pendingElement||c._currentElement;c._pendingElement=h.cloneAndReplaceProps(f,b),d(c)}},enqueueElementInternal:function(a,b){a._pendingElement=b,d(a)}});b.exports=m},{"./Object.assign":216,"./ReactCurrentOwner":232,"./ReactElement":250,"./ReactInstanceMap":260,"./ReactLifeCycle":261,"./ReactUpdates":287,"./invariant":338,"./warning":359}],287:[function(a,b,c){"use strict";function d(){q(A.ReactReconcileTransaction&&u)}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=k.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled()}function f(a,b,c,e,f){d(),u.batchedUpdates(a,b,c,e,f)}function g(a,b){return a._mountOrder-b._mountOrder}function h(a){var b=a.dirtyComponentsLength;q(b===r.length),r.sort(g);for(var c=0;b>c;c++){var d=r[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,n.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var f=0;f<e.length;f++)a.callbackQueue.enqueue(e[f],d.getPublicInstance())}}function i(a){return d(),u.isBatchingUpdates?void r.push(a):void u.batchedUpdates(i,a)}function j(a,b){q(u.isBatchingUpdates),s.enqueue(a,b),t=!0}var k=a("./CallbackQueue"),l=a("./PooledClass"),m=(a("./ReactCurrentOwner"),a("./ReactPerf")),n=a("./ReactReconciler"),o=a("./Transaction"),p=a("./Object.assign"),q=a("./invariant"),r=(a("./warning"),[]),s=k.getPooled(),t=!1,u=null,v={initialize:function(){this.dirtyComponentsLength=r.length},close:function(){this.dirtyComponentsLength!==r.length?(r.splice(0,this.dirtyComponentsLength),y()):r.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[v,w];p(e.prototype,o.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,k.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return o.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),l.addPoolingTo(e);var y=function(){for(;r.length||t;){if(r.length){var a=e.getPooled();a.perform(h,null,a),e.release(a)}if(t){t=!1;var b=s;s=k.getPooled(),b.notifyAll(),k.release(b)}}};y=m.measure("ReactUpdates","flushBatchedUpdates",y);var z={injectReconcileTransaction:function(a){q(a),A.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){q(a),q("function"==typeof a.batchedUpdates),q("boolean"==typeof a.isBatchingUpdates),u=a}},A={ReactReconcileTransaction:null,batchedUpdates:f,enqueueUpdate:i,flushBatchedUpdates:y,injection:z,asap:j};b.exports=A},{"./CallbackQueue":194,"./Object.assign":216,"./PooledClass":217,"./ReactCurrentOwner":232,"./ReactPerf":269,"./ReactReconciler":276,"./Transaction":304,"./invariant":338,"./warning":359}],288:[function(a,b,c){"use strict";var d=a("./LinkedStateMixin"),e=a("./React"),f=a("./ReactComponentWithPureRenderMixin"),g=a("./ReactCSSTransitionGroup"),h=a("./ReactFragment"),i=a("./ReactTransitionGroup"),j=a("./ReactUpdates"),k=a("./cx"),l=a("./cloneWithProps"),m=a("./update");e.addons={CSSTransitionGroup:g,LinkedStateMixin:d,PureRenderMixin:f,TransitionGroup:i,batchedUpdates:j.batchedUpdates,classSet:k,cloneWithProps:l,createFragment:h.create,update:m},b.exports=e},{"./LinkedStateMixin":212,"./React":218,"./ReactCSSTransitionGroup":221,"./ReactComponentWithPureRenderMixin":229,"./ReactDefaultPerf":248,"./ReactFragment":256,"./ReactTestUtils":282,"./ReactTransitionGroup":285,"./ReactUpdates":287,"./cloneWithProps":310,
"./cx":315,"./update":358}],289:[function(a,b,c){"use strict";var d=a("./DOMProperty"),e=d.injection.MUST_USE_ATTRIBUTE,f={Properties:{cx:e,cy:e,d:e,dx:e,dy:e,fill:e,fillOpacity:e,fontFamily:e,fontSize:e,fx:e,fy:e,gradientTransform:e,gradientUnits:e,markerEnd:e,markerMid:e,markerStart:e,offset:e,opacity:e,patternContentUnits:e,patternUnits:e,points:e,preserveAspectRatio:e,r:e,rx:e,ry:e,spreadMethod:e,stopColor:e,stopOpacity:e,stroke:e,strokeDasharray:e,strokeLinecap:e,strokeOpacity:e,strokeWidth:e,textAnchor:e,transform:e,version:e,viewBox:e,x1:e,x2:e,x:e,y1:e,y2:e,y:e},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};b.exports=f},{"./DOMProperty":198}],290:[function(a,b,c){"use strict";function d(a){if("selectionStart"in a&&h.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function e(a){if(s||null==p||p!==j())return null;var b=d(p);if(!r||!m(r,b)){r=b;var c=i.getPooled(o.select,q,a);return c.type="select",c.target=p,g.accumulateTwoPhaseDispatches(c),c}}var f=a("./EventConstants"),g=a("./EventPropagators"),h=a("./ReactInputSelection"),i=a("./SyntheticEvent"),j=a("./getActiveElement"),k=a("./isTextInputElement"),l=a("./keyOf"),m=a("./shallowEqual"),n=f.topLevelTypes,o={select:{phasedRegistrationNames:{bubbled:l({onSelect:null}),captured:l({onSelectCapture:null})},dependencies:[n.topBlur,n.topContextMenu,n.topFocus,n.topKeyDown,n.topMouseDown,n.topMouseUp,n.topSelectionChange]}},p=null,q=null,r=null,s=!1,t={eventTypes:o,extractEvents:function(a,b,c,d){switch(a){case n.topFocus:(k(b)||"true"===b.contentEditable)&&(p=b,q=c,r=null);break;case n.topBlur:p=null,q=null,r=null;break;case n.topMouseDown:s=!0;break;case n.topContextMenu:case n.topMouseUp:return s=!1,e(d);case n.topSelectionChange:case n.topKeyDown:case n.topKeyUp:return e(d)}}};b.exports=t},{"./EventConstants":203,"./EventPropagators":208,"./ReactInputSelection":258,"./SyntheticEvent":296,"./getActiveElement":324,"./isTextInputElement":341,"./keyOf":345,"./shallowEqual":354}],291:[function(a,b,c){"use strict";var d=Math.pow(2,53),e={createReactRootIndex:function(){return Math.ceil(Math.random()*d)}};b.exports=e},{}],292:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./EventPluginUtils"),f=a("./EventPropagators"),g=a("./SyntheticClipboardEvent"),h=a("./SyntheticEvent"),i=a("./SyntheticFocusEvent"),j=a("./SyntheticKeyboardEvent"),k=a("./SyntheticMouseEvent"),l=a("./SyntheticDragEvent"),m=a("./SyntheticTouchEvent"),n=a("./SyntheticUIEvent"),o=a("./SyntheticWheelEvent"),p=a("./getEventCharCode"),q=a("./invariant"),r=a("./keyOf"),s=(a("./warning"),d.topLevelTypes),t={blur:{phasedRegistrationNames:{bubbled:r({onBlur:!0}),captured:r({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:r({onClick:!0}),captured:r({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:r({onContextMenu:!0}),captured:r({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:r({onCopy:!0}),captured:r({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:r({onCut:!0}),captured:r({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:r({onDoubleClick:!0}),captured:r({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:r({onDrag:!0}),captured:r({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:r({onDragEnd:!0}),captured:r({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:r({onDragEnter:!0}),captured:r({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:r({onDragExit:!0}),captured:r({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:r({onDragLeave:!0}),captured:r({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:r({onDragOver:!0}),captured:r({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:r({onDragStart:!0}),captured:r({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:r({onDrop:!0}),captured:r({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:r({onFocus:!0}),captured:r({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:r({onInput:!0}),captured:r({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:r({onKeyDown:!0}),captured:r({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:r({onKeyPress:!0}),captured:r({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:r({onKeyUp:!0}),captured:r({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:r({onLoad:!0}),captured:r({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:r({onError:!0}),captured:r({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:r({onMouseDown:!0}),captured:r({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:r({onMouseMove:!0}),captured:r({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:r({onMouseOut:!0}),captured:r({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:r({onMouseOver:!0}),captured:r({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:r({onMouseUp:!0}),captured:r({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:r({onPaste:!0}),captured:r({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:r({onReset:!0}),captured:r({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:r({onScroll:!0}),captured:r({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:r({onSubmit:!0}),captured:r({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:r({onTouchCancel:!0}),captured:r({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:r({onTouchEnd:!0}),captured:r({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:r({onTouchMove:!0}),captured:r({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:r({onTouchStart:!0}),captured:r({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:r({onWheel:!0}),captured:r({onWheelCapture:!0})}}},u={topBlur:t.blur,topClick:t.click,topContextMenu:t.contextMenu,topCopy:t.copy,topCut:t.cut,topDoubleClick:t.doubleClick,topDrag:t.drag,topDragEnd:t.dragEnd,topDragEnter:t.dragEnter,topDragExit:t.dragExit,topDragLeave:t.dragLeave,topDragOver:t.dragOver,topDragStart:t.dragStart,topDrop:t.drop,topError:t.error,topFocus:t.focus,topInput:t.input,topKeyDown:t.keyDown,topKeyPress:t.keyPress,topKeyUp:t.keyUp,topLoad:t.load,topMouseDown:t.mouseDown,topMouseMove:t.mouseMove,topMouseOut:t.mouseOut,topMouseOver:t.mouseOver,topMouseUp:t.mouseUp,topPaste:t.paste,topReset:t.reset,topScroll:t.scroll,topSubmit:t.submit,topTouchCancel:t.touchCancel,topTouchEnd:t.touchEnd,topTouchMove:t.touchMove,topTouchStart:t.touchStart,topWheel:t.wheel};for(var v in u)u[v].dependencies=[v];var w={eventTypes:t,executeDispatch:function(a,b,c){var d=e.executeDispatch(a,b,c);d===!1&&(a.stopPropagation(),a.preventDefault())},extractEvents:function(a,b,c,d){var e=u[a];if(!e)return null;var r;switch(a){case s.topInput:case s.topLoad:case s.topError:case s.topReset:case s.topSubmit:r=h;break;case s.topKeyPress:if(0===p(d))return null;case s.topKeyDown:case s.topKeyUp:r=j;break;case s.topBlur:case s.topFocus:r=i;break;case s.topClick:if(2===d.button)return null;case s.topContextMenu:case s.topDoubleClick:case s.topMouseDown:case s.topMouseMove:case s.topMouseOut:case s.topMouseOver:case s.topMouseUp:r=k;break;case s.topDrag:case s.topDragEnd:case s.topDragEnter:case s.topDragExit:case s.topDragLeave:case s.topDragOver:case s.topDragStart:case s.topDrop:r=l;break;case s.topTouchCancel:case s.topTouchEnd:case s.topTouchMove:case s.topTouchStart:r=m;break;case s.topScroll:r=n;break;case s.topWheel:r=o;break;case s.topCopy:case s.topCut:case s.topPaste:r=g}q(r);var t=r.getPooled(e,c,d);return f.accumulateTwoPhaseDispatches(t),t}};b.exports=w},{"./EventConstants":203,"./EventPluginUtils":207,"./EventPropagators":208,"./SyntheticClipboardEvent":293,"./SyntheticDragEvent":295,"./SyntheticEvent":296,"./SyntheticFocusEvent":297,"./SyntheticKeyboardEvent":299,"./SyntheticMouseEvent":300,"./SyntheticTouchEvent":301,"./SyntheticUIEvent":302,"./SyntheticWheelEvent":303,"./getEventCharCode":325,"./invariant":338,"./keyOf":345,"./warning":359}],293:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};e.augmentClass(d,f),b.exports=d},{"./SyntheticEvent":296}],294:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f={data:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticEvent":296}],295:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticMouseEvent"),f={dataTransfer:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticMouseEvent":300}],296:[function(a,b,c){"use strict";function d(a,b,c){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var d=this.constructor.Interface;for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];f?this[e]=f(c):this[e]=c[e]}var h=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;h?this.isDefaultPrevented=g.thatReturnsTrue:this.isDefaultPrevented=g.thatReturnsFalse,this.isPropagationStopped=g.thatReturnsFalse}var e=a("./PooledClass"),f=a("./Object.assign"),g=a("./emptyFunction"),h=a("./getEventTarget"),i={type:null,target:h,currentTarget:g.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=g.thatReturnsTrue},stopPropagation:function(){var a=this.nativeEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=g.thatReturnsTrue},persist:function(){this.isPersistent=g.thatReturnsTrue},isPersistent:g.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),d.Interface=i,d.augmentClass=function(a,b){var c=this,d=Object.create(c.prototype);f(d,a.prototype),a.prototype=d,a.prototype.constructor=a,a.Interface=f({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.threeArgumentPooler)},e.addPoolingTo(d,e.threeArgumentPooler),b.exports=d},{"./Object.assign":216,"./PooledClass":217,"./emptyFunction":317,"./getEventTarget":328}],297:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f={relatedTarget:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticUIEvent":302}],298:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f={data:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticEvent":296}],299:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f=a("./getEventCharCode"),g=a("./getEventKey"),h=a("./getEventModifierState"),i={key:g,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:h,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};e.augmentClass(d,i),b.exports=d},{"./SyntheticUIEvent":302,"./getEventCharCode":325,"./getEventKey":326,"./getEventModifierState":327}],300:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f=a("./ViewportMetrics"),g=a("./getEventModifierState"),h={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:g,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.currentScrollTop}};e.augmentClass(d,h),b.exports=d},{"./SyntheticUIEvent":302,"./ViewportMetrics":305,"./getEventModifierState":327}],301:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f=a("./getEventModifierState"),g={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f};e.augmentClass(d,g),b.exports=d},{"./SyntheticUIEvent":302,"./getEventModifierState":327}],302:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f=a("./getEventTarget"),g={view:function(a){if(a.view)return a.view;var b=f(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};e.augmentClass(d,g),b.exports=d},{"./SyntheticEvent":296,"./getEventTarget":328}],303:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticMouseEvent"),f={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticMouseEvent":300}],304:[function(a,b,c){"use strict";var d=a("./invariant"),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,c,e,f,g,h,i){d(!this.isInTransaction());var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,c,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=f.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===f.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(e){}}}},closeAll:function(a){d(this.isInTransaction());for(var b=this.transactionWrappers,c=a;c<b.length;c++){var e,g=b[c],h=this.wrapperInitData[c];try{e=!0,h!==f.OBSERVED_ERROR&&g.close&&g.close.call(this,h),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(i){}}}this.wrapperInitData.length=0}},f={Mixin:e,OBSERVED_ERROR:{}};b.exports=f},{"./invariant":338}],305:[function(a,b,c){"use strict";var d={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){d.currentScrollLeft=a.x,d.currentScrollTop=a.y}};b.exports=d},{}],306:[function(a,b,c){"use strict";function d(a,b){if(e(null!=b),null==a)return b;var c=Array.isArray(a),d=Array.isArray(b);return c&&d?(a.push.apply(a,b),a):c?(a.push(b),a):d?[a].concat(b):[a,b]}var e=a("./invariant");b.exports=d},{"./invariant":338}],307:[function(a,b,c){"use strict";function d(a){for(var b=1,c=0,d=0;d<a.length;d++)b=(b+a.charCodeAt(d))%e,c=(c+b)%e;return b|c<<16}var e=65521;b.exports=d},{}],308:[function(a,b,c){function d(a){return a.replace(e,function(a,b){return b.toUpperCase()})}var e=/-(.)/g;b.exports=d},{}],309:[function(a,b,c){"use strict";function d(a){return e(a.replace(f,"ms-"))}var e=a("./camelize"),f=/^-ms-/;b.exports=d},{"./camelize":308}],310:[function(a,b,c){"use strict";function d(a,b){var c=f.mergeProps(b,a.props);return!c.hasOwnProperty(h)&&a.props.hasOwnProperty(h)&&(c.children=a.props.children),e.createElement(a.type,c)}var e=a("./ReactElement"),f=a("./ReactPropTransferer"),g=a("./keyOf"),h=(a("./warning"),g({children:null}));b.exports=d},{"./ReactElement":250,"./ReactPropTransferer":270,"./keyOf":345,"./warning":359}],311:[function(a,b,c){function d(a,b){return a&&b?a===b?!0:e(a)?!1:e(b)?d(a,b.parentNode):a.contains?a.contains(b):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):!1:!1}var e=a("./isTextNode");b.exports=d},{"./isTextNode":342}],312:[function(a,b,c){function d(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function e(a){return d(a)?Array.isArray(a)?a.slice():f(a):[a]}var f=a("./toArray");b.exports=e},{"./toArray":356}],313:[function(a,b,c){"use strict";function d(a){var b=f.createFactory(a),c=e.createClass({tagName:a.toUpperCase(),displayName:"ReactFullPageComponent"+a,componentWillUnmount:function(){g(!1)},render:function(){return b(this.props)}});return c}var e=a("./ReactClass"),f=a("./ReactElement"),g=a("./invariant");b.exports=d},{"./ReactClass":225,"./ReactElement":250,"./invariant":338}],314:[function(a,b,c){function d(a){var b=a.match(k);return b&&b[1].toLowerCase()}function e(a,b){var c=j;i(!!j);var e=d(a),f=e&&h(e);if(f){c.innerHTML=f[1]+a+f[2];for(var k=f[0];k--;)c=c.lastChild}else c.innerHTML=a;var l=c.getElementsByTagName("script");l.length&&(i(b),g(l).forEach(b));for(var m=g(c.childNodes);c.lastChild;)c.removeChild(c.lastChild);return m}var f=a("./ExecutionEnvironment"),g=a("./createArrayFromMixed"),h=a("./getMarkupWrap"),i=a("./invariant"),j=f.canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;b.exports=e},{"./ExecutionEnvironment":209,"./createArrayFromMixed":312,"./getMarkupWrap":330,"./invariant":338}],315:[function(a,b,c){"use strict";function d(a){return"object"==typeof a?Object.keys(a).filter(function(b){return a[b]}).join(" "):Array.prototype.join.call(arguments," ")}a("./warning");b.exports=d},{"./warning":359}],316:[function(a,b,c){"use strict";function d(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||f.hasOwnProperty(a)&&f[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var e=a("./CSSProperty"),f=e.isUnitlessNumber;b.exports=d},{"./CSSProperty":192}],317:[function(a,b,c){function d(a){return function(){return a}}function e(){}e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},b.exports=e},{}],318:[function(a,b,c){"use strict";var d={};b.exports=d},{}],319:[function(a,b,c){"use strict";function d(a){return f[a]}function e(a){return(""+a).replace(g,d)}var f={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},g=/[&><"']/g;b.exports=e},{}],320:[function(a,b,c){"use strict";function d(a){return null==a?null:h(a)?a:e.has(a)?f.getNodeFromInstance(a):(g(null==a.render||"function"!=typeof a.render),void g(!1))}var e=(a("./ReactCurrentOwner"),a("./ReactInstanceMap")),f=a("./ReactMount"),g=a("./invariant"),h=a("./isNode");a("./warning");b.exports=d},{"./ReactCurrentOwner":232,"./ReactInstanceMap":260,"./ReactMount":264,"./invariant":338,"./isNode":340,"./warning":359}],321:[function(a,b,c){"use strict";function d(a,b,c){var d=a,e=!d.hasOwnProperty(c);e&&null!=b&&(d[c]=b)}function e(a){if(null==a)return a;var b={};return f(a,d,b),b}var f=a("./traverseAllChildren");a("./warning");b.exports=e},{"./traverseAllChildren":357,"./warning":359}],322:[function(a,b,c){"use strict";function d(a){try{a.focus()}catch(b){}}b.exports=d},{}],323:[function(a,b,c){"use strict";var d=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};b.exports=d},{}],324:[function(a,b,c){function d(){try{return document.activeElement||document.body}catch(a){return document.body}}b.exports=d},{}],325:[function(a,b,c){"use strict";function d(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}b.exports=d},{}],326:[function(a,b,c){"use strict";function d(a){if(a.key){var b=f[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=e(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?g[a.keyCode]||"Unidentified":""}var e=a("./getEventCharCode"),f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};b.exports=d},{"./getEventCharCode":325}],327:[function(a,b,c){"use strict";function d(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=f[a];return d?!!c[d]:!1}function e(a){return d}var f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};b.exports=e},{}],328:[function(a,b,c){"use strict";function d(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}b.exports=d},{}],329:[function(a,b,c){"use strict";function d(a){var b=a&&(e&&a[e]||a[f]);return"function"==typeof b?b:void 0}var e="function"==typeof Symbol&&Symbol.iterator,f="@@iterator";b.exports=d},{}],330:[function(a,b,c){function d(a){return f(!!g),m.hasOwnProperty(a)||(a="*"),h.hasOwnProperty(a)||("*"===a?g.innerHTML="<link />":g.innerHTML="<"+a+"></"+a+">",h[a]=!g.firstChild),h[a]?m[a]:null}var e=a("./ExecutionEnvironment"),f=a("./invariant"),g=e.canUseDOM?document.createElement("div"):null,h={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},i=[1,'<select multiple="true">',"</select>"],j=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,"<svg>","</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:j,colgroup:j,tbody:j,tfoot:j,thead:j,td:k,th:k,circle:l,defs:l,ellipse:l,g:l,line:l,linearGradient:l,path:l,polygon:l,polyline:l,radialGradient:l,rect:l,stop:l,text:l};b.exports=d},{"./ExecutionEnvironment":209,"./invariant":338}],331:[function(a,b,c){"use strict";function d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function f(a,b){for(var c=d(a),f=0,g=0;c;){if(3===c.nodeType){if(g=f+c.textContent.length,b>=f&&g>=b)return{node:c,offset:b-f};f=g}c=d(e(c))}}b.exports=f},{}],332:[function(a,b,c){"use strict";function d(a){return a?a.nodeType===e?a.documentElement:a.firstChild:null}var e=9;b.exports=d},{}],333:[function(a,b,c){"use strict";function d(){return!f&&e.canUseDOM&&(f="textContent"in document.documentElement?"textContent":"innerText"),f}var e=a("./ExecutionEnvironment"),f=null;b.exports=d},{"./ExecutionEnvironment":209}],334:[function(a,b,c){"use strict";function d(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}b.exports=d},{}],335:[function(a,b,c){function d(a){return a.replace(e,"-$1").toLowerCase()}var e=/([A-Z])/g;b.exports=d},{}],336:[function(a,b,c){"use strict";function d(a){return e(a).replace(f,"-ms-")}var e=a("./hyphenate"),f=/^ms-/;b.exports=d},{"./hyphenate":335}],337:[function(a,b,c){"use strict";function d(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function e(a,b){var c;if((null===a||a===!1)&&(a=g.emptyElement),"object"==typeof a){var e=a;c=b===e.type&&"string"==typeof e.type?h.createInternalComponent(e):d(e.type)?new e.type(e):new k}else"string"==typeof a||"number"==typeof a?c=h.createInstanceForText(a):j(!1);return c.construct(a),c._mountIndex=0,c._mountImage=null,c}var f=a("./ReactCompositeComponent"),g=a("./ReactEmptyComponent"),h=a("./ReactNativeComponent"),i=a("./Object.assign"),j=a("./invariant"),k=(a("./warning"),function(){});i(k.prototype,f.Mixin,{_instantiateReactComponent:e}),b.exports=e},{"./Object.assign":216,"./ReactCompositeComponent":230,"./ReactEmptyComponent":252,"./ReactNativeComponent":267,"./invariant":338,"./warning":359}],338:[function(a,b,c){"use strict";var d=function(a,b,c,d,e,f,g,h){if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error("Invariant Violation: "+b.replace(/%s/g,function(){return j[k++]}))}throw i.framesToPop=1,i}};b.exports=d},{}],339:[function(a,b,c){"use strict";function d(a,b){if(!f.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,d=c in document;if(!d){var g=document.createElement("div");g.setAttribute(c,"return;"),d="function"==typeof g[c]}return!d&&e&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}var e,f=a("./ExecutionEnvironment");f.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),b.exports=d},{"./ExecutionEnvironment":209}],340:[function(a,b,c){function d(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}b.exports=d},{}],341:[function(a,b,c){"use strict";function d(a){return a&&("INPUT"===a.nodeName&&e[a.type]||"TEXTAREA"===a.nodeName)}var e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};b.exports=d},{}],342:[function(a,b,c){function d(a){return e(a)&&3==a.nodeType}var e=a("./isNode");b.exports=d},{"./isNode":340}],343:[function(a,b,c){"use strict";function d(a){a||(a="");var b,c=arguments.length;if(c>1)for(var d=1;c>d;d++)b=arguments[d],b&&(a=(a?a+" ":"")+b);return a}b.exports=d},{}],344:[function(a,b,c){"use strict";var d=a("./invariant"),e=function(a){var b,c={};d(a instanceof Object&&!Array.isArray(a));for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};b.exports=e},{"./invariant":338}],345:[function(a,b,c){var d=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};b.exports=d},{}],346:[function(a,b,c){"use strict";function d(a,b,c){if(!a)return null;var d={};for(var f in a)e.call(a,f)&&(d[f]=b.call(c,a[f],f,a));return d}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],347:[function(a,b,c){"use strict";function d(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}b.exports=d},{}],348:[function(a,b,c){"use strict";function d(a){return f(e.isValidElement(a)),a}var e=a("./ReactElement"),f=a("./invariant");b.exports=d},{"./ReactElement":250,"./invariant":338}],349:[function(a,b,c){"use strict";var d,e=a("./ExecutionEnvironment");e.canUseDOM&&(d=window.performance||window.msPerformance||window.webkitPerformance),b.exports=d||{}},{"./ExecutionEnvironment":209}],350:[function(a,b,c){var d=a("./performance");d&&d.now||(d=Date);var e=d.now.bind(d);b.exports=e},{"./performance":349}],351:[function(a,b,c){"use strict";function d(a){return'"'+e(a)+'"'}var e=a("./escapeTextContentForBrowser");b.exports=d},{"./escapeTextContentForBrowser":319}],352:[function(a,b,c){"use strict";var d=a("./ExecutionEnvironment"),e=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,g=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(g=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),d.canUseDOM){var h=document.createElement("div");h.innerHTML=" ",""===h.innerHTML&&(g=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),e.test(b)||"<"===b[0]&&f.test(b)){a.innerHTML="\ufeff"+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}b.exports=g},{"./ExecutionEnvironment":209}],353:[function(a,b,c){"use strict";var d=a("./ExecutionEnvironment"),e=a("./escapeTextContentForBrowser"),f=a("./setInnerHTML"),g=function(a,b){a.textContent=b};d.canUseDOM&&("textContent"in document.documentElement||(g=function(a,b){f(a,e(b))})),b.exports=g},{"./ExecutionEnvironment":209,"./escapeTextContentForBrowser":319,"./setInnerHTML":352}],354:[function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}b.exports=d},{}],355:[function(a,b,c){"use strict";function d(a,b){if(null!=a&&null!=b){var c=typeof a,d=typeof b;if("string"===c||"number"===c)return"string"===d||"number"===d;if("object"===d&&a.type===b.type&&a.key===b.key){var e=a._owner===b._owner;return e}}return!1}a("./warning");b.exports=d},{"./warning":359}],356:[function(a,b,c){function d(a){var b=a.length;if(e(!Array.isArray(a)&&("object"==typeof a||"function"==typeof a)),e("number"==typeof b),e(0===b||b-1 in a),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),f=0;b>f;f++)d[f]=a[f];return d}var e=a("./invariant");b.exports=d},{"./invariant":338}],357:[function(a,b,c){"use strict";function d(a){return q[a]}function e(a,b){return a&&null!=a.key?g(a.key):b.toString(36)}function f(a){return(""+a).replace(r,d)}function g(a){return"$"+f(a)}function h(a,b,c,d,f){var i=typeof a;if(("undefined"===i||"boolean"===i)&&(a=null),null===a||"string"===i||"number"===i||j.isValidElement(a))return d(f,a,""===b?o+e(a,0):b,c),1;var l,q,r,s=0;if(Array.isArray(a))for(var t=0;t<a.length;t++)l=a[t],q=(""!==b?b+p:o)+e(l,t),r=c+s,s+=h(l,q,r,d,f);else{var u=m(a);if(u){var v,w=u.call(a);if(u!==a.entries)for(var x=0;!(v=w.next()).done;)l=v.value,q=(""!==b?b+p:o)+e(l,x++),r=c+s,s+=h(l,q,r,d,f);else for(;!(v=w.next()).done;){var y=v.value;y&&(l=y[1],q=(""!==b?b+p:o)+g(y[0])+p+e(l,0),r=c+s,s+=h(l,q,r,d,f))}}else if("object"===i){n(1!==a.nodeType);var z=k.extract(a);for(var A in z)z.hasOwnProperty(A)&&(l=z[A],q=(""!==b?b+p:o)+g(A)+p+e(l,0),r=c+s,s+=h(l,q,r,d,f))}}return s}function i(a,b,c){return null==a?0:h(a,"",0,b,c)}var j=a("./ReactElement"),k=a("./ReactFragment"),l=a("./ReactInstanceHandles"),m=a("./getIteratorFn"),n=a("./invariant"),o=(a("./warning"),l.SEPARATOR),p=":",q={"=":"=0",".":"=1",":":"=2"},r=/[=.:]/g;b.exports=i},{"./ReactElement":250,"./ReactFragment":256,"./ReactInstanceHandles":259,"./getIteratorFn":329,"./invariant":338,"./warning":359}],358:[function(a,b,c){"use strict";function d(a){return Array.isArray(a)?a.concat():a&&"object"==typeof a?g(new a.constructor,a):a}function e(a,b,c){i(Array.isArray(a));var d=b[c];i(Array.isArray(d))}function f(a,b){if(i("object"==typeof b),j.call(b,n))return i(1===Object.keys(b).length),b[n];var c=d(a);if(j.call(b,o)){var h=b[o];i(h&&"object"==typeof h),i(c&&"object"==typeof c),g(c,b[o])}j.call(b,k)&&(e(a,b,k),b[k].forEach(function(a){c.push(a)})),j.call(b,l)&&(e(a,b,l),
b[l].forEach(function(a){c.unshift(a)})),j.call(b,m)&&(i(Array.isArray(a)),i(Array.isArray(b[m])),b[m].forEach(function(a){i(Array.isArray(a)),c.splice.apply(c,a)})),j.call(b,p)&&(i("function"==typeof b[p]),c=b[p](c));for(var q in b)r.hasOwnProperty(q)&&r[q]||(c[q]=f(a[q],b[q]));return c}var g=a("./Object.assign"),h=a("./keyOf"),i=a("./invariant"),j={}.hasOwnProperty,k=h({$push:null}),l=h({$unshift:null}),m=h({$splice:null}),n=h({$set:null}),o=h({$merge:null}),p=h({$apply:null}),q=[k,l,m,n,o,p],r={};q.forEach(function(a){r[a]=!0}),b.exports=f},{"./Object.assign":216,"./invariant":338,"./keyOf":345}],359:[function(a,b,c){"use strict";var d=a("./emptyFunction"),e=d;b.exports=e},{"./emptyFunction":317}],360:[function(a,b,c){b.exports=a("./lib/React")},{"./lib/React":218}],361:[function(a,b,c){b.exports=a("./src/regression")},{"./src/regression":362}],362:[function(a,b,c){!function(){"use strict";var a=function(a,b){var c=0,d=0,e=0,f=0,g=0,h=a.length-1,i=new Array(b);for(c=0;h>c;c++){for(f=c,d=c+1;h>d;d++)Math.abs(a[c][d])>Math.abs(a[c][f])&&(f=d);for(e=c;h+1>e;e++)g=a[e][c],a[e][c]=a[e][f],a[e][f]=g;for(d=c+1;h>d;d++)for(e=h;e>=c;e--)a[e][d]-=a[e][c]*a[c][d]/a[c][c]}for(d=h-1;d>=0;d--){for(g=0,e=d+1;h>e;e++)g+=a[e][d]*i[e];i[d]=(a[h][d]-g)/a[d][d]}return i},d={linear:function(a){for(var b=[0,0,0,0,0],c=0,d=[];c<a.length;c++)null!=a[c][1]&&(b[0]+=a[c][0],b[1]+=a[c][1],b[2]+=a[c][0]*a[c][0],b[3]+=a[c][0]*a[c][1],b[4]+=a[c][1]*a[c][1]);for(var e=(c*b[3]-b[0]*b[1])/(c*b[2]-b[0]*b[0]),f=b[1]/c-e*b[0]/c,g=0,h=a.length;h>g;g++){var i=[a[g][0],a[g][0]*e+f];d.push(i)}var j="y = "+Math.round(100*e)/100+"x + "+Math.round(100*f)/100;return{equation:[e,f],points:d,string:j}},linearThroughOrigin:function(a){for(var b=[0,0],c=0,d=[];c<a.length;c++)null!=a[c][1]&&(b[0]+=a[c][0]*a[c][0],b[1]+=a[c][0]*a[c][1]);for(var e=b[1]/b[0],f=0,g=a.length;g>f;f++){var h=[a[f][0],a[f][0]*e];d.push(h)}var i="y = "+Math.round(100*e)/100+"x";return{equation:[e],points:d,string:i}},exponential:function(a){var b=[0,0,0,0,0,0],c=0,d=[];for(i=a.length;i>c;c++)null!=a[c][1]&&(b[0]+=a[c][0],b[1]+=a[c][1],b[2]+=a[c][0]*a[c][0]*a[c][1],b[3]+=a[c][1]*Math.log(a[c][1]),b[4]+=a[c][0]*a[c][1]*Math.log(a[c][1]),b[5]+=a[c][0]*a[c][1]);for(var e=b[1]*b[2]-b[5]*b[5],f=Math.pow(Math.E,(b[2]*b[3]-b[5]*b[4])/e),g=(b[1]*b[4]-b[5]*b[3])/e,h=0,i=a.length;i>h;h++){var j=[a[h][0],f*Math.pow(Math.E,g*a[h][0])];d.push(j)}var k="y = "+Math.round(100*f)/100+"e^("+Math.round(100*g)/100+"x)";return{equation:[f,g],points:d,string:k}},logarithmic:function(a){var b=[0,0,0,0],c=0,d=[];for(h=a.length;h>c;c++)null!=a[c][1]&&(b[0]+=Math.log(a[c][0]),b[1]+=a[c][1]*Math.log(a[c][0]),b[2]+=a[c][1],b[3]+=Math.pow(Math.log(a[c][0]),2));for(var e=(c*b[1]-b[2]*b[0])/(c*b[3]-b[0]*b[0]),f=(b[2]-e*b[0])/c,g=0,h=a.length;h>g;g++){var i=[a[g][0],f+e*Math.log(a[g][0])];d.push(i)}var j="y = "+Math.round(100*f)/100+" + "+Math.round(100*e)/100+" ln(x)";return{equation:[f,e],points:d,string:j}},power:function(a){var b=[0,0,0,0],c=0,d=[];for(h=a.length;h>c;c++)null!=a[c][1]&&(b[0]+=Math.log(a[c][0]),b[1]+=Math.log(a[c][1])*Math.log(a[c][0]),b[2]+=Math.log(a[c][1]),b[3]+=Math.pow(Math.log(a[c][0]),2));for(var e=(c*b[1]-b[2]*b[0])/(c*b[3]-b[0]*b[0]),f=Math.pow(Math.E,(b[2]-e*b[0])/c),g=0,h=a.length;h>g;g++){var i=[a[g][0],f*Math.pow(a[g][0],e)];d.push(i)}var j="y = "+Math.round(100*f)/100+"x^"+Math.round(100*e)/100;return{equation:[f,e],points:d,string:j}},polynomial:function(b,c){"undefined"==typeof c&&(c=2);for(var d=[],e=[],f=[],g=0,h=0,i=0,j=c+1;j>i;i++){for(var k=0,l=b.length;l>k;k++)null!=b[k][1]&&(g+=Math.pow(b[k][0],i)*b[k][1]);d.push(g),g=0;for(var m=[],n=0;j>n;n++){for(var k=0,l=b.length;l>k;k++)null!=b[k][1]&&(h+=Math.pow(b[k][0],i+n));m.push(h),h=0}e.push(m)}e.push(d);for(var o=a(e,j),i=0,l=b.length;l>i;i++){for(var p=0,q=0;q<o.length;q++)p+=o[q]*Math.pow(b[i][0],q);f.push([b[i][0],p])}for(var r="y = ",i=o.length-1;i>=0;i--)r+=i>1?Math.round(o[i]*Math.pow(10,i))/Math.pow(10,i)+"x^"+i+" + ":1==i?Math.round(100*o[i])/100+"x + ":Math.round(100*o[i])/100;return{equation:o,points:f,string:r}},lastvalue:function(a){for(var b=[],c=null,d=0;d<a.length;d++)a[d][1]?(c=a[d][1],b.push([a[d][0],a[d][1]])):b.push([a[d][0],c]);return{equation:[c],points:b,string:""+c}}},e=function(a,b,c){return"string"==typeof a?d[a](b,c):void 0};"undefined"!=typeof c?b.exports=e:window.regression=e}()},{}],363:[function(a,b,c){a("./science.v1"),b.exports=science},{"./science.v1":364}],364:[function(a,b,c){!function(a){!function(a){science={version:"1.9.3"},science.ascending=function(a,b){return a-b},science.EULER=.5772156649015329,science.expm1=function(a){return 1e-5>a&&a>-1e-5?a+.5*a*a:Math.exp(a)-1},science.functor=function(a){return"function"==typeof a?a:function(){return a}},science.hypot=function(a,b){a=Math.abs(a),b=Math.abs(b);var c,d;a>b?(c=a,d=b):(c=b,d=a);var e=d/c;return c*Math.sqrt(1+e*e)},science.quadratic=function(){function a(a,c,d){var e=c*c-4*a*d;return e>0?(e=Math.sqrt(e)/(2*a),b?[{r:-c-e,i:0},{r:-c+e,i:0}]:[-c-e,-c+e]):0===e?(e=-c/(2*a),b?[{r:e,i:0}]:[e]):b?(e=Math.sqrt(-e)/(2*a),[{r:-c,i:-e},{r:-c,i:e}]):[]}var b=!1;return a.complex=function(c){return arguments.length?(b=c,a):b},a},science.zeroes=function(a){var b=-1,c=[];if(1===arguments.length)for(;++b<a;)c[b]=0;else for(;++b<a;)c[b]=science.zeroes.apply(this,Array.prototype.slice.call(arguments,1));return c}}(this),function(a){function b(a,b,c){for(var d=c.length,e=0;d>e;e++)a[e]=c[d-1][e];for(var f=d-1;f>0;f--){for(var g=0,h=0,i=0;f>i;i++)g+=Math.abs(a[i]);if(0===g){b[f]=a[f-1];for(var e=0;f>e;e++)a[e]=c[f-1][e],c[f][e]=0,c[e][f]=0}else{for(var i=0;f>i;i++)a[i]/=g,h+=a[i]*a[i];var j=a[f-1],k=Math.sqrt(h);j>0&&(k=-k),b[f]=g*k,h-=j*k,a[f-1]=j-k;for(var e=0;f>e;e++)b[e]=0;for(var e=0;f>e;e++){j=a[e],c[e][f]=j,k=b[e]+c[e][e]*j;for(var i=e+1;f-1>=i;i++)k+=c[i][e]*a[i],b[i]+=c[i][e]*j;b[e]=k}j=0;for(var e=0;f>e;e++)b[e]/=h,j+=b[e]*a[e];for(var l=j/(h+h),e=0;f>e;e++)b[e]-=l*a[e];for(var e=0;f>e;e++){j=a[e],k=b[e];for(var i=e;f-1>=i;i++)c[i][e]-=j*b[i]+k*a[i];a[e]=c[f-1][e],c[f][e]=0}}a[f]=h}for(var f=0;d-1>f;f++){c[d-1][f]=c[f][f],c[f][f]=1;var h=a[f+1];if(0!=h){for(var i=0;f>=i;i++)a[i]=c[i][f+1]/h;for(var e=0;f>=e;e++){for(var k=0,i=0;f>=i;i++)k+=c[i][f+1]*c[i][e];for(var i=0;f>=i;i++)c[i][e]-=k*a[i]}}for(var i=0;f>=i;i++)c[i][f+1]=0}for(var e=0;d>e;e++)a[e]=c[d-1][e],c[d-1][e]=0;c[d-1][d-1]=1,b[0]=0}function c(a,b,c){for(var d=c.length,e=1;d>e;e++)b[e-1]=b[e];b[d-1]=0;for(var f=0,g=0,h=1e-12,i=0;d>i;i++){g=Math.max(g,Math.abs(a[i])+Math.abs(b[i]));for(var j=i;d>j&&!(Math.abs(b[j])<=h*g);)j++;if(j>i){var k=0;do{k++;var l=a[i],m=(a[i+1]-l)/(2*b[i]),n=science.hypot(m,1);0>m&&(n=-n),a[i]=b[i]/(m+n),a[i+1]=b[i]*(m+n);for(var o=a[i+1],p=l-a[i],e=i+2;d>e;e++)a[e]-=p;f+=p,m=a[j];for(var q=1,r=q,s=q,t=b[i+1],u=0,v=0,e=j-1;e>=i;e--){s=r,r=q,v=u,l=q*b[e],p=q*m,n=science.hypot(m,b[e]),b[e+1]=u*n,u=b[e]/n,q=m/n,m=q*a[e]-u*l,a[e+1]=p+u*(q*l+u*a[e]);for(var w=0;d>w;w++)p=c[w][e+1],c[w][e+1]=u*c[w][e]+q*p,c[w][e]=q*c[w][e]-u*p}m=-u*v*s*t*b[i]/o,b[i]=u*m,a[i]=q*m}while(Math.abs(b[i])>h*g)}a[i]=a[i]+f,b[i]=0}for(var e=0;d-1>e;e++){for(var w=e,m=a[e],x=e+1;d>x;x++)a[x]<m&&(w=x,m=a[x]);if(w!=e){a[w]=a[e],a[e]=m;for(var x=0;d>x;x++)m=c[x][e],c[x][e]=c[x][w],c[x][w]=m}}}function d(a,b){for(var c=a.length,d=[],e=0,f=c-1,g=e+1;f>g;g++){for(var h=0,i=g;f>=i;i++)h+=Math.abs(a[i][g-1]);if(0!==h){for(var j=0,i=f;i>=g;i--)d[i]=a[i][g-1]/h,j+=d[i]*d[i];var k=Math.sqrt(j);d[g]>0&&(k=-k),j-=d[g]*k,d[g]=d[g]-k;for(var l=g;c>l;l++){for(var m=0,i=f;i>=g;i--)m+=d[i]*a[i][l];m/=j;for(var i=g;f>=i;i++)a[i][l]-=m*d[i]}for(var i=0;f>=i;i++){for(var m=0,l=f;l>=g;l--)m+=d[l]*a[i][l];m/=j;for(var l=g;f>=l;l++)a[i][l]-=m*d[l]}d[g]=h*d[g],a[g][g-1]=h*k}}for(var i=0;c>i;i++)for(var l=0;c>l;l++)b[i][l]=i===l?1:0;for(var g=f-1;g>=e+1;g--)if(0!==a[g][g-1]){for(var i=g+1;f>=i;i++)d[i]=a[i][g-1];for(var l=g;f>=l;l++){for(var k=0,i=g;f>=i;i++)k+=d[i]*b[i][l];k=k/d[g]/a[g][g-1];for(var i=g;f>=i;i++)b[i][l]+=k*d[i]}}}function e(a,b,c,d){for(var e,g,h,i,j=c.length,k=j-1,l=0,m=j-1,n=1e-12,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0;j>v;v++){(l>v||v>m)&&(a[v]=c[v][v],b[v]=0);for(var w=Math.max(v-1,0);j>w;w++)u+=Math.abs(c[v][w])}for(var x=0;k>=l;){for(var y=k;y>l&&(s=Math.abs(c[y-1][y-1])+Math.abs(c[y][y]),0===s&&(s=u),!(Math.abs(c[y][y-1])<n*s));)y--;if(y===k)c[k][k]=c[k][k]+o,a[k]=c[k][k],b[k]=0,k--,x=0;else if(y===k-1){if(g=c[k][k-1]*c[k-1][k],p=(c[k-1][k-1]-c[k][k])/2,q=p*p+g,t=Math.sqrt(Math.abs(q)),c[k][k]=c[k][k]+o,c[k-1][k-1]=c[k-1][k-1]+o,h=c[k][k],q>=0){t=p+(p>=0?t:-t),a[k-1]=h+t,a[k]=a[k-1],0!==t&&(a[k]=h-g/t),b[k-1]=0,b[k]=0,h=c[k][k-1],s=Math.abs(h)+Math.abs(t),p=h/s,q=t/s,r=Math.sqrt(p*p+q*q),p/=r,q/=r;for(var w=k-1;j>w;w++)t=c[k-1][w],c[k-1][w]=q*t+p*c[k][w],c[k][w]=q*c[k][w]-p*t;for(var v=0;k>=v;v++)t=c[v][k-1],c[v][k-1]=q*t+p*c[v][k],c[v][k]=q*c[v][k]-p*t;for(var v=l;m>=v;v++)t=d[v][k-1],d[v][k-1]=q*t+p*d[v][k],d[v][k]=q*d[v][k]-p*t}else a[k-1]=h+p,a[k]=h+p,b[k-1]=t,b[k]=-t;k-=2,x=0}else{if(h=c[k][k],i=0,g=0,k>y&&(i=c[k-1][k-1],g=c[k][k-1]*c[k-1][k]),10==x){o+=h;for(var v=l;k>=v;v++)c[v][v]-=h;s=Math.abs(c[k][k-1])+Math.abs(c[k-1][k-2]),h=i=.75*s,g=-.4375*s*s}if(30==x&&(s=(i-h)/2,s=s*s+g,s>0)){s=Math.sqrt(s),h>i&&(s=-s),s=h-g/((i-h)/2+s);for(var v=l;k>=v;v++)c[v][v]-=s;o+=s,h=i=g=.964}x++;for(var z=k-2;z>=y&&(t=c[z][z],r=h-t,s=i-t,p=(r*s-g)/c[z+1][z]+c[z][z+1],q=c[z+1][z+1]-t-r-s,r=c[z+2][z+1],s=Math.abs(p)+Math.abs(q)+Math.abs(r),p/=s,q/=s,r/=s,z!=y)&&!(Math.abs(c[z][z-1])*(Math.abs(q)+Math.abs(r))<n*(Math.abs(p)*(Math.abs(c[z-1][z-1])+Math.abs(t)+Math.abs(c[z+1][z+1]))));)z--;for(var v=z+2;k>=v;v++)c[v][v-2]=0,v>z+2&&(c[v][v-3]=0);for(var A=z;k-1>=A;A++){var B=A!=k-1;if(A!=z&&(p=c[A][A-1],q=c[A+1][A-1],r=B?c[A+2][A-1]:0,h=Math.abs(p)+Math.abs(q)+Math.abs(r),0!=h&&(p/=h,q/=h,r/=h)),0==h)break;if(s=Math.sqrt(p*p+q*q+r*r),0>p&&(s=-s),0!=s){A!=z?c[A][A-1]=-s*h:y!=z&&(c[A][A-1]=-c[A][A-1]),p+=s,h=p/s,i=q/s,t=r/s,q/=p,r/=p;for(var w=A;j>w;w++)p=c[A][w]+q*c[A+1][w],B&&(p+=r*c[A+2][w],c[A+2][w]=c[A+2][w]-p*t),c[A][w]=c[A][w]-p*h,c[A+1][w]=c[A+1][w]-p*i;for(var v=0;v<=Math.min(k,A+3);v++)p=h*c[v][A]+i*c[v][A+1],B&&(p+=t*c[v][A+2],c[v][A+2]=c[v][A+2]-p*r),c[v][A]=c[v][A]-p,c[v][A+1]=c[v][A+1]-p*q;for(var v=l;m>=v;v++)p=h*d[v][A]+i*d[v][A+1],B&&(p+=t*d[v][A+2],d[v][A+2]=d[v][A+2]-p*r),d[v][A]=d[v][A]-p,d[v][A+1]=d[v][A+1]-p*q}}}}if(0!=u){for(k=j-1;k>=0;k--)if(p=a[k],q=b[k],0==q){var y=k;c[k][k]=1;for(var v=k-1;v>=0;v--){g=c[v][v]-p,r=0;for(var w=y;k>=w;w++)r+=c[v][w]*c[w][k];if(b[v]<0)t=g,s=r;else if(y=v,0===b[v]?c[v][k]=-r/(0!==g?g:n*u):(h=c[v][v+1],i=c[v+1][v],q=(a[v]-p)*(a[v]-p)+b[v]*b[v],e=(h*s-t*r)/q,c[v][k]=e,Math.abs(h)>Math.abs(t)?c[v+1][k]=(-r-g*e)/h:c[v+1][k]=(-s-i*e)/t),e=Math.abs(c[v][k]),n*e*e>1)for(var w=v;k>=w;w++)c[w][k]=c[w][k]/e}}else if(0>q){var y=k-1;if(Math.abs(c[k][k-1])>Math.abs(c[k-1][k]))c[k-1][k-1]=q/c[k][k-1],c[k-1][k]=-(c[k][k]-p)/c[k][k-1];else{var C=f(0,-c[k-1][k],c[k-1][k-1]-p,q);c[k-1][k-1]=C[0],c[k-1][k]=C[1]}c[k][k-1]=0,c[k][k]=1;for(var v=k-2;v>=0;v--){for(var D,E,F=0,G=0,w=y;k>=w;w++)F+=c[v][w]*c[w][k-1],G+=c[v][w]*c[w][k];if(g=c[v][v]-p,b[v]<0)t=g,r=F,s=G;else{if(y=v,0==b[v]){var C=f(-F,-G,g,q);c[v][k-1]=C[0],c[v][k]=C[1]}else{h=c[v][v+1],i=c[v+1][v],D=(a[v]-p)*(a[v]-p)+b[v]*b[v]-q*q,E=2*(a[v]-p)*q,0==D&0==E&&(D=n*u*(Math.abs(g)+Math.abs(q)+Math.abs(h)+Math.abs(i)+Math.abs(t)));var C=f(h*r-t*F+q*G,h*s-t*G-q*F,D,E);if(c[v][k-1]=C[0],c[v][k]=C[1],Math.abs(h)>Math.abs(t)+Math.abs(q))c[v+1][k-1]=(-F-g*c[v][k-1]+q*c[v][k])/h,c[v+1][k]=(-G-g*c[v][k]-q*c[v][k-1])/h;else{var C=f(-r-i*c[v][k-1],-s-i*c[v][k],t,q);c[v+1][k-1]=C[0],c[v+1][k]=C[1]}}if(e=Math.max(Math.abs(c[v][k-1]),Math.abs(c[v][k])),n*e*e>1)for(var w=v;k>=w;w++)c[w][k-1]=c[w][k-1]/e,c[w][k]=c[w][k]/e}}}for(var v=0;j>v;v++)if(l>v||v>m)for(var w=v;j>w;w++)d[v][w]=c[v][w];for(var w=j-1;w>=l;w--)for(var v=l;m>=v;v++){t=0;for(var A=l;A<=Math.min(w,m);A++)t+=d[v][A]*c[A][w];d[v][w]=t}}}function f(a,b,c,d){if(Math.abs(c)>Math.abs(d)){var e=d/c,f=c+e*d;return[(a+e*b)/f,(b-e*a)/f]}var e=c/d,f=d+e*c;return[(e*a+b)/f,(e*b-a)/f]}science.lin={},science.lin.decompose=function(){function a(a){for(var f=a.length,g=[],h=[],i=[],j=0;f>j;j++)g[j]=[],h[j]=[],i[j]=[];for(var k=!0,l=0;f>l;l++)for(var j=0;f>j;j++)if(a[j][l]!==a[l][j]){k=!1;break}if(k){for(var j=0;f>j;j++)g[j]=a[j].slice();b(h,i,g),c(h,i,g)}else{for(var m=[],j=0;f>j;j++)m[j]=a[j].slice();d(m,g),e(h,i,m,g)}for(var n=[],j=0;f>j;j++){for(var o=n[j]=[],l=0;f>l;l++)o[l]=j===l?h[j]:0;n[j][i[j]>0?j+1:j-1]=i[j]}return{D:n,V:g}}return a},science.lin.cross=function(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]},science.lin.dot=function(a,b){for(var c=0,d=-1,e=Math.min(a.length,b.length);++d<e;)c+=a[d]*b[d];return c},science.lin.length=function(a){return Math.sqrt(science.lin.dot(a,a))},science.lin.normalize=function(a){var b=science.lin.length(a);return a.map(function(a){return a/b})},science.lin.determinant=function(a){var b=a[0].concat(a[1]).concat(a[2]).concat(a[3]);return b[12]*b[9]*b[6]*b[3]-b[8]*b[13]*b[6]*b[3]-b[12]*b[5]*b[10]*b[3]+b[4]*b[13]*b[10]*b[3]+b[8]*b[5]*b[14]*b[3]-b[4]*b[9]*b[14]*b[3]-b[12]*b[9]*b[2]*b[7]+b[8]*b[13]*b[2]*b[7]+b[12]*b[1]*b[10]*b[7]-b[0]*b[13]*b[10]*b[7]-b[8]*b[1]*b[14]*b[7]+b[0]*b[9]*b[14]*b[7]+b[12]*b[5]*b[2]*b[11]-b[4]*b[13]*b[2]*b[11]-b[12]*b[1]*b[6]*b[11]+b[0]*b[13]*b[6]*b[11]+b[4]*b[1]*b[14]*b[11]-b[0]*b[5]*b[14]*b[11]-b[8]*b[5]*b[2]*b[15]+b[4]*b[9]*b[2]*b[15]+b[8]*b[1]*b[6]*b[15]-b[0]*b[9]*b[6]*b[15]-b[4]*b[1]*b[10]*b[15]+b[0]*b[5]*b[10]*b[15]},science.lin.gaussjordan=function(a,b){b||(b=1e-10);for(var c,d,e=a.length,f=a[0].length,g=-1;++g<e;){var h=g;for(c=g;++c<e;)Math.abs(a[c][g])>Math.abs(a[h][g])&&(h=c);var i=a[g];if(a[g]=a[h],a[h]=i,Math.abs(a[g][g])<=b)return!1;for(c=g;++c<e;){var j=a[c][g]/a[g][g];for(d=g-1;++d<f;)a[c][d]-=a[g][d]*j}}for(g=e;--g>=0;){var j=a[g][g];for(c=-1;++c<g;)for(d=f;--d>=g;)a[c][d]-=a[g][d]*a[c][g]/j;for(a[g][g]/=j,d=e-1;++d<f;)a[g][d]/=j}return!0},science.lin.inverse=function(a){var b=a.length,c=-1;if(b===a[0].length){for(a=a.map(function(a,c){for(var d=new Array(b),e=-1;++e<b;)d[e]=c===e?1:0;return a.concat(d)}),science.lin.gaussjordan(a);++c<b;)a[c]=a[c].slice(b);return a}},science.lin.multiply=function(a,b){var c,d,e=a.length,f=b[0].length,g=b.length,h=-1;if(g!==a[0].length)throw{error:"columns(a) != rows(b); "+a[0].length+" != "+g};for(var i=new Array(e);++h<e;)for(i[h]=new Array(f),c=-1;++c<f;){var j=0;for(d=-1;++d<g;)j+=a[h][d]*b[d][c];i[h][c]=j}return i},science.lin.transpose=function(a){for(var b,c=a.length,d=a[0].length,e=-1,f=new Array(d);++e<d;)for(f[e]=new Array(c),b=-1;++b<c;)f[e][b]=a[b][e];return f},science.lin.tridag=function(a,b,c,d,e,f){var g,h;for(g=1;f>g;g++)h=a[g]/b[g-1],b[g]-=h*c[g-1],d[g]-=h*d[g-1];for(e[f-1]=d[f-1]/b[f-1],g=f-2;g>=0;g--)e[g]=(d[g]-c[g]*e[g+1])/b[g]}}(this),function(a){function b(a,b){if(!a||!b||a.length!==b.length)return!1;for(var c=a.length,d=-1;++d<c;)if(a[d]!==b[d])return!1;return!0}function c(a,c){var d=c.length;if(a>d)return null;for(var e,f,g,h=[],i=[],j={},k=0,l=0;a>l;){if(k===d)return null;var m=Math.floor(Math.random()*d);if(!(m in j)){for(j[m]=1,k++,f=c[m],g=!0,e=0;l>e;e++)if(b(f,h[e])){g=!1;break}g&&(h[l]=f,i[l]=m,l++)}}return h}function d(a,b,c,d){for(var e=[],f=a+c,g=b.length,h=-1;++h<g;)e[h]=(a*b[h]+c*d[h])/f;return e}function e(a){for(var b=a.length,c=-1;++c<b;)if(!isFinite(a[c]))return!1;return!0}function f(a){for(var b=a.length,c=0;++c<b;)if(a[c-1]>=a[c])return!1;return!0}function g(a){return(a=1-a*a*a)*a*a}function h(a,b,c,d){var e=d[0],f=d[1],g=i(b,f);if(g<a.length&&a[g]-a[c]<a[c]-a[e]){var h=i(b,e);d[0]=h,d[1]=g}}function i(a,b){for(var c=b+1;c<a.length&&0===a[c];)c++;return c}science.stats={},science.stats.bandwidth={nrd0:function(a){var b=Math.sqrt(science.stats.variance(a));return(lo=Math.min(b,science.stats.iqr(a)/1.34))||(lo=b)||(lo=Math.abs(a[1]))||(lo=1),.9*lo*Math.pow(a.length,-.2)},nrd:function(a){var b=science.stats.iqr(a)/1.34;return 1.06*Math.min(Math.sqrt(science.stats.variance(a)),b)*Math.pow(a.length,-0.2)}},science.stats.distance={euclidean:function(a,b){for(var c,d=a.length,e=-1,f=0;++e<d;)c=a[e]-b[e],f+=c*c;return Math.sqrt(f)},manhattan:function(a,b){for(var c=a.length,d=-1,e=0;++d<c;)e+=Math.abs(a[d]-b[d]);return e},minkowski:function(a){return function(b,c){for(var d=b.length,e=-1,f=0;++e<d;)f+=Math.pow(Math.abs(b[e]-c[e]),a);return Math.pow(f,1/a)}},chebyshev:function(a,b){for(var c,d=a.length,e=-1,f=0;++e<d;)c=Math.abs(a[e]-b[e]),c>f&&(f=c);return f},hamming:function(a,b){for(var c=a.length,d=-1,e=0;++d<c;)a[d]!==b[d]&&e++;return e},jaccard:function(a,b){for(var c=a.length,d=-1,e=0;++d<c;)a[d]===b[d]&&e++;return e/c},braycurtis:function(a,b){for(var c,d,e=a.length,f=-1,g=0,h=0;++f<e;)c=a[f],d=b[f],g+=Math.abs(c-d),h+=Math.abs(c+d);return g/h}},science.stats.erf=function(a){var b=.254829592,c=-.284496736,d=1.421413741,e=-1.453152027,f=1.061405429,g=.3275911,h=0>a?-1:1;0>a&&(h=-1,a=-a);var i=1/(1+g*a);return h*(1-((((f*i+e)*i+d)*i+c)*i+b)*i*Math.exp(-a*a))},science.stats.phi=function(a){return.5*(1+science.stats.erf(a/Math.SQRT2))},science.stats.kernel={uniform:function(a){return 1>=a&&a>=-1?.5:0},triangular:function(a){return 1>=a&&a>=-1?1-Math.abs(a):0},epanechnikov:function(a){return 1>=a&&a>=-1?.75*(1-a*a):0},quartic:function(a){if(1>=a&&a>=-1){var b=1-a*a;return.9375*b*b}return 0},triweight:function(a){if(1>=a&&a>=-1){var b=1-a*a;return 35/32*b*b*b}return 0},gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)},cosine:function(a){return 1>=a&&a>=-1?Math.PI/4*Math.cos(Math.PI/2*a):0}},science.stats.kde=function(){function a(a,e){var f=d.call(this,c);return a.map(function(a){for(var d=-1,e=0,g=c.length;++d<g;)e+=b((a-c[d])/f);return[a,e/f/g]})}var b=science.stats.kernel.gaussian,c=[],d=science.stats.bandwidth.nrd;return a.kernel=function(c){return arguments.length?(b=c,a):b},a.sample=function(b){return arguments.length?(c=b,a):c},a.bandwidth=function(b){return arguments.length?(d=science.functor(b),a):d},a},science.stats.kmeans=function(){function a(a){for(var g,h,i,j,k,l,m,n=a.length,o=[],p=[],q=1,r=0,s=c(f,a);q&&e>r;){for(i=-1;++i<f;)p[i]=0;for(h=-1;++h<n;){for(j=a[h],l=1/0,i=-1;++i<f;)k=d.call(this,s[i],j),l>k&&(l=k,m=i);p[o[h]=m]++}for(g=[],h=-1;++h<n;)if(j=o[h],k=g[j],null==k)g[j]=a[h].slice();else for(i=-1;++i<k.length;)k[i]+=a[h][i];for(i=-1;++i<f;)for(j=g[i],k=1/p[i],h=-1;++h<j.length;)j[h]*=k;for(q=0,i=-1;++i<f;)if(!b(g[i],s[i])){q=1;break}s=g,r++}return{assignments:o,centroids:s}}var d=science.stats.distance.euclidean,e=1e3,f=1;return a.k=function(b){return arguments.length?(f=b,a):f},a.distance=function(b){return arguments.length?(d=b,a):d},a},science.stats.hcluster=function(){function a(a){var e,f,g,h,i,j,k,l,m=a.length,n=[],o=[],p=[],q=[];for(k=-1;++k<m;)for(n[k]=0,p[k]=[],l=-1;++l<m;)p[k][l]=k===l?1/0:b(a[k],a[l]),p[k][n[k]]>p[k][l]&&(n[k]=l);for(k=-1;++k<m;)q[k]=[],q[k][0]={left:null,right:null,dist:0,centroid:a[k],size:1,depth:0},o[k]=1;for(i=0;m-1>i;i++){for(e=0,k=0;m>k;k++)p[k][n[k]]<p[e][n[e]]&&(e=k);f=n[e],g=q[e][0],h=q[f][0];var r={left:g,right:h,dist:p[e][f],centroid:d(g.size,g.centroid,h.size,h.centroid),size:g.size+h.size,depth:1+Math.max(g.depth,h.depth)};for(q[e].splice(0,0,r),o[e]+=o[f],l=0;m>l;l++)switch(c){case"single":p[e][l]>p[f][l]&&(p[l][e]=p[e][l]=p[f][l]);break;case"complete":p[e][l]<p[f][l]&&(p[l][e]=p[e][l]=p[f][l]);break;case"average":p[l][e]=p[e][l]=(o[e]*p[e][l]+o[f]*p[f][l])/(o[e]+o[l])}for(p[e][e]=1/0,k=0;m>k;k++)p[k][f]=p[f][k]=1/0;for(l=0;m>l;l++)n[l]==f&&(n[l]=e),p[e][l]<p[e][n[e]]&&(n[e]=l);j=r}return j}var b=science.stats.distance.euclidean,c="single";return a.distance=function(c){return arguments.length?(b=c,a):b},a},science.stats.iqr=function(a){var b=science.stats.quantiles(a,[.25,.75]);return b[1]-b[0]},science.stats.loess=function(){function a(a,i,j){var k,l=a.length;if(l!==i.length)throw{error:"Mismatched array lengths"};if(0==l)throw{error:"At least one point required."};if(arguments.length<3)for(j=[],k=-1;++k<l;)j[k]=1;if(e(a),e(i),e(j),f(a),1==l)return[i[0]];if(2==l)return[i[0],i[1]];var m=Math.floor(b*l);if(2>m)throw{error:"Bandwidth too small."};var n=[],o=[],p=[];for(k=-1;++k<l;)n[k]=0,o[k]=0,p[k]=1;for(var q=-1;++q<=c;){var r,s=[0,m-1];for(k=-1;++k<l;){r=a[k],k>0&&h(a,j,k,s);for(var t=s[0],u=s[1],v=a[k]-a[t]>a[u]-a[k]?t:u,w=0,x=0,y=0,z=0,A=0,B=Math.abs(1/(a[v]-r)),C=t;u>=C;++C){var D=a[C],E=i[C],F=k>C?r-D:D-r,G=g(F*B)*p[C]*j[C],H=D*G;w+=G,x+=H,y+=D*H,z+=E*G,A+=E*H}var I=x/w,J=z/w,K=A/w,L=y/w,M=Math.sqrt(Math.abs(L-I*I))<d?0:(K-I*J)/(L-I*I),N=J-M*I;n[k]=M*r+N,o[k]=Math.abs(i[k]-n[k])}if(q===c)break;var O=science.stats.median(o);if(Math.abs(O)<d)break;var P,G;for(k=-1;++k<l;)P=o[k]/(6*O),p[k]=P>=1?0:(G=1-P*P)*G}return n}var b=.3,c=2,d=1e-12;return a.bandwidth=function(c){return arguments.length?(b=c,a):c},a.robustnessIterations=function(b){return arguments.length?(c=b,a):b},a.accuracy=function(b){return arguments.length?(d=b,a):b},a},science.stats.mean=function(a){var b=a.length;if(0===b)return NaN;for(var c=0,d=-1;++d<b;)c+=(a[d]-c)/(d+1);return c},science.stats.median=function(a){return science.stats.quantiles(a,[.5])[0]},science.stats.mode=function(a){for(var b,c,d={},e=[],f=0,g=a.length,h=-1;++h<g;)c=d.hasOwnProperty(b=a[h])?++d[b]:d[b]=1,c===f?e.push(b):c>f&&(f=c,e=[b]);return 1===e.length?e[0]:void 0},science.stats.quantiles=function(a,b){a=a.slice().sort(science.ascending);var c=a.length-1;return b.map(function(b){if(0===b)return a[0];if(1===b)return a[c];var d=1+b*c,e=Math.floor(d),f=d-e,g=a[e-1];return 0===f?g:g+f*(a[e]-g)})},science.stats.variance=function(a){var b=a.length;if(1>b)return NaN;if(1===b)return 0;for(var c=science.stats.mean(a),d=-1,e=0;++d<b;){var f=a[d]-c;e+=f*f}return e/(b-1)},science.stats.distribution={},science.stats.distribution.gaussian=function(){function a(){var a,e,f;do a=2*b()-1,e=2*b()-1,f=a*a+e*e;while(f>=1||0===f);return c+d*a*Math.sqrt(-2*Math.log(f)/f)}var b=Math.random,c=0,d=1,e=1;return a.pdf=function(a){return a=(a-c)/d,science_stats_distribution_gaussianConstant*Math.exp(-.5*a*a)/d},a.cdf=function(a){return a=(a-c)/d,.5*(1+science.stats.erf(a/Math.SQRT2))},a.mean=function(b){return arguments.length?(c=+b,a):c},a.variance=function(b){return arguments.length?(d=Math.sqrt(e=+b),a):e},a.random=function(c){return arguments.length?(b=c,a):b},a},science_stats_distribution_gaussianConstant=1/Math.sqrt(2*Math.PI)}(this)}(this)},{}],365:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.5.1";var A=z.each=z.forEach=function(a,b,c){if(null!=a)if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g in a)if(z.has(a,g)&&b.call(c,a[g],g,a)===e)return};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,function(a){return a[b]})},z.where=function(a,b,c){return z.isEmpty(b)?c?void 0:[]:z[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},z.findWhere=function(a,b){return z.where(a,b,!0)},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&z.isEmpty(a))return-(1/0);var d={computed:-(1/0),value:-(1/0)};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&z.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d};var D=function(a){return z.isFunction(a)?a:function(b){return b[a]}};z.sortBy=function(a,b,c){var d=D(b);return z.pluck(z.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var E=function(a,b,c,d){var e={},f=D(null==b?z.identity:b);return A(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};z.groupBy=function(a,b,c){return E(a,b,c,function(a,b,c){(z.has(a,b)?a[b]:a[b]=[]).push(c)})},z.countBy=function(a,b,c){return E(a,b,c,function(a,b){z.has(a,b)||(a[b]=0),a[b]++})},z.sortedIndex=function(a,b,c,d){c=null==c?z.identity:D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null!=a?null==b||c?a[0]:j.call(a,0,b):void 0},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null!=a?null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0)):void 0},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.indexOf(b,a)>=0})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return function(){var c=[a];return i.apply(c,arguments),b.apply(this,c)}},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){var b=[];for(var c in a)z.has(a,c)&&b.push(a[c]);return b},z.pairs=function(a){var b=[];for(var c in a)z.has(a,c)&&b.push([c,a[c]]);return b},z.invert=function(a){var b={};for(var c in a)z.has(a,c)&&(b[a[c]]=c);return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;
case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null!=a){var c=a[b];return z.isFunction(c)?c.call(a):c}},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}]},{},[84]);